{"version":3,"sources":["components/messenger/dialogs/Settings/checkbox.module.css","components/messenger/chatField/chat/MessageList/MessageList.module.css","components/messenger/chatField/talks/talkItem.module.css","components/messenger/chatField/chat/workSpace/workspace.module.css","components/messenger/dialogs/mobileMessenger/mobile.module.css","components/messenger/chatField/chat/MessageListItem/mobile.module.css","components/messenger/chatField/chat/Companion/mobileCompanion.module.css","components/mobile/NavBar/Navbar.module.css","components/welcomepage/loginpage.module.css","components/messenger/dialogs/dialogItem/mobileDialogItem.module.css","components/messenger/dialogs/Settings/notificationSettings/notifications.module.css","components/messenger/dialogs/Settings/privateSettings/private.module.css","components/Loader.module.css","components/messenger/dialogs/Settings/profileSettings/profileSetting.module.css","components/welcomepage/loginpageMobile.module.css","components/messenger/chatField/chat/MessageListItem/MessageListItem.module.css","components/messenger/chatField/talks/talks.module.css","components/messenger/dialogs/Search/Search.module.css","components/messenger/dialogs/Settings/Settings.module.css","components/welcomepage/passwordRecover.module.css","components/messenger/dialogs/dialogItem/dialogItem.module.css","components/messenger/chatField/chat/ChatWindow/MainWindow.module.css","components/messenger/chatField/chat/MessageList/mobile.module.css","components/messenger/dialogs/dialogItem/unnamed.jpg","components/messenger/dialogs/dialogItem/DialogItem.jsx","components/store/searchReducer.js","components/constructor.js","components/messenger/dialogs/Search/Search.jsx","components/messenger/dialogs/Search/unnamed.jpg","components/messenger/dialogs/Settings/profileSettings/ProfileSettings.jsx","components/messenger/dialogs/Settings/profileSettings/unnamed.jpg","components/messenger/dialogs/Settings/CheckBox.jsx","components/store/UIReducer.js","components/messenger/dialogs/Settings/notificationSettings/NotificationSettings.jsx","components/messenger/dialogs/Settings/privateSettings/PrivateSettings.jsx","components/messenger/dialogs/Settings/UISettings/UISettings.jsx","components/messenger/dialogs/Settings/arrowBack.svg","components/messenger/dialogs/Settings/general.svg","components/messenger/dialogs/Settings/logout.svg","components/messenger/dialogs/Settings/notifications.svg","components/messenger/dialogs/Settings/privacy.svg","components/messenger/dialogs/Settings/profile.svg","components/messenger/dialogs/Settings/Settings.jsx","components/messenger/chatField/chat/MessageListItem/MessageListItem.jsx","components/messenger/chatField/chat/MessageList/messageList.jsx","components/messenger/chatField/chat/Companion/unnamed.jpg","components/messenger/chatField/chat/Companion/companionSettings.svg","components/messenger/chatField/chat/Companion/arrowBack.svg","components/messenger/chatField/chat/Companion/Companion.jsx","chatAPI.js","components/messenger/chatField/chat/ChatWindow/attach.svg","components/messenger/chatField/chat/ChatWindow/mainDialogWindow.jsx","components/messenger/chatField/talks/talksItem.jsx","components/messenger/chatField/talks/arrowBack.svg","components/messenger/chatField/talks/talks.jsx","components/messenger/chatField/talks/unnamed.jpg","components/particlesParams.js","components/messenger/chatField/chat/workSpace/workSpace.jsx","components/messenger/dialogs/mobileMessenger/MMessenger.jsx","components/store/talksReducer.js","components/messenger/dialogs/dialogField/settings.svg","components/messenger/dialogs/dialogField/DialogField.jsx","components/messenger/dialogs/dialogField/unnamed.jpg","components/mobile/NavBar/chatbubbles.svg","components/mobile/NavBar/person.svg","socket.js","imagesAndSounds/meow.mp3","messenger.jsx","components/Loader.jsx","components/welcomepage/RegPage.jsx","components/welcomepage/logInPage.jsx","components/welcomepage/passwordRecoveryPage.jsx","components/images/logo.png","components/welcomepage/WelcomePage.jsx","App.js","components/store/settingsReducer.js","components/store/userReducer.js","components/store/allMessagesReducer.js","components/store/companionMenuReducer.js","components/store/attachMenuReducer.js","components/store/store.js","index.js","components/messenger/dialogs/Settings/UISettings/UISettings.module.css","components/messenger/dialogs/dialogField/dialogsField.module.css","components/messenger/chatField/chat/Companion/companion.module.css","components/messenger/dialogs/dialogField/mobile.module.css"],"names":["module","exports","DialogItem","id","name","index","lastTalk","changeDialog","current","unreadCount","online","otherMembers","currentDialog","useSelector","state","user","className","isMobile","result","classes","dialogItem","currentItem","mobile","dialogItemM","mainClassesHandler","onClick","left","avatar","src","length","avatar_id","unnamed","alt","style","display","isOnline","dialogItemText","nameContainer","lastMessageContainer","lastMessage","dot","opacity","defaultState","activeInput","value","names","DISABLE_NAMES","SHOW_NAMES","SEARCH_INPUT_CHANGE","CHANGE_NAMES","changeSearchInput","payload","type","Dialog","this","last_message","other_members","Member","avatarID","userStatus","user_status","Message","sender","date","center","Talk","title","Separator","Math","random","isYesterday","returnToday","Date","now","formatData","valueOf","abs","getFullYear","getDate","getMonth","nowDay","nowMonth","dateDay","dateMonth","includes","Month","split","join","isCurrentDay","formatedDate","Search","settings","useState","setNames","searchInput","search","dialogs","dispatch","useDispatch","addUser","axios","method","url","data","members","then","res","console","log","status","alert","catch","error","searchBox","searchBoxM","e","stopPropagation","searchInputM","onFocus","placeholder","onChange","target","params","users","dropDownList","map","srcPath","searchUser","searchItem","SearchItem","searchImage","height","width","borderRadius","ProfileSettings","validName","setValidName","photo","setPhoto","preview","setPreview","password1","password2","bio","settingsForm","setSettings","avatarChanger","photoURL","files","previewURL","URL","createObjectURL","inputFile","htmlFor","userPhoto","form","FormData","append","post","headers","window","location","reload","ProfileSettingsField","inputBox","profileInput","color","required","userName","settingsLabel","bioLabel","CheckBox","setValue","children","settingContainer","checkBoxContainer","slider","checked","fontSize","backgroundColorMessage","backgroundColorWindow","sound","SET_FONT","SET_BACKGROUNDMESSAGE","SET_BACKGROUNDCOLOR","SET_TEXT_COLOR","SET_SOUND","NotificationSettings","setSound","UI","useEffect","notification","PrivateSettings","email","setEmail","setBio","age","setAge","private","UISettings","font","uisettings","fontChanger","fontSizer","max","min","step","container","Settings","setSettingsWindow","setLoggedOut","buttons","setButtons","setSetting","NOTIFICATIONS","PROFILE","PRIVATE","backButtonPlace","backButton","arrowBack","settingButton","general","profile","notifications","privacy","href","logout","mobileButton","MessageListItem","from","time","styles","classHandler","senderIsUser","right","msgListItemM","messageContent","msgListItem","text","msgListItemAttach","imageAttachM","imageAttach","msgListItemVideo","position","duration","MessageList","active","getMessages","list","useRef","scrollIsActive","setActiveScroll","messages","talks","currentTalk","scrollToggler","messageFetching","condition","a","currentTalkIndex","findIndex","element","fetchCurrentTalk","_messages","separator","scrollTo","top","behavior","paddingInline","ref","MessageListNoScroll","onScroll","scrollHeight","scrollTop","clientHeight","onMouseOver","onMouseOut","msgItem","Companion","companion","setActive","setMobileMenu","find","dialog","talksIsActive","checkProfile","setTimeout","companionM","companionInfo","companionButton","CHATS","action","marginLeft","date_visit","companionButtons","talkButton","talkId","talk_id","undefined","response","Promise","resolve","reject","reverse","getTalks","dialog_id","createTalk","dialogID","sendMessage","messageText","sender_id","message_type","MainWindow","setActiveTalkMenu","textareaRef","setMessageText","attachIsActive","attachMenu","sendMessageLocal","preventDefault","filter","item","mediaHandler","file","onSelectFile","file_id","dialogWindow","marginInline","visibility","txtArea","wInputContainer","wrapper","onKeyDown","code","attachButton","inputAttachment","attach","dropDownMenu","dropDownMenuItem","sendButton","TalkItem","talkItem","currentTalkItem","Talks","border","talksHead","talksItems","noTalkItem","talk","companionInfoItem","snow","particles","coolSnow","WorkSpace","activeMenu","setActiveRightMenu","workTree","MMessenger","currentWindow","unread_count","SETTINGS","MESSENGER","SET_TALKS","SET_CURRENT_TALK","SET_LAST_TALK","setCurrentTalk","setLastTalk","byField","field","b","LOGOUT","DialogsField","mobileMenu","document","getElementById","rightColumg","handler","rightMouseDown","onmousemove","rightElementDrag","onmouseup","closeDragElement","event","clientX","addEventListener","lastTalkIndex","sortedTalks","sort","totalMessages","loadedTalkId","nextMessages","newTalk","Dialogs","navbar","topSelect","get","changeWindow","DialogList","handlerRight","dialogFieldSBox","dropDownMenuButton","settingsIMG","userInfo","userAvatar","socket","io","Messenger","useSound","meow","volume","meowSound","blurInput","setResponse","setUserStatus","newDialog","setNewDialog","setNewTalk","on","_dialogs","_talks","_dialog","message_id","visibilityState","emit","Loader","ldsDualDing","re","RegPage","setFlash","login","password","logPassword","setForm","nameIsOccupied","nameValid","setNameValid","warning","setWarning","history","useHistory","authForm","regForm","authFormM","formInput","test","String","toLowerCase","marginBottom","to","LoginPageButton","margin","padding","push","pathname","flash","info","disabled","LogIn","setLoggedIn","forgotSmth","setForgotsmth","useLocation","trim","authFormDiv","authFormDivM","flashMessage","LoginPageButtonM","PasswordRecoveryPage","passwordRecovery","recoveryPage","recoveryFormItem","buttonsM","WelcomePage","setUser","flashMsg","setFlashMsg","loginPage","header","logo","exact","path","component","registrationBlock","particlesDiv","loginPageAvatar","loginLogo","loginPageText","ButtonText","regButton","App","userIsLoggedIn","setUserLoggedIn","is_auth","backgroundColor","DISABLE_MENU","ABLE_MENU","SET_USER","SET_USER_ID","SET_USER_NAME","SET_USER_DIALOGS","SET_USER_CURRENT_DIALOG","SET_USER_PHOTO","SET_MESSAGES","SET_ACTIVE","SET_DISABLED","SET_TALKS_ACTIVE","SET_TALKS_DISABLED","SET_ATTACH_ACTIVE","SET_ATTACH_DISABLED","rootReducer","combineReducers","store","createStore","ReactDOM","render"],"mappings":"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","file":"static/js/main.346c81ed.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"private\":\"checkbox_private__1gYWn\",\"settingContainer\":\"checkbox_settingContainer__1mU5V\",\"checkBoxContainer\":\"checkbox_checkBoxContainer__3muNb\",\"slider\":\"checkbox_slider__1G1c5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MessageList\":\"MessageList_MessageList__2p7Fr\",\"MessageListNoScroll\":\"MessageList_MessageListNoScroll__2Bqnu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"talkItem\":\"talkItem_talkItem__2LEVI\",\"currentTalkItem\":\"talkItem_currentTalkItem__3CtfP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"workTree\":\"workspace_workTree__ziAfF\",\"particles\":\"workspace_particles__bFWZn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MMessenger\":\"mobile_MMessenger__1-ciL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageAttachM\":\"mobile_imageAttachM__17OgG\",\"msgListItemM\":\"mobile_msgListItemM__29eGU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"companionM\":\"mobileCompanion_companionM__2WHN1\",\"companionButton\":\"mobileCompanion_companionButton__2m-i8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__30Jrl\",\"none\":\"Navbar_none__1wgRS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginPage\":\"loginpage_loginPage__38Rh1\",\"particlesDiv\":\"loginpage_particlesDiv__3W54a\",\"loginPageAvatar\":\"loginpage_loginPageAvatar__2VizU\",\"authForm\":\"loginpage_authForm__185ue\",\"authFormDiv\":\"loginpage_authFormDiv__1R-9k\",\"regForm\":\"loginpage_regForm__2egfz\",\"formInput\":\"loginpage_formInput__3gyrU\",\"buttons\":\"loginpage_buttons__1cusU\",\"LoginPageButton\":\"loginpage_LoginPageButton__3sTev\",\"regButton\":\"loginpage_regButton__2zc1Z\",\"flashMessage\":\"loginpage_flashMessage__3EU5x\",\"loginPageText\":\"loginpage_loginPageText__2B9kO\",\"ButtonText\":\"loginpage_ButtonText__1-tXb\",\"loginLogo\":\"loginpage_loginLogo__1DdQE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogItemM\":\"mobileDialogItem_dialogItemM__2K4cQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notification\":\"notifications_notification__3g447\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"private\":\"private_private__2Yz87\",\"settingContainer\":\"private_settingContainer__32VlV\",\"checkBoxContainer\":\"private_checkBoxContainer__crE7u\",\"slider\":\"private_slider__1LQJE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ldsDualDing\":\"Loader_ldsDualDing__mXFmd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProfileSettings\":\"profileSetting_ProfileSettings__1Osx7\",\"bio\":\"profileSetting_bio__1SHu1\",\"inputBox\":\"profileSetting_inputBox__TcNKG\",\"profileInput\":\"profileSetting_profileInput__2LfPe\",\"ProfileSettingsField\":\"profileSetting_ProfileSettingsField__3PU5v\",\"settingsLabel\":\"profileSetting_settingsLabel__2aAsZ\",\"bioLabel\":\"profileSetting_bioLabel__36tjU\",\"avatarChanger\":\"profileSetting_avatarChanger__15pto\",\"inputFile\":\"profileSetting_inputFile__3CCgD\",\"userPhoto\":\"profileSetting_userPhoto__2h1_B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"loginpageMobile_header__1Rl-v\",\"loginPage\":\"loginpageMobile_loginPage__q8f0A\",\"authFormM\":\"loginpageMobile_authFormM__2e507\",\"authFormDivM\":\"loginpageMobile_authFormDivM__a4WJ_\",\"LoginPageButtonM\":\"loginpageMobile_LoginPageButtonM__QYlPN\",\"registrationBlock\":\"loginpageMobile_registrationBlock__3tJZ1\",\"recoveryPage\":\"loginpageMobile_recoveryPage__1Ojwc\",\"buttonsM\":\"loginpageMobile_buttonsM__3UtYo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"msgListItem\":\"MessageListItem_msgListItem__3Y0ZJ\",\"right\":\"MessageListItem_right__3F495\",\"center\":\"MessageListItem_center__3kLeH\",\"left\":\"MessageListItem_left__5NaCu\",\"msgListItemAttach\":\"MessageListItem_msgListItemAttach__1xsqK\",\"msgListItemVideo\":\"MessageListItem_msgListItemVideo__jpvjP\",\"time\":\"MessageListItem_time__1Y_Zc\",\"imageAttach\":\"MessageListItem_imageAttach__1A5Hk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"talks\":\"talks_talks__3iU0k\",\"talksItems\":\"talks_talksItems__2MoAk\",\"talksHead\":\"talks_talksHead__2Tcbf\",\"noTalkItem\":\"talks_noTalkItem__GwLs-\",\"companionInfo\":\"talks_companionInfo__2cHyU\",\"companionInfoItem\":\"talks_companionInfoItem__2cmJ5\",\"backButton\":\"talks_backButton__u9XbG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBox\":\"Search_searchBox__1UN8S\",\"searchInput\":\"Search_searchInput__C1E6a\",\"dropDownList\":\"Search_dropDownList__30Ch4\",\"searchItem\":\"Search_searchItem__2waLf\",\"isOnline\":\"Search_isOnline__9KdFE\",\"searchImage\":\"Search_searchImage__2xxnc\",\"searchBoxM\":\"Search_searchBoxM__2kr9S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"Settings_settings__5MMiW\",\"backButtonPlace\":\"Settings_backButtonPlace__2SAAn\",\"backButton\":\"Settings_backButton__39lmX\",\"buttons\":\"Settings_buttons__2SUm4\",\"settingButton\":\"Settings_settingButton__3QEA3\",\"mobileButton\":\"Settings_mobileButton__2lo3_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"recoveryPage\":\"passwordRecover_recoveryPage__1cYk0\",\"recoveryFormItem\":\"passwordRecover_recoveryFormItem__2ec0X\",\"formInput\":\"passwordRecover_formInput__2IUPR\",\"LoginPageButton\":\"passwordRecover_LoginPageButton__2auvH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogItem\":\"dialogItem_dialogItem__1vQgO\",\"currentItem\":\"dialogItem_currentItem__3m2gC\",\"avatar\":\"dialogItem_avatar__1gz_z\",\"dialogItemText\":\"dialogItem_dialogItemText__1PXB0\",\"left\":\"dialogItem_left__35l8S\",\"dot\":\"dialogItem_dot__3-_No\",\"lastMessageContainer\":\"dialogItem_lastMessageContainer__Gg4kz\",\"lastMessage\":\"dialogItem_lastMessage__oS6F2\",\"nameContainer\":\"dialogItem_nameContainer__1F5H2\",\"isOnline\":\"dialogItem_isOnline__2saCs\",\"inactive\":\"dialogItem_inactive__2KmLn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogWindow\":\"MainWindow_dialogWindow__cFnRE\",\"txtArea\":\"MainWindow_txtArea__24awv\",\"messageText\":\"MainWindow_messageText__3gc7V\",\"wInputContainer\":\"MainWindow_wInputContainer__1Wl9G\",\"attachButton\":\"MainWindow_attachButton__Z6d-T\",\"inputAttachment\":\"MainWindow_inputAttachment__1KlpW\",\"wInputTextGroup\":\"MainWindow_wInputTextGroup__3hbz2\",\"wPlaceholder\":\"MainWindow_wPlaceholder__24uXl\",\"wrapper\":\"MainWindow_wrapper__3YoC7\",\"wInputText\":\"MainWindow_wInputText__vsBKV\",\"sendButton\":\"MainWindow_sendButton__2JXv6\",\"wtf\":\"MainWindow_wtf__2lorL\",\"dropDownMenu\":\"MainWindow_dropDownMenu__1Dq-e\",\"appear\":\"MainWindow_appear__Dtiqm\",\"dropDownMenuItem\":\"MainWindow_dropDownMenuItem__1LzEq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messageListM\":\"mobile_messageListM__1ISy4\"};","export default \"data:image/jpeg;base64,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\"","import React, {useEffect} from 'react'\r\nimport { isMobile } from 'react-device-detect'\r\nimport {useSelector} from 'react-redux'\r\n\r\nimport classes from './dialogItem.module.css'\r\nimport mobile from './mobileDialogItem.module.css'\r\nimport unnamed from './unnamed.jpg'\r\n\r\nconst DialogItem = ({id, index, name, lastTalk, changeDialog, current, unreadCount, online, otherMembers}) => {\r\n\r\n    const currentDialog = useSelector(state => state.user.currentDialog)\r\n\r\n    const sendID = () => {\r\n        changeDialog(id)\r\n    }\r\n\r\n    const getAvatar = () => {\r\n        if(otherMembers?.length === 1){\r\n            if(otherMembers[0].avatar_id) return '/get_file?file_id=' + otherMembers[0].avatar_id + '&purpose=avatar'\r\n            else return unnamed\r\n        } else return unnamed\r\n        \r\n    }\r\n\r\n    const mainClassesHandler = (current, isMobile) => {\r\n        let result = classes.dialogItem\r\n        if (current) {\r\n            result += ' ' + classes.currentItem \r\n        }\r\n        if (isMobile) {\r\n            result += ' ' + mobile.dialogItemM\r\n        }\r\n        return result\r\n    }\r\n\r\n    return (\r\n        <div className={mainClassesHandler(current, isMobile)} onClick={sendID}>\r\n            <div className={classes.left}>\r\n                <div className={classes.avatar}>\r\n                    <img src={getAvatar()} alt=''/>\r\n                    <span style={{display: online ? 'flex' : 'none'}} className={classes.isOnline}>•</span>\r\n                </div>\r\n                <div className={classes.dialogItemText}>\r\n                    <div className={classes.nameContainer}>\r\n                        <h3>{name}</h3>\r\n                    </div>\r\n                    <div className={classes.lastMessageContainer}>\r\n                        <p className={classes.lastMessage}>{lastTalk}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className={classes.dot} style={{opacity: unreadCount && (currentDialog !== id) ? '1' : '0'}}>\r\n                {unreadCount}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DialogItem;","const defaultState = {\r\n    activeInput: false,\r\n    value: '',\r\n    names: []\r\n}\r\n\r\nconst DISABLE_NAMES = 'DISABLE_NAMES'\r\nconst SHOW_NAMES = 'SHOW_NAMES'\r\nconst SEARCH_INPUT_CHANGE = 'searchInputChange'\r\nconst CHANGE_NAMES = 'changeNames'\r\n\r\nexport const searchReducer = (state = defaultState, action) => {\r\n    switch(action.type){\r\n        case DISABLE_NAMES: \r\n            return {...state, activeInput: false}\r\n        case SHOW_NAMES:\r\n            return {...state, activeInput: true}\r\n        case SEARCH_INPUT_CHANGE:\r\n            return {...state, value: action.payload}\r\n        case CHANGE_NAMES:\r\n            return {...state, names: action.payload}\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport const disableNames = () => ({type: DISABLE_NAMES})\r\nexport const showNames = () => ({type: SHOW_NAMES})\r\nexport const changeSearchInput = (payload) => ({type: SEARCH_INPUT_CHANGE, payload})\r\nexport const changeNames = (payload) => ({type: CHANGE_NAMES, payload})","export function Dialog(id, lastMessage, otherMembers) {\r\n    if (!new.target) {\r\n        return new Dialog(id, lastMessage, otherMembers); \r\n    }\r\n    this.id = id\r\n    this.last_message = lastMessage\r\n    this.other_members = otherMembers\r\n}\r\n\r\nexport function Member(avatarID, name, userStatus) {\r\n    if (!new.target) {\r\n        return new Member(avatarID, name, userStatus); \r\n    }\r\n    this.avatar_id = avatarID\r\n    this.name = name\r\n    this.user_status = userStatus\r\n}\r\n\r\nexport function Message(id, sender, value, date, type='text') {\r\n    if (!new.target) {\r\n        return new Message(id, sender, value, date, type); \r\n    }\r\n    this.sender = sender\r\n    this.value = value\r\n    this.date = date \r\n    this.id = id\r\n    this.center = false\r\n    this.type = type\r\n}\r\n\r\nexport function Talk(id, title, date) {\r\n    if (!new.target) {\r\n        return new Talk(id, title, date); \r\n    }\r\n    this.id = id\r\n    this.title = title\r\n    this.date = date\r\n    // this.isCurrentDay = (date) => {\r\n    //     const now = new Date()\r\n    //     const formatedDate = new Date(date)\r\n    //     return (now.valueOf() - formatedDate.valueOf() < 24 * 60 * 60 * 1000)\r\n    // }\r\n}\r\n\r\nexport function Separator(value) {\r\n    if (!new.target) {\r\n        return new Separator(value); \r\n    }\r\n    this.sender = null\r\n    this.center = true\r\n    this.value = value\r\n    this.date = ''\r\n    this.type = 'text'\r\n    this.id = Math.random()* 10000\r\n}\r\n\r\nexport function isYesterday(date, returnToday) {\r\n    date = new Date(date)\t\r\n    let now = new Date()\r\n    if(returnToday) return formatData(now)\r\n    if(date.valueOf() > now.valueOf()) return formatData(date)\r\n    if(Math.abs(date.getFullYear() - now.getFullYear()) == 1){\r\n        if(now.getDate == 1 && now.getMonth() == 0 && date.getDate() == 31 && date.getMonth() == 11) {\r\n            return 'Yesterday'\r\n        } else return formatData(date)\r\n    } else if(Math.abs(date.getFullYear() - now.getFullYear()) > 1) return formatData(date)\r\n    let nowDay = now.getDate()\r\n    let nowMonth = now.getMonth()\r\n    let dateDay = date.getDate()\r\n    let dateMonth = date.getMonth()\r\n    if(Math.abs(nowDay - dateDay) == 1) return 'Yesterday'\r\n    else {\r\n        if([30,29].includes(dateDay - nowDay) && Math.abs(nowMonth - dateMonth) == 1)\r\n            return 'Yesterday'\r\n        else return formatData(date)\r\n    }\r\n\r\n    function formatData(date) {\r\n        const Month = 'January, February, March, April, May, June, July, August, September, October, November, December'.split(', ')\r\n        const now = new Date()\r\n        if(date.getFullYear() != now.getFullYear())\r\n            return [date.getDate(), Month[date.getMonth()], date.getFullYear()].join(' ')\r\n        else return [date.getDate(), Month[date.getMonth()]].join(' ')\r\n\r\n    }\r\n}\r\n\r\nexport function isCurrentDay(date){\r\n    const now = new Date()\r\n    const formatedDate = new Date(date)\r\n    return (now.valueOf() - formatedDate.valueOf() < 24 * 60 * 60 * 1000)\r\n}\r\n\r\n// { Message Configuration\r\n//     date: \"15:56\" (str)                  | время отправления \r\n//     id: 168 (Number)                     | уникальный id сообщения\r\n//     sender: 4 (Number)                   | id отправителя\r\n//     type: \"text\" (str)                   | тип сообщения\r\n//     value: \"ghkl\" (str (text,url))   | само сообщение (картинка или текст)\r\n//     center: 1 (bool)                     | Сепаратор это или нет\r\n// }\r\n\r\n// { Talk Configuration\r\n//     date: \"2021-11-11 16:24:27.241678\" (date,str)    | дата создания разговора\r\n//     id: 2 (number)                                   | уникальный id разговора\r\n//     title: \"dota3\" (str)                             | Название разговора\r\n// }\r\n\r\n// { Dialog Configuration \r\n//     id: 1 (Number)                                   | уникальный id диалога\r\n//     last_message: \"ghkl\" (str or null)               | последнее сообщение в диалоге\r\n//     other_members: [{…}] (array of Member Objects)   | массив участников диалога\r\n//     unread_count: 0 (Number)                         | количество непрочитанных сообщений\r\n// }\r\n\r\n// { Member Configuration\r\n//     avatar_id: null (Number or null)                     | id аватара участника диалога (/get_file?file_id=${id})\r\n//     date_visit: \"2021-12-03 01:52:24.622846\" (date, str) | время последнего посещения\r\n//     name: \"dumka\" (str)                                  | имя участника диалога\r\n//     user_status: 1 (bool)                                | его статус (в сети или нет)\r\n// }","import React, {useState} from 'react'\r\nimport { isMobile } from 'react-device-detect';\r\n\r\nimport axios from 'axios'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { changeNames, changeSearchInput } from '../../../store/searchReducer';\r\n\r\nimport {Member, Dialog} from '../../../constructor'\r\n\r\nimport classes from './Search.module.css'\r\nimport unnamed from './unnamed.jpg'\r\n\r\nconst Search = ({settings}) => {\r\n    const [names, setNames] = useState([])\r\n\r\n    const user = useSelector(state => state.user)\r\n    const searchInput = useSelector(state => state.search.value)\r\n    const activeInput = useSelector(state => state.search.activeInput)\r\n    const dialogs = useSelector(state => state.user.dialogs)\r\n    const dispatch = useDispatch()\r\n\r\n    const search = (e) => {\r\n        if(e.target.value.length !== 0){\r\n            axios({\r\n                method: 'get',\r\n                url: '/search_user',\r\n                params: {\r\n                    value: e.target.value\r\n                }\r\n            })\r\n            .then(res => {\r\n                console.log(res.data)\r\n                setNames(res.data.users)\r\n                dispatch(changeNames(res.data.users))\r\n            })\r\n            .catch(error => console.log(error))\r\n        } else setNames([])\r\n\r\n        dispatch(changeSearchInput(e.target.value))\r\n    }\r\n\r\n    const addUser = (name, id) => {\r\n        axios({\r\n            method: 'post',\r\n            url: \"/create_dialog\",\r\n            data: {\r\n                title: name,\r\n                members: [user.id, id]\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(name, res.data.id)\r\n            if(res.data.status === 0)dispatch({ type: 'setUserDialogs', payload: [...dialogs, new Dialog(res.data.id, null, [new Member(null, name, 0)])] })\r\n            else if(res.data.status === 1) alert('диалог занят')\r\n            else if(res.data.status === 666) alert('Ошибка')\r\n        })\r\n        .catch(error => console.log(error))\r\n    }\r\n\r\n    function getAvatar(id) {\r\n        return id ? '/get_file?file_id=' + id : unnamed\r\n    }\r\n\r\n    return (\r\n        <div className={isMobile ? classes.searchBox + ' ' + classes.searchBoxM: classes.searchBox}>\r\n            <input  onClick={(e) => (e.stopPropagation())} \r\n                    style={{opacity: settings ? 0 : 1}} \r\n                    className={isMobile ? classes.searchInput + ' ' + classes.searchInputM : classes.searchInput} \r\n                    onFocus={() => (dispatch({type: 'SHOW_NAMES'}))} \r\n                    placeholder=\"Search\" \r\n                    value={searchInput} \r\n                    onChange={search}/>\r\n            <div className={classes.dropDownList} style={{display: searchInput.length && activeInput && !isMobile ? 'flex' : 'none'}}>\r\n                <ul>\r\n                    {names.length && !isMobile\r\n                    ? names.map((name) => (\r\n                        <SearchItem key={name.id} \r\n                                    srcPath={getAvatar(name.avatar_id)} \r\n                                    name={name.name} \r\n                                    id={name.id} \r\n                                    searchUser={addUser} \r\n                                    isOnline={name.user_status}/>\r\n                    )) \r\n                    : <li style={{display: isMobile ? 'none': 'block'}} className={classes.searchItem}>Пользователь не найден</li>}\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Search\r\n\r\nconst SearchItem = ({srcPath, name, id, searchUser, isOnline}) => {\r\n    return (\r\n    <li className={classes.searchItem} onClick={() => {searchUser(name, id)}}>\r\n        <div className={classes.searchImage}>\r\n            <img    height='30' \r\n                    width='30' \r\n                    style={{borderRadius: '75%'}} \r\n                    src={srcPath} alt=''/>\r\n            <span style={{display: isOnline ? 'flex': 'none'}} className={classes.isOnline}>•</span>\r\n        </div>\r\n        <p>{name}</p>\r\n    </li>\r\n    )\r\n}\r\n","export default \"data:image/jpeg;base64,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\"","import React, {useState} from 'react'\r\nimport axios from 'axios'\r\nimport {useSelector} from 'react-redux'\r\n\r\nimport classes from './profileSetting.module.css'\r\nimport unnamed from './unnamed.jpg'\r\n\r\nconst ProfileSettings = () => {\r\n    const user = useSelector(state => state.user)\r\n\r\n    const [validName, setValidName] = useState(true)\r\n    const [photo, setPhoto] = useState(null)\r\n    const [preview, setPreview] = useState(null)\r\n    const [settingsForm, setSettings] = useState({\r\n        name: user.name,\r\n        password1: '',\r\n        password2: '',\r\n        bio: user.bio\r\n    })\r\n\r\n    const checkName = (e) => {\r\n        setSettings({...settingsForm, name: e.target.value})\r\n        if(e.target.value !== user.name){\r\n            axios({\r\n                method: 'get',\r\n                url: '/check_name',\r\n                params: {\r\n                    userName: e.target.value\r\n                },\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                    // 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.54 Safari/537.36'\r\n                }\r\n            }).then(res => {\r\n                setValidName(res.data.status)\r\n            }).catch(error => alert(error))\r\n        }\r\n    }\r\n\r\n    const customAvatar = () => {\r\n        const form = new FormData()\r\n        form.append('file', photo)\r\n        axios.post('/upload_avatar', form, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n        .then(res => {if(res.data.status === 0){\r\n            window.location.reload()\r\n        }})\r\n        .catch(error => console.log(error))\r\n    }\r\n\r\n    const getAvatar = (id) => {\r\n        return id ? '/get_file?file_id=' + id + '&purpose=avatar' : unnamed\r\n    }\r\n\r\n    const onSelectFile = (e) => {\r\n        setPhoto(e.target.files[0])\r\n        const previewURL = URL.createObjectURL(e.target.files[0])\r\n        setPreview(previewURL)\r\n    }\r\n\r\n    return (\r\n        <div className={classes.ProfileSettings}>\r\n            <div className={classes.avatarChanger}>\r\n                <img height={45} width={45} src={preview? preview : getAvatar(user.photoURL)}/>\r\n                <input type=\"file\" id=\"inputFile\" onChange={onSelectFile}/>\r\n                <label className={classes.inputFile} htmlFor=\"inputFile\"> Select a file </label>\r\n                <button className={classes.userPhoto} onClick={customAvatar}>Change avatar!</button>\r\n            </div>\r\n            <div className={classes.ProfileSettingsField}>\r\n                <div className={classes.inputBox}>\r\n                    <input name='settingsName' type=\"text\" className={classes.profileInput} style={ validName && user.name !== settingsForm.name ? {color: \"red\"} : {color: '#FFFFF1'}} required value={settingsForm.name} onChange={checkName}/>\r\n                    <label htmlFor=\"settingsName\" className={classes.settingsLabel}>Username (required)</label>\r\n                </div>\r\n                <div className={classes.inputBox}>\r\n                    <input name='settingsPassword1' type=\"password\" className={classes.profileInput} required value={settingsForm.password1} onChange={(e) => setSettings({...settingsForm, password1: e.target.value})}/>\r\n                    <label htmlFor=\"settingsPassword1\" className={classes.settingsLabel}>Password</label>\r\n                </div>\r\n                <div className={classes.inputBox}>\r\n                    <input name='settingsPassword2' type=\"password\" className={classes.profileInput} required value={settingsForm.password2} onChange={(e) => setSettings({...settingsForm, password2: e.target.value})}/>\r\n                    <label htmlFor=\"settingsPassword2\" className={classes.settingsLabel}>Repeat password</label>\r\n                </div>\r\n                <div className={classes.inputBox}>\r\n                    <input name='settingsPassword2' type=\"password\" className={classes.profileInput} required value={settingsForm.bio} onChange={(e) => setSettings({...settingsForm, bio: e.target.value})}/>\r\n                    <label htmlFor=\"settingsPassword2\" className={classes.settingsLabel}>Bio</label>\r\n                    <div className={classes.bio}>\r\n                        <p className={classes.bioLabel}>Any details such as age, occupation or city.</p>\r\n                        <p className={classes.bioLabel}>Example: 23 y.o. designer from San Francisco</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileSettings;","export default \"data:image/jpeg;base64,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\"","import React from 'react'\r\nimport classes from './checkbox.module.css'\r\n\r\nconst CheckBox = ({value, setValue, children}) => {\r\n\r\n    const checkBoxHandler = (e) => {\r\n        setValue(e.target.checked)\r\n    }\r\n    return (\r\n        <div className={classes.settingContainer}>\r\n            <div className={classes.checkBoxContainer}>\r\n                <div className={classes.slider}>\r\n                    <input id={'check' + children} type={'checkbox'} \r\n                            value={value} \r\n                            onChange={checkBoxHandler}/> \r\n                    <label htmlFor={'check' + children}></label>\r\n                </div>\r\n            </div>\r\n            <p>{children}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CheckBox\r\n","const defaultState = {\r\n    fontSize: 16,\r\n    color: '#FFFFF1',\r\n    backgroundColorMessage: '#333',\r\n    backgroundColorWindow: '#0F0F0F',\r\n    sound: true\r\n}\r\n\r\nconst SET_FONT = 'setFontSize'\r\nconst SET_BACKGROUNDMESSAGE = 'setBackgroundColorForMessage'\r\nconst SET_BACKGROUNDCOLOR = 'setBackgroundColor'\r\nconst SET_TEXT_COLOR = 'setColor'\r\nconst SET_SOUND = 'setSound'\r\n\r\nexport const UIReducer = (state = defaultState, action) => {\r\n    switch(action.type){\r\n        case SET_FONT: \r\n            return {...state, fontSize: action.payload}\r\n        case SET_BACKGROUNDCOLOR:\r\n            return {...state, backgroundColorWindow: action.payload}\r\n        case SET_BACKGROUNDMESSAGE:\r\n            return {...state, backgroundColorMessage: action.payload}\r\n        case SET_TEXT_COLOR:\r\n            return {...state, color: action.payload}\r\n        case SET_SOUND:\r\n            return {...state, color: action.payload}\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport const color = (payload) => ({type: SET_TEXT_COLOR, payload: payload})\r\nexport const fontSize = (payload) => ({type: SET_FONT, payload: payload})\r\nexport const backgroundMessage = (payload) => ({type: SET_BACKGROUNDMESSAGE, payload: payload})\r\nexport const background = (payload) => ({type: SET_TEXT_COLOR, payload: payload})\r\nexport const setSound = (payload) => ({type:SET_SOUND, payload: payload})\r\n","import React, {useState, useEffect} from 'react'\r\nimport classes from './notifications.module.css'\r\nimport CheckBox from '../CheckBox'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport { setSound } from '../../../../store/UIReducer'\r\n\r\nconst NotificationSettings = () => {\r\n    const [sound, setSound] = useState(false)\r\n    const dispatch = useDispatch()\r\n    const soundSetting = useSelector(state => state.UI.sound)\r\n\r\n    useEffect(() => {\r\n        console.log(sound)\r\n        dispatch({type: 'setSound', sound})\r\n    }, [sound, dispatch])\r\n\r\n    return (\r\n        <div className={classes.notification}>\r\n            <CheckBox value={sound} setValue={setSound}>\r\n                <p>Выключить звук</p>\r\n            </CheckBox>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotificationSettings\r\n","import React, {useState, useEffect} from 'react'\r\nimport classes from './private.module.css'\r\nimport CheckBox from '../CheckBox'\r\n\r\nconst PrivateSettings = () => {\r\n    const [email, setEmail] = useState(false)\r\n    const [bio, setBio] = useState(false)\r\n    const [age, setAge] = useState(false)\r\n\r\n    useEffect(()=>{\r\n        console.log(email, 'email clicked!')\r\n    }, [email])\r\n\r\n    useEffect(()=>{\r\n        console.log(bio, 'bio clicked!')\r\n    }, [bio])\r\n\r\n    useEffect(()=>{\r\n        console.log(age, 'age clicked!')\r\n    }, [age])\r\n\r\n    return (\r\n        <div className={classes.private}>\r\n            <CheckBox value={email} setValue={setEmail}>\r\n                Скрывать почту\r\n            </CheckBox>\r\n            <CheckBox value={bio} setValue={setBio}>\r\n                Скрывать информацию\r\n            </CheckBox>\r\n            <CheckBox value={age} setValue={setAge}>\r\n                Скрывать возраст\r\n            </CheckBox>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PrivateSettings\r\n","import React, {useState} from 'react'\r\nimport classes from './UISettings.module.css'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport { fontSize } from '../../../../store/UIReducer'\r\n\r\nconst UISettings = () => {\r\n    const dispatch = useDispatch()\r\n    const font = useSelector(state => state.UI.fontSize)\r\n    \r\n\r\n    return (\r\n        <div className={classes.uisettings}>\r\n            <div className={classes.fontChanger}>\r\n                <p>Font size</p>\r\n                <input className={classes.fontSizer} \r\n                    type='range' \r\n                    max={20} \r\n                    min={12} \r\n                    step={1} \r\n                    value={font} \r\n                    onChange={(e) => {dispatch({type: 'setFontSize', payload: e.target.value})}}/>\r\n                    <span>{font}</span>\r\n            </div>\r\n            <div className={classes.container}>\r\n                <p>Themes: </p>\r\n                <select>\r\n                    <option>default (dark)</option>\r\n                    <option>light</option>\r\n                    <option>purple</option>\r\n                </select>\r\n            </div>\r\n            <h1>Custom theme</h1>\r\n            <div className={classes.container}>\r\n                <p>Message Box Container Color: </p>\r\n                <select>\r\n                    <option>default</option>\r\n                    <option>black</option>\r\n                    <option>red</option>\r\n                    <option>green</option>\r\n                    <option>blue</option>\r\n                    <option>pink</option>\r\n                    <option>purple</option>\r\n                    <option>indigo</option>\r\n                </select>\r\n            </div>\r\n            <div className={classes.container}>\r\n                <p>Message Box Text Color: </p>\r\n                <select>\r\n                    <option>default</option>\r\n                    <option>black</option>\r\n                    <option>red</option>\r\n                    <option>green</option>\r\n                    <option>blue</option>\r\n                    <option>pink</option>\r\n                    <option>purple</option>\r\n                    <option>indigo</option>\r\n                </select>\r\n            </div>\r\n            <div className={classes.container}>\r\n                <p>Message background: </p>\r\n                <select>\r\n                    <option>default</option>\r\n                    <option>black</option>\r\n                    <option>red</option>\r\n                    <option>green</option>\r\n                    <option>blue</option>\r\n                    <option>pink</option>\r\n                    <option>purple</option>\r\n                    <option>indigo</option>\r\n                </select>\r\n            </div>\r\n            <div className={classes.container}>\r\n                <p>Dialogs Background</p>\r\n                <select>\r\n                    <option>default</option>\r\n                    <option>black</option>\r\n                    <option>red</option>\r\n                    <option>green</option>\r\n                    <option>blue</option>\r\n                    <option>pink</option>\r\n                    <option>purple</option>\r\n                    <option>indigo</option>\r\n                </select>\r\n            </div>\r\n            <div className={classes.container}>\r\n                <p>Messenger Components Color</p>\r\n                <select>\r\n                    <option>default</option>\r\n                    <option>black</option>\r\n                    <option>red</option>\r\n                    <option>green</option>\r\n                    <option>blue</option>\r\n                    <option>pink</option>\r\n                    <option>purple</option>\r\n                    <option>indigo</option>\r\n                </select>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UISettings\r\n","export default __webpack_public_path__ + \"static/media/arrowBack.44d5abd3.svg\";","export default __webpack_public_path__ + \"static/media/general.2f9ef6c0.svg\";","export default __webpack_public_path__ + \"static/media/logout.f2aaae36.svg\";","export default __webpack_public_path__ + \"static/media/notifications.cda782bb.svg\";","export default __webpack_public_path__ + \"static/media/privacy.6ec4cf10.svg\";","export default __webpack_public_path__ + \"static/media/profile.1c960d96.svg\";","import React, {useState} from 'react'\r\nimport { isMobile } from 'react-device-detect'\r\nimport ProfileSettings from './profileSettings/ProfileSettings'\r\nimport NotificationSettings from './notificationSettings/NotificationSettings'\r\nimport PrivateSettings from './privateSettings/PrivateSettings'\r\nimport UISettings from './UISettings/UISettings'\r\n\r\nimport classes from './Settings.module.css'\r\n\r\nimport arrowBack from './arrowBack.svg'\r\nimport general from './general.svg'\r\nimport logout from './logout.svg'\r\nimport notifications from './notifications.svg'\r\nimport privacy from './privacy.svg'\r\nimport profile from './profile.svg'\r\n\r\nconst Settings = ({setSettingsWindow, setLoggedOut}) => {\r\n    const [buttons, setButtons] = useState(true) \r\n    const [settings, setSetting] = useState('Global')\r\n\r\n    const NOTIFICATIONS = 'Notifications'\r\n    const UI = 'UI'\r\n    const PROFILE = 'Profile'\r\n    const PRIVATE = 'Private'\r\n\r\n    const backButtonBehaivor = () => {\r\n        buttons \r\n        ? setSettingsWindow(false)\r\n        : setButtons(true)\r\n        \r\n    }\r\n    return (\r\n        <div className={classes.settings}>\r\n            {!isMobile \r\n            ? <div className={classes.backButtonPlace}>\r\n                <button className={classes.backButton} \r\n                        onClick={() => (backButtonBehaivor())}>\r\n                    <img src={arrowBack} alt=''/>\r\n                </button> Back \r\n            </div>\r\n            : ''}\r\n\r\n            {buttons\r\n            ? <div className={classes.buttons}>\r\n                <button className={classes.settingButton} onClick={() => {setButtons(false); setSetting(UI)}}>\r\n                    <img src={general} alt=''/>\r\n                    <p>General Settings</p>\r\n                </button>\r\n                <button className={classes.settingButton} onClick={() => {setButtons(false); setSetting(PROFILE)}}>\r\n                    <img src={profile} alt=''/>\r\n                    <p>Profile Settings</p>\r\n                </button>\r\n                <button className={classes.settingButton} onClick={() => {setButtons(false); setSetting(NOTIFICATIONS)}}>\r\n                    <img src={notifications} alt=''/>\r\n                    <p>Notifications</p>\r\n                </button>\r\n                <button className={classes.settingButton} onClick={() => {setButtons(false); setSetting(PRIVATE)}}>\r\n                    <img src={privacy} alt=''/>\r\n                    <p>Privacy</p>\r\n                </button>\r\n                <a href=\"/un_authorize\" className={classes.settingButton} onClick={() => setLoggedOut(false)}>\r\n                    <img src={logout} alt=''/>\r\n                    <p>Log Out</p>\r\n                </a>\r\n            </div>\r\n            :((settings) => {\r\n                switch(settings){\r\n                    case 'Global':\r\n                        return <div>Settings!</div>\r\n                    case PROFILE:\r\n                        return <ProfileSettings />\r\n                    case NOTIFICATIONS:\r\n                        return <NotificationSettings />\r\n                    case PRIVATE:\r\n                        return <PrivateSettings />\r\n                    case UI:\r\n                        return <UISettings />\r\n                    default:\r\n                        return <div>Чё блин ты чё совсем долбанутый? ты как сюда попал?</div>\r\n                }             \r\n            })(settings)\r\n        }\r\n        {isMobile && !buttons\r\n        ?<div className={classes.mobileButton}>\r\n            <button onClick={() => {setButtons(true)}} className={classes.settingButton}>Back</button>\r\n        </div>\r\n        :''}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Fade } from 'react-reveal'\r\nimport { isMobile} from 'react-device-detect'\r\n\r\nimport { Player, BigPlayButton } from 'video-react'\r\nimport \"../../../../../../node_modules/video-react/dist/video-react.css\"; \r\n\r\nimport classes from './MessageListItem.module.css'\r\nimport mobile from './mobile.module.css'\r\n\r\nconst MessageListItem = ({from, type, center, value, name, time}) => {\r\n    const styles = useSelector(state => state.UI)\r\n\r\n    const classHandler = (senderIsUser, center) => {\r\n        let result = ''\r\n        if(center){\r\n            result += classes.center\r\n        } else {\r\n            if(senderIsUser){\r\n                result += ' ' + classes.right\r\n            } else {\r\n                result += ' ' + classes.left\r\n            }\r\n        }\r\n        if(isMobile) {\r\n            result += ' ' + mobile.msgListItemM\r\n        }\r\n        return result\r\n    }\r\n\r\n    \r\n    const messageContent = (type, value) => {\r\n        switch(type){\r\n            case 'text':\r\n                return (\r\n                    <div className={classes.msgListItem + ' ' + classHandler(from, center)} >\r\n                        <p style={{fontSize: styles.fontSize + 'px'}} className={classes.text}>\r\n                            {value}\r\n                            <span className={classes.time}>{time}</span>\r\n                        </p>\r\n                    </div>\r\n                )\r\n            case 'image':\r\n                return (\r\n                    <div className={isMobile ? classes.msgListItemAttach + ' ' + classHandler(from, center) + ' ' + mobile.imageAttachM: classes.msgListItemAttach + ' ' + classHandler(from, center)} >\r\n                        <img className={classes.imageAttach} src={'/get_file?file_id='+ value + \"&purpose=chat\"} alt=''/>\r\n                        <span /*className={classes.time}*/>{time}</span>\r\n                    </div>\r\n                )\r\n            case 'video':\r\n                return (\r\n                    <div className={classes.msgListItemVideo + ' ' + classHandler(from, center)}>\r\n                        <Player\r\n                        src={'/get_file?file_id='+ value + \"&purpose=chat\"}\r\n                        >\r\n                            <BigPlayButton position=\"center\" />\r\n                        </Player>\r\n                        <span className={classes.time}>{time}</span>\r\n                    </div>\r\n                )\r\n            default: \r\n                    return (\r\n                        <div className={classes.msgListItem + ' ' + classHandler(from, center)}>\r\n                            <p style={{fontSize: styles.fontSize + 'px'}} className={classes.text}>\r\n                                Ошибка работы приложения! Сообщите об этом разработчику на почту ivan_kot2001@mail.ru.\r\n                                <span className={classes.time}>{time}</span>\r\n                            </p>\r\n                        </div>\r\n                    )\r\n        }\r\n    } \r\n    if(from){ return (\r\n        <Fade right duration={400}>\r\n            {messageContent(type, value)}\r\n        </Fade>\r\n    )} else return (\r\n        <Fade left duration={400}>\r\n            {messageContent(type, value)}\r\n        </Fade>\r\n    )\r\n}\r\n\r\nexport default MessageListItem\r\n","import React, {useState, useRef, useEffect} from 'react'\r\nimport MessageListItem from '../MessageListItem/MessageListItem'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nimport { Separator } from '../../../../constructor'\r\n\r\nimport classes from './MessageList.module.css'\r\nimport mobile from './mobile.module.css'\r\nimport { isMobile } from 'react-device-detect'\r\n\r\nconst MessageList = ({active, getMessages}) => {\r\n    const dispatch = useDispatch()\r\n    const list = useRef(null)\r\n    const [scrollIsActive, setActiveScroll] = useState(false)\r\n\r\n    const user = useSelector(state => state.user)\r\n    const messages = useSelector(state => state.messages.messages)\r\n    const talks = useSelector(state => state.talks.talks)\r\n    const currentTalk = useSelector(state => state.talks.currentTalk)\r\n\r\n    const scrollToggler = () => {\r\n        setActiveScroll((scrollIsActive) => (!scrollIsActive))\r\n    }\r\n    \r\n    const messageFetching = async (condition) => {\r\n        if (condition) {\r\n            const currentTalkIndex = talks.findIndex( element => {return element.id === currentTalk})\r\n            if (currentTalkIndex !== 0) {\r\n                const fetchCurrentTalk = talks[currentTalkIndex-1].id\r\n                dispatch({type: 'setCurrentTalk', payload: fetchCurrentTalk})\r\n                let _messages = await getMessages(fetchCurrentTalk)\r\n                let separator = new Separator(talks[currentTalkIndex-1].title)\r\n                dispatch({type: 'setMessages', payload: [...messages, separator, ..._messages]})\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        list.current.scrollTo({top: 0, behavior: 'instant'})\r\n    }, [user.currentDialog])\r\n\r\n/*    const classHandler = () => {\r\n        let result = classes.MessageList\r\n        if(isMobile)result += ' ' + mobile.messageListM\r\n        if(!scrollIsActive)result += ' ' + classes.MessageListNoScroll\r\n        console.log(result, classes.MessageList + ' ' + classes.MessageListNoScroll + ' ' + mobile.messageListM)\r\n        return result\r\n    }*/\r\n\r\n    const mainStyleHandler = () => {\r\n        if (active) return {paddingInline: '15px'}\r\n        else if (!isMobile) return {paddingInline: '15%'}\r\n        else return {paddingInline: '0'}    \r\n    }\r\n\r\n    return (\r\n        <div style={mainStyleHandler()} \r\n            ref={list} \r\n            className={!scrollIsActive ? classes.MessageList + ' ' + classes.MessageListNoScroll : classes.MessageList} \r\n            onScroll={() => messageFetching(Math.abs(list.current.scrollHeight + list.current.scrollTop - list.current.clientHeight) < 10)} \r\n            onMouseOver={scrollToggler} \r\n            onMouseOut={scrollToggler}>\r\n\r\n            {messages \r\n            ? messages.map(msgItem =>\r\n                <MessageListItem from={user.id == msgItem.sender} type={msgItem.type} center={msgItem.center ? msgItem.center : null} value={msgItem.value} time={msgItem.date} key={msgItem.id}/>\r\n            )\r\n            :<MessageListItem from={true} text={'Напишите этому человеку!'} time={'А это не важно'}/>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MessageList\r\n","export default \"data:image/jpeg;base64,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\"","export default __webpack_public_path__ + \"static/media/companionSettings.49200994.svg\";","export default __webpack_public_path__ + \"static/media/arrowBack.9dbef87f.svg\";","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { isMobile } from 'react-device-detect'\r\n\r\nimport classes from './companion.module.css'\r\nimport mobile from './mobileCompanion.module.css'\r\nimport unnamed from './unnamed.jpg'\r\nimport settings from './companionSettings.svg'\r\n\r\nimport { CHATS } from '../../../dialogs/dialogField/DialogField'\r\n\r\nimport arrowBack from './arrowBack.svg'\r\n\r\nconst Companion = ({companion, setActive, setMobileMenu}) => {\r\n    const online = useSelector(state => state.user.dialogs.find((dialog) => (dialog.id === state.user.currentDialog))?.other_members[0].user_status)\r\n    const active = useSelector(state => state.companion.active)\r\n    const talksIsActive = useSelector(state => state.companion.talksIsActive)\r\n    const getAvatar = (id) => {\r\n        return id ? '/get_file?file_id=' + id + '&purpose=avatar' : unnamed\r\n    }\r\n    const dispatch = useDispatch()\r\n\r\n\r\n    const onlineStatus = () => {\r\n        if(companion?.other_members.length === 1) {\r\n            if(online){\r\n                return 'online'\r\n                // if(document.visibilityState === 'hidden') return 'inactive'\r\n                // else return 'online'\r\n            } else {\r\n                return companion?.other_members[0].date_visit\r\n            }\r\n        } else return ''\r\n    }\r\n\r\n    const rightMenuHandler = () => {\r\n        setActive(active => !active)\r\n        setTimeout(() => dispatch({type: 'setTalksActive'}),300)\r\n    }\r\n\r\n    const checkProfile = () => {\r\n        if (!isMobile) {\r\n            if (talksIsActive) {\r\n                dispatch({type: 'setTalksDisabled'})\r\n                setActive(true)\r\n            } else {\r\n                setTimeout(() => dispatch({type: 'setTalksActive'}), 300)\r\n                setActive(false)\r\n            }\r\n        }\r\n    }\r\n    return (\r\n        <div className={isMobile ? classes.companion + ' ' + mobile.companionM : classes.companion} style={companion?.other_members.length ? {display: 'flex'} : {display: 'none'} }>\r\n            <div className={classes.companionInfo} onClick={checkProfile}>\r\n                {isMobile ? <button className={mobile.companionButton} onClick={(e) => {e.stopPropagation(); setMobileMenu(CHATS); dispatch({type: 'setCurrentDialog', action: -1})}}><img src={arrowBack} alt='back button' height={35}/></button> : ''}\r\n                <div className={classes.avatar}>\r\n                    <img alt='' src={companion?.other_members.length === 1? getAvatar(companion.other_members[0].avatar_id) : unnamed}/>\r\n                </div>\r\n                <div>\r\n                    <h2 style={{marginLeft: companion?.other_members?.length ? '' : '15px'}}>\r\n                        {companion?.other_members?.length? companion?.other_members.length === 1? companion?.other_members[0].name :'Название группового разговора': 'Выберите диалог'}\r\n                    </h2>\r\n                    <p>\r\n                        {onlineStatus()}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n            <div className={classes.companionButtons}>\r\n                {isMobile\r\n                ? <button className={classes.talkButton} onClick={checkProfile}><img src={settings} alt='settings button' height={30}/></button>\r\n                : <button className={classes.talkButton} onClick={rightMenuHandler}>Talks →</button>}\r\n            </div>       \r\n        </div>\r\n            \r\n    )\r\n}\r\n\r\n// {\r\n//     id: int,\r\n//     last_message: str,\r\n//     other_members: [{\r\n//         avatar_id: int or null,\r\n//         name: str,\r\n//         user_status: bool,\r\n//         date_visit: date\r\n//     }]\r\n// }\r\n\r\nexport default Companion\r\n","import axios from 'axios'\r\n\r\nexport const getMessages = async (talkId) => {\r\n    let response = await axios({\r\n      method: 'get',\r\n      url: \"/get_messages\",\r\n      params: {\r\n        talk_id: talkId\r\n      }\r\n    })\r\n    if(response.data.messages !== undefined){\r\n      return new Promise((resolve, reject) => {\r\n        resolve(response.data.messages.reverse())\r\n      })\r\n    } else {\r\n      return new Promise((resolve, reject) => {\r\n        resolve(null)\r\n      })\r\n    }\r\n\r\n  }\r\n\r\nexport const getTalks = async (id) => {\r\n    let response = await axios({\r\n      method: 'get',\r\n      url: '/get_talks',\r\n      params: {\r\n        dialog_id: id\r\n      }\r\n    })\r\n    if(response.data.status === 0){\r\n    return new Promise((resolve, reject) => {\r\n      resolve(response.data)\r\n    })\r\n    } else {\r\n      return new Promise((resolve, reject) => {\r\n        resolve([{id: -1, title: 'Ошибка получения разговоров, сообщите об этом на ivan_kot2001@mail.ru'}])\r\n      })\r\n    }\r\n  }\r\n\r\nexport const createTalk = async (name, dialogID) => {\r\n    let response = await axios({\r\n      method: 'POST',\r\n      url: '/create_talk',\r\n      data: {\r\n        title: name,\r\n        dialog_id: dialogID\r\n      }\r\n    })\r\n    if(response.data.status === 0){\r\n      return new Promise((resolve, reject) => {\r\n        resolve(response.data)\r\n      })\r\n    } else {\r\n      return new Promise((resolve, reject) => {\r\n        resolve([{id: -1, title: 'Ошибка создания разговора, сообщите об этом на ivan_kot2001@mail.ru'}])\r\n      })\r\n    }\r\n  }\r\n\r\nexport const sendMessage = async (messageText, id, lastTalk, currentDialog) => {\r\n    let response = await axios({\r\n      method: 'post',\r\n      url: \"/send_message\",\r\n      data: {\r\n        sender_id: id,\r\n        talk_id: lastTalk,\r\n        dialog_id: currentDialog,\r\n        message_type: 'text',\r\n        value: messageText\r\n      }\r\n    })\r\n    return new Promise((resolve, reject) => {\r\n      resolve(response.data.status)\r\n    })\r\n  }","export default __webpack_public_path__ + \"static/media/attach.fd096489.svg\";","import React, {useState, useEffect, useRef} from 'react'\r\nimport { flushSync } from 'react-dom'\r\nimport {useSelector, useDispatch} from 'react-redux'\r\nimport { isMobile } from 'react-device-detect'\r\n\r\nimport MessageList from '../MessageList/messageList'\r\nimport Companion from '../Companion/Companion'\r\n\r\nimport axios from 'axios'\r\n\r\nimport {sendMessage, getMessages, createTalk} from '../../../../../chatAPI'\r\nimport { isCurrentDay, isYesterday, Separator, Talk } from '../../../../constructor'\r\n\r\nimport attach from './attach.svg'\r\nimport classes from './MainWindow.module.css'\r\n \r\nconst MainWindow = ({companion, active, setActiveTalkMenu}) => {\r\n    const dispatch = useDispatch()\r\n\r\n    const textareaRef = useRef(null)\r\n    const [messageText, setMessageText] = useState('')\r\n\r\n    const user = useSelector(state => state.user)\r\n    const messages = useSelector(state => state.messages.messages)\r\n    const currentDialog = useSelector(state=> state.user.currentDialog)\r\n    const talks = useSelector(state => state.talks.talks)\r\n    const lastTalk = useSelector(state => state.talks.lastTalk)\r\n    const attachIsActive = useSelector(state => state.attachMenu.active)\r\n\r\n    const sendMessageLocal = async (e) => {\r\n        e.preventDefault()\r\n        setMessageText('');\r\n        if(messageText !== '')\r\n        {\r\n            if(isCurrentDay(talks.filter(item => item.id === lastTalk)[0].date))sendMessage(messageText, user.id, lastTalk, currentDialog)\r\n            else {\r\n                const res = await createTalk(isYesterday(undefined, true), currentDialog)\r\n                dispatch({type: 'setTalks', payload: [...talks, new Talk(res.id, isYesterday(undefined, true), res.date)]})\r\n                dispatch({type: 'setCurrentTalk', payload: res.id})\r\n                dispatch({type: 'setLastTalk', payload: res.id})\r\n                dispatch({type: 'setMessages', payload: [Separator(isYesterday('123', true)), ...messages]})\r\n                await sendMessage(messageText, user.id, res.id, currentDialog)\r\n                return\r\n            }\r\n        }\r\n    }\r\n\r\n    const onEnterPress = (e) => {\r\n        if(e.code === 'Enter' && !isMobile){\r\n            sendMessageLocal(e)\r\n        }\r\n    }\r\n\r\n    const toggleAttachMenu = (e) => {\r\n        e.preventDefault()\r\n        attachIsActive? dispatch({type: \"setAttachDisabled\"}):dispatch({type: 'setAttachActive'})\r\n    }\r\n\r\n    /* UI */\r\n    useEffect( () => {\r\n        textareaRef.current.style.height = \"0px\";\r\n        const scrollHeight = textareaRef.current.scrollHeight;\r\n        textareaRef.current.style.height = scrollHeight + \"px\";\r\n    }, [messageText])\r\n    /* UI */\r\n\r\n    const mediaHandler = async (file) => {\r\n        const form = new FormData()\r\n        form.append('value', file)\r\n        let response = await axios.post(\"/upload_file\", form , {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n        return new Promise((resolve, reject) => {\r\n            resolve(response.data)\r\n        })\r\n    }\r\n\r\n    const onSelectFile = async (e) => {\r\n        e.stopPropagation()\r\n        let response = await mediaHandler(e.target.files[0])\r\n        axios({\r\n            method: 'post',\r\n            url: \"/send_message\",\r\n            data: {\r\n                sender_id: user.id,\r\n                talk_id: lastTalk,\r\n                dialog_id: currentDialog,\r\n                message_type: 'media',\r\n                value: response.file_id\r\n              }\r\n        }).then(res => console.log(res))\r\n        .catch(error => console.log(error))      \r\n    }\r\n\r\n    const fileHandler = (e) => {\r\n        e.stopPropagation()\r\n        console.log('file loader clicked!')\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={classes.dialogWindow}>\r\n            {isMobile ? '' :<Companion companion={companion} setActive={setActiveTalkMenu}/>}\r\n            <MessageList active={active} getMessages={getMessages}/>\r\n            <form   style={{marginInline: active? '15px' : '15%', visibility: user.currentDialog === -1 ? 'hidden' : 'visible'}} \r\n                    className={classes.txtArea}>\r\n                <div    className={classes.wInputContainer} \r\n                        onClick={e => e.stopPropagation()}>\r\n                    <textarea   id='input' \r\n                                ref={textareaRef} \r\n                                className={classes.wrapper} \r\n                                placeholder=\"Type a message\" \r\n                                value={messageText} \r\n                                onKeyDown={onEnterPress} \r\n                                onChange={(e) => (setMessageText(e.target.value))}>\r\n                    </textarea>\r\n                    <button onClick={toggleAttachMenu} className={classes.attachButton}>\r\n                        <img className={classes.inputAttachment} src={attach} alt=''/>\r\n                    </button>\r\n                    <div style={{display: attachIsActive ? 'flex' : 'none'}} className={classes.dropDownMenu}>\r\n                        <input type=\"file\" id=\"inputFile\" onChange={onSelectFile}/>\r\n                        <label className={classes.dropDownMenuItem} htmlFor=\"inputFile\">Photo or video</label>\r\n                        <button onClick={fileHandler} className={classes.dropDownMenuItem}>File</button>\r\n                    </div>\r\n                </div>\r\n                <button className={classes.sendButton} onClick={(e) => (sendMessageLocal(e))}>Send</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MainWindow","import React from 'react'\r\nimport classes from './talkItem.module.css'\r\n\r\nconst TalkItem = ({id, name, current}) => {\r\n    return (\r\n        <div className={current ? classes.talkItem + ' ' + classes.currentTalkItem : classes.talkItem}>\r\n            {name}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TalkItem\r\n","export default __webpack_public_path__ + \"static/media/arrowBack.44d5abd3.svg\";","import React from 'react'\r\nimport TalkItem from './talksItem' \r\nimport {useDispatch, useSelector} from 'react-redux'\r\n\r\nimport { Talk } from '../../../constructor'\r\nimport { createTalk } from '../../../../chatAPI'\r\n\r\nimport classes from './talks.module.css'\r\nimport unnamed from './unnamed.jpg'\r\nimport arrowBack from './arrowBack.svg'\r\n\r\nconst Talks = ({active, setActive}) => {\r\n    const dispatch = useDispatch()\r\n\r\n    const talks = useSelector(state => state.talks.talks)\r\n    const current = useSelector(state => state.talks.currentTalk)\r\n    const talksIsActive = useSelector(state=> state.companion.talksIsActive)\r\n    const currentDialog = useSelector(state=>state.user.currentDialog)\r\n    const companion = useSelector(state => state.user.dialogs.find(dialog => dialog.id === state.user.currentDialog)?.other_members[0])\r\n    \r\n    const talkCreator = async () => {\r\n        let res = await createTalk('New Talk!', currentDialog)\r\n        dispatch({type: 'setTalks', payload: [...talks, new Talk(res.id, \"New Talk!\", res.date)]})\r\n        dispatch({type: 'setCurrentTalk', payload: res.id})\r\n        dispatch({type: 'setLastTalk', payload: res.id})\r\n    }\r\n\r\n    const rightMenuHandler = () => {\r\n        setActive(false)\r\n        setTimeout(() => dispatch({type: 'setTalksActive'}), 300)\r\n    }\r\n    \r\n    if(talksIsActive) return (\r\n        <div className={classes.talks} style={active ? {width: '35%'} : {width: '0%', border: 'none'}}>\r\n            <button className={classes.talksHead}>Search</button> {/*onClick={talkCreator}*/}\r\n            <div className={classes.talksItems}>\r\n            <div className={classes.noTalkItem}>Coming soon!</div>\r\n                {talks \r\n                ? talks.map((talk) => <TalkItem   \r\n                                            key={talk.id}\r\n                                            id={talk.id}\r\n                                            name={talk.title}\r\n                                            current={current === talk.id}\r\n                                            />) \r\n                : <div className={classes.noTalkItem}>Ещё не заведено ни одного разговора</div>}\r\n            </div>\r\n        </div>\r\n    )\r\n    else return (\r\n        <div className={classes.talks} style={active ? {width: '35%'} : {width: '0%', border: 'none'}}>\r\n            <button onClick={rightMenuHandler} className={classes.backButton}>\r\n                <img  height={45} src={arrowBack}/> \r\n                Back to dialog\r\n            </button>\r\n            <div className={classes.companionInfo}>\r\n                <img    style={{borderRadius: '75%', marginLeft: '10px'}} \r\n                        src={companion.avatar_id ? '/get_file?file_id=' + companion.avatar_id : unnamed} \r\n                        height={45} \r\n                        width={45} \r\n                        alt=''/>\r\n                <div className={classes.companionInfoItem}>\r\n                    <h2>Name</h2>\r\n                    <p>{companion.name}</p>\r\n                </div>\r\n                <div className={classes.companionInfoItem}>\r\n                    <h2>Email</h2>\r\n                    <p>{companion?.email ? companion.email : 'Пользователь ограничил доступ к своей почте'}</p>\r\n                </div>\r\n                <div className={classes.companionInfoItem}>\r\n                    <h2>Age</h2>\r\n                    <p>{companion?.age ? companion.age: 'Пользователь ограничил доступ к своему возрасту'}</p>\r\n                </div>\r\n                <div className={classes.companionInfoItem}>\r\n                    <h2>Bio</h2>\r\n                    <p>{companion?.bio ? companion.bio : 'Пользователь ограничил доступ к информации о себе'}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Talks","export default \"data:image/jpeg;base64,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\"","const params = { \r\n    snow: {\"particles\": {\r\n            \"number\": {\r\n                \"value\": 100,\r\n                \"density\": {\r\n                    \"enable\": true\r\n                }\r\n            },\r\n            \"size\": {\r\n                \"value\": 10,\r\n                \"random\": true\r\n            },\r\n            \"opacity\": {\r\n              \"value\": 0.5,\r\n              \"random\": false,\r\n              \"anim\": {\r\n                \"enable\": false,\r\n                \"speed\": 1,\r\n                \"opacity_min\": 0.1,\r\n                \"sync\": false\r\n              }\r\n            },\r\n            \"move\": {\r\n                \"direction\": \"bottom\",\r\n                \"out_mode\": \"out\",\r\n                \"speed\": 1,\r\n                \"bounce\": false\r\n            },\r\n            \"line_linked\": {\r\n                \"enable\": false\r\n            }\r\n        },\r\n        \"interactivity\": {\r\n            \"events\": {\r\n                \"onclick\": {\r\n                    \"enable\": false,\r\n                    \"mode\": \"push\"\r\n                }\r\n            }\r\n        }},\r\n        particles: {\"particles\": {\r\n            \"number\": {\r\n              \"value\": 80,\r\n              \"density\": {\r\n                \"enable\": false,\r\n                \"value_area\": 800\r\n              }\r\n            },\r\n            \"color\": {\r\n              \"value\": \"#ffffff\"\r\n            },\r\n            \"shape\": {\r\n              \"type\": \"circle\",\r\n              \"stroke\": {\r\n                \"width\": 0,\r\n                \"color\": \"#000000\"\r\n              },\r\n              \"polygon\": {\r\n                \"nb_sides\": 5\r\n              }\r\n            },\r\n            \"opacity\": {\r\n              \"value\": 0.5,\r\n              \"random\": false,\r\n              \"anim\": {\r\n                \"enable\": false,\r\n                \"speed\": 1,\r\n                \"opacity_min\": 0.1,\r\n                \"sync\": false\r\n              }\r\n            },\r\n            \"size\": {\r\n              \"value\": 4,\r\n              \"random\": true,\r\n              \"anim\": {\r\n                \"enable\": false,\r\n                \"speed\": 10,\r\n                \"size_min\": 0.1,\r\n                \"sync\": false\r\n              }\r\n            },\r\n            \"line_linked\": {\r\n              \"enable\": true,\r\n              \"distance\": 100,\r\n              \"color\": \"#fffff1\",\r\n              \"opacity\": 0.2,\r\n              \"width\": 0.5\r\n            },\r\n            \"move\": {\r\n              \"enable\": true,\r\n              \"speed\": 1,\r\n              \"direction\": \"none\",\r\n              \"random\": false,\r\n              \"straight\": false,\r\n              \"out_mode\": \"out\",\r\n              \"bounce\": false,\r\n              \"attract\": {\r\n                \"enable\": false,\r\n                \"rotateX\": 600,\r\n                \"rotateY\": 1200\r\n              }\r\n            }\r\n          },\r\n          \"interactivity\": {\r\n            \"detect_on\": \"canvas\",\r\n            \"events\": {\r\n              \"onhover\": {\r\n                \"enable\": true,\r\n                \"mode\": \"bubble\"\r\n              },\r\n              \"onclick\": {\r\n                \"enable\": true,\r\n                \"mode\": \"push\"\r\n              },\r\n              \r\n              \"resize\": true\r\n            },\r\n            \"modes\": {\r\n              \"grab\": {\r\n                \"distance\": 126,\r\n                \"line_linked\": {\r\n                  \"opacity\": 1\r\n                }\r\n              },\r\n              \"bubble\": {\r\n                \"distance\": 160,\r\n                \"size\": 6,\r\n                \"duration\": 2,\r\n                \"opacity\": 8,\r\n                \"speed\": 3\r\n              },\r\n              \"repulse\": {\r\n                \"distance\": 200,\r\n                \"duration\": 0.4\r\n              },\r\n              \"push\": {\r\n                \"particles_nb\": 2\r\n              },\r\n              \"remove\": {\r\n                \"particles_nb\": 2\r\n              }\r\n            }\r\n          },\r\n          \"retina_detect\": true},\r\n          coolSnow: {\r\n            \"particles\": {\r\n              \"number\": {\r\n                \"value\": 100,\r\n                \"density\": {\r\n                  \"enable\": true,\r\n                  \"value_area\": 800\r\n                }\r\n              },\r\n              \"color\": {\r\n                \"value\": \"#ffffff\"\r\n              },\r\n              \"shape\": {\r\n                \"type\": \"circle\",\r\n                \"stroke\": {\r\n                  \"width\": 0,\r\n                  \"color\": \"#000000\"\r\n                },\r\n                \"polygon\": {\r\n                  \"nb_sides\": 5\r\n                },\r\n                \"image\": {\r\n                  \"src\": \"img/github.svg\",\r\n                  \"width\": 100,\r\n                  \"height\": 100\r\n                }\r\n              },\r\n              \"opacity\": {\r\n                \"value\": 0.125,\r\n                \"random\": true,\r\n                \"anim\": {\r\n                  \"enable\": true,\r\n                  \"speed\": 0.1,\r\n                  \"opacity_min\": 0.01,\r\n                  \"sync\": false\r\n                }\r\n              },\r\n              \"size\": {\r\n                \"value\": 12,\r\n                \"random\": false,\r\n                \"anim\": {\r\n                  \"enable\": true,\r\n                  \"speed\": 40,\r\n                  \"size_min\": 5,\r\n                  \"sync\": false\r\n                }\r\n              },\r\n              \"line_linked\": {\r\n                \"enable\": false,\r\n                \"distance\": 150,\r\n                \"color\": \"#ffffff\",\r\n                \"opacity\": 0.4,\r\n                \"width\": 1\r\n              },\r\n              \"move\": {\r\n                \"enable\": true,\r\n                \"speed\": 1.2,\r\n                \"direction\": \"bottom\",\r\n                \"random\": false,\r\n                \"straight\": false,\r\n                \"out_mode\": \"out\",\r\n                \"bounce\": false,\r\n                \"attract\": {\r\n                  \"enable\": false,\r\n                  \"rotateX\": 600,\r\n                  \"rotateY\": 1200\r\n                }\r\n              }\r\n            },\r\n            \"interactivity\": {\r\n              \"detect_on\": \"canvas\",\r\n              \"events\": {\r\n                \"onhover\": {\r\n                  \"enable\": false,\r\n                  \"mode\": \"repulse\"\r\n                },\r\n                \"onclick\": {\r\n                  \"enable\": true,\r\n                  \"mode\": \"push\"\r\n                },\r\n                \"resize\": true\r\n              },\r\n              \"modes\": {\r\n                \"grab\": {\r\n                  \"distance\": 400,\r\n                  \"line_linked\": {\r\n                    \"opacity\": 1\r\n                  }\r\n                },\r\n                \"bubble\": {\r\n                  \"distance\": 400,\r\n                  \"size\": 40,\r\n                  \"duration\": 2,\r\n                  \"opacity\": 8,\r\n                  \"speed\": 3\r\n                },\r\n                \"repulse\": {\r\n                  \"distance\": 200,\r\n                  \"duration\": 0.4\r\n                },\r\n                \"push\": {\r\n                  \"particles_nb\": 4\r\n                },\r\n                \"remove\": {\r\n                  \"particles_nb\": 2\r\n                }\r\n              }\r\n            },\r\n            \"retina_detect\": true\r\n          }\r\n}\r\n\r\nexport default params;","import React, {useState} from 'react'\r\nimport Particles from 'react-particles-js'\r\nimport { isMobile } from 'react-device-detect'\r\nimport MainWindow from '../ChatWindow/mainDialogWindow'\r\nimport Talks from '../../talks/talks'\r\n\r\nimport params from '../../../../particlesParams'\r\n\r\nimport classes from './workspace.module.css'\r\n\r\nconst WorkSpace = ({companion}) => {\r\n    const [activeMenu, setActiveRightMenu] = useState(false)\r\n\r\n    if(isMobile) return (\r\n        <div className={classes.workTree} id='rightColumn'>\r\n            <MainWindow companion={companion} active={activeMenu} setActiveTalkMenu={setActiveRightMenu}/>\r\n        </div>\r\n    )\r\n    else return (\r\n        <div className={classes.workTree} id='rightColumn'>\r\n            <Particles className={classes.particles}\r\n            params={params.coolSnow}/>\r\n            <MainWindow companion={companion} active={activeMenu} setActiveTalkMenu={setActiveRightMenu}/>\r\n            <Talks active={activeMenu} setActive={setActiveRightMenu}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default WorkSpace;","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport DialogItem from '../dialogItem/DialogItem'\r\nimport WorkSpace from '../../chatField/chat/workSpace/workSpace'\r\nimport Settings from '../Settings/Settings'\r\n\r\nimport {CHATS, SETTINGS, LOGOUT, MESSENGER} from '../dialogField/DialogField'\r\n\r\nimport mobile from './mobile.module.css'\r\n\r\nconst MMessenger = ({currentWindow=CHATS, changeDialog, addUser, setMobileMenu}) => {\r\n\r\n    const user = useSelector(state => state.user)\r\n    const currentDialog = useSelector(state => state.user.currentDialog)\r\n    const dialogs = useSelector(state => state.user.dialogs)\r\n    const searchInput = useSelector(state => state.search.value)\r\n    const names = useSelector(state => state.search.names)\r\n\r\n    switch(currentWindow){\r\n        case CHATS:\r\n            if(searchInput === '') return (\r\n                <div>\r\n                {dialogs.map((post, index)=> (\r\n                    <DialogItem \r\n                        key={post?.id} \r\n                        id={post?.id}\r\n                        index={index}\r\n                        name={post?.other_members?.length === 1 ? post?.other_members[0].name : 'Групповой диалог'}\r\n                        lastTalk={post?.last_message ? post?.last_message : 'There is no messages'}\r\n                        changeDialog={changeDialog}\r\n                        current={currentDialog === post.id}\r\n                        unreadCount = {post.unread_count}\r\n                        online={post?.other_members.length === 1 ? post?.other_members[0].user_status : undefined}\r\n                        otherMembers={post?.other_members}/>\r\n                ))}\r\n                </div>\r\n            )\r\n            else return (\r\n                <div className={mobile.MMessenger}>{\r\n                    names.map((post, index)=> (\r\n                        <DialogItem \r\n                            key={post?.id} \r\n                            id={post?.id}\r\n                            index={index}\r\n                            name={post.name}\r\n                            lastTalk={'There is no messages'}\r\n                            changeDialog={addUser}\r\n                            current={false}\r\n                            unreadCount = {0}\r\n                            online={post.user_status}\r\n                            otherMembers={post?.other_members}/>\r\n                    ))}</div>\r\n            )\r\n        case SETTINGS: \r\n            return (\r\n                <div className={mobile.MMessenger}>\r\n                    <Settings />\r\n                </div>\r\n            )\r\n        case MESSENGER:\r\n            return (\r\n                <div className={mobile.MMessenger}>\r\n                    <WorkSpace companion={dialogs.find(Dialog => (Dialog.id === currentDialog))} setMobileMenu={setMobileMenu}/>\r\n                </div>\r\n            )\r\n        default:\r\n            return <div>Messenger Error!</div>\r\n    }\r\n}\r\n\r\nexport default MMessenger","const defaultState = {\r\n    talks: [],\r\n    currentTalk: -1,\r\n    lastTalk: -1\r\n}\r\n\r\nconst SET_TALKS = 'setTalks'\r\nconst SET_CURRENT_TALK = 'setCurrentTalk'\r\nconst SET_LAST_TALK = 'setLastTalk'\r\n\r\nexport const talksReducer = (state = defaultState, action) => {\r\n    switch(action.type){\r\n        case SET_TALKS:\r\n            return {...state, talks: action.payload}\r\n        case SET_CURRENT_TALK:\r\n            return {...state, currentTalk: action.payload}\r\n        case SET_LAST_TALK: \r\n            return {...state, lastTalk: action.payload}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setTalks = (payload) => ({type: SET_TALKS, payload})\r\nexport const setCurrentTalk = (payload) => ({type: SET_CURRENT_TALK, payload})\r\nexport const setLastTalk = (payload) => ({type: SET_LAST_TALK, payload})","export default __webpack_public_path__ + \"static/media/settings.93a39797.svg\";","import React, { useState, useEffect } from 'react'\r\nimport { isMobile } from 'react-device-detect'\r\n\r\nimport DialogItem from '../dialogItem/DialogItem'\r\nimport Search from '../Search/Search'\r\nimport Settings from '../Settings/Settings'\r\nimport MMesenger from '../mobileMessenger/MMessenger'\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setTalks, setCurrentTalk, setLastTalk } from '../../../store/talksReducer';\r\nimport axios from 'axios'\r\n\r\nimport { Separator, Dialog, Member } from '../../../constructor'\r\nimport { getMessages, createTalk, getTalks } from '../../../../chatAPI'\r\n\r\nimport classes from './dialogsField.module.css'\r\nimport mobile from './mobile.module.css'\r\nimport settingsIMG from './settings.svg'\r\nimport unnamed from './unnamed.jpg'\r\nimport Companion from '../../chatField/chat/Companion/Companion'\r\n\r\n// функция сортировки массива объектов по полю, с числовым значением\r\nfunction byField(field) {\r\n    return (a, b) => +a[field] > +b[field] ? -1 : 1;\r\n}\r\n\r\nexport const CHATS = 'Chats'\r\nexport const SETTINGS = 'Settings'\r\nexport const MESSENGER = 'Messenger'\r\nexport const LOGOUT = 'Log out'\r\n\r\nconst DialogsField = ({ setLoggedOut }) => {\r\n        \r\n    const dispatch = useDispatch()\r\n\r\n    const user = useSelector(state => state.user)\r\n    const currentDialog = useSelector(state => state.user.currentDialog)\r\n    const dialogs = useSelector(state => state.user.dialogs)\r\n    const searchInput = useSelector(state => state.search.value)\r\n    const names = useSelector(state => state.search.names)\r\n\r\n    const [settings, setSettingsWindow] = useState(false)\r\n    const [mobileMenu, setMobileMenu] = useState(CHATS)\r\n    /* UI */\r\n    useEffect( () => {\r\n        if(!isMobile) {\r\n            const container = document.getElementById('leftColumn')\r\n            const rightColumg = document.getElementById('rightColumn')\r\n            const handler = document.getElementById(\"resizer\")\r\n            handler.addEventListener('dblclick', (e) => {\r\n                rightColumg.style.width = 100 + '%'\r\n                container.style.width = 30 + '%'\r\n            })\r\n            handler.addEventListener('mousedown', rightMouseDown)\r\n            function rightMouseDown(e) {\r\n            e.preventDefault()\r\n            document.onmousemove = rightElementDrag;\r\n            document.onmouseup = closeDragElement;\r\n            }\r\n            function rightElementDrag(e) {\r\n            e = e || window.event\r\n            e.preventDefault()\r\n            \r\n            const width = e.clientX;\r\n            rightColumg.style.width = `calc(100% - ${width}px)`\r\n            container.style.width = width + 'px'\r\n            }\r\n            \r\n            function closeDragElement() {\r\n            document.onmouseup = null\r\n            document.onmousemove = null\r\n            }\r\n        }\r\n      }, []) \r\n\r\n    /*самая сложная функция этого проекта\r\n    изменяется currentDialog на новый кликнутый, получаются разговоры оттуда, потом по тем разговорам получаются\r\n    получаются сообщения, и если их меньше, чем нужно для появления полосы прокрутки, то подгружаются следующие \r\n    до тех пор, пока они не закончатся или пока полоса не появится\r\n    примерно их 20 штук, но мониторы разные, поэтому стоит сделать 40\r\n    в случае отсутствия разговоров создаётся разговор 'First Talk'\r\n    также в начале messages сделать на [], чтоб не показывались сообщения из прошлого диалога,\r\n    пока не подгрузились новые*/\r\n\r\n    const changeDialog = async (id) => {\r\n        if(isMobile)setMobileMenu(MESSENGER)\r\n        dispatch({type: 'setMessages', payload: []})\r\n\r\n        dispatch({type:'setCurrentDialog', payload: id})\r\n        let res = await getTalks(id)\r\n        if(res.talks?.length) {\r\n            const lastTalkIndex = res.talks.length-1\r\n            const sortedTalks = res.talks.sort(byField(\"id\")).reverse()\r\n\r\n            dispatch(setTalks(sortedTalks))\r\n            dispatch(setCurrentTalk(sortedTalks[lastTalkIndex].id))\r\n            dispatch(setLastTalk(sortedTalks[lastTalkIndex].id))\r\n\r\n            let messages = await getMessages(sortedTalks[lastTalkIndex].id)\r\n            dispatch({type: 'setMessages', payload: messages})\r\n\r\n            let totalMessages = [...messages]\r\n            let loadedTalkId = lastTalkIndex\r\n            \r\n            while(totalMessages.length < 20) {\r\n                loadedTalkId = loadedTalkId - 1\r\n                let nextMessages = await getMessages(sortedTalks[loadedTalkId]?.id)\r\n                if(nextMessages) {\r\n                    let separator = new Separator(sortedTalks[loadedTalkId+1].title)\r\n                    totalMessages = [...totalMessages, separator, ...nextMessages]\r\n                    dispatch({type: 'setMessages', payload: totalMessages})\r\n                } else break\r\n            }\r\n        } else {\r\n            let newTalk = await createTalk('First talk!', id)\r\n            dispatch(setCurrentTalk(newTalk.id))\r\n            dispatch(setLastTalk(newTalk.id))\r\n        }  \r\n    }\r\n\r\n    const getAvatar = (id) => {\r\n        return id ? '/get_file?file_id=' + id : unnamed\r\n    }\r\n\r\n    const changeWindow = (e) => {\r\n        console.log(e.target.value)\r\n        setMobileMenu(e.target.value)\r\n        if(e.target.value == LOGOUT){\r\n            axios.get('/un_authorize')\r\n            setLoggedOut(false)\r\n            document.location.reload()\r\n        }\r\n    }\r\n\r\n    const addUser = (id) => {\r\n        let name = names.find(item => item.id == id).name\r\n        console.log(name, id)\r\n        axios({\r\n            method: 'post',\r\n            url: \"/create_dialog\",\r\n            data: {\r\n                title: name,\r\n                members: [user.id, id]\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(name, res.data)\r\n            if(res.data.status === 0)dispatch({ type: 'setUserDialogs', payload: [...dialogs, new Dialog(res.data.id, null, [new Member(null, name, 0)])] })\r\n            else if(res.data.status === 1) alert('диалог занят')\r\n            else if(res.data.status === 666) alert('Ошибка')\r\n        })\r\n        .catch(error => console.log(error))\r\n    }\r\n    \r\n    if(isMobile) return (\r\n        <div className={mobile.Dialogs}>\r\n            <div className={mobile.navbar}>\r\n                {mobileMenu !== MESSENGER\r\n                ?<select className={mobile.topSelect} onChange={e => changeWindow(e)}>\r\n                    <option value={CHATS}>Chats</option>\r\n                    <option value={SETTINGS}>Settins</option>\r\n                    <option value={LOGOUT}>Log Out</option>\r\n                </select>\r\n                : ''}\r\n                {((currentDialog) => {\r\n                    if (currentDialog !== -1) return (\r\n                        <Companion companion={dialogs.find(Dialog => currentDialog === Dialog.id)} setMobileMenu={setMobileMenu}/>\r\n                    )\r\n                })(currentDialog)}\r\n            </div>\r\n            \r\n            {mobileMenu !== MESSENGER ?<Search settings={settings}/>: ''}\r\n            <div className={mobile.DialogList}>\r\n                <MMesenger currentWindow={mobileMenu} changeDialog={changeDialog} addUser={addUser} setMobileMenu={setMobileMenu}/>\r\n            </div>\r\n        </div>\r\n    )\r\n    else return (\r\n        <div className={classes.Dialogs} id=\"leftColumn\">\r\n            <div className={classes.handlerRight} id=\"resizer\"></div>\r\n\r\n            <div style={{height: settings ? '10%' : '20%'}} className={classes.searchBox}>\r\n                <div className={classes.dialogFieldSBox}>\r\n                    <div onClick={(e) => {e.stopPropagation()}}>\r\n                        <button className={classes.dropDownMenuButton} onClick={() => setSettingsWindow((settings => !settings))}>\r\n                            <img src={settingsIMG} alt=''/>\r\n                        </button>\r\n                    </div>\r\n                    <div className={classes.userInfo} onClick={() => (dispatch({type: 'DISABLE_MENU'}))}>\r\n                        <img src={getAvatar(user.photoURL)} alt='' className={classes.userAvatar}/>\r\n                        <h2>{user.name}</h2>\r\n                    </div>\r\n                </div>\r\n                {mobileMenu === CHATS? <Search settings={settings}/> : <div style={{display:'none'}}></div>}\r\n            </div>\r\n\r\n            <div className={classes.DialogList} style={{height: settings ? '90%' : '80%'}}>\r\n                {!settings ? \r\n                dialogs.map((post, index)=> (\r\n                    <DialogItem \r\n                        key={post?.id} \r\n                        id={post?.id}\r\n                        index={index}\r\n                        name={post?.other_members?.length === 1 ? post?.other_members[0].name : 'Групповой диалог'}\r\n                        lastTalk={post?.last_message ? post?.last_message : 'There is no messages'}\r\n                        changeDialog={changeDialog}\r\n                        current={currentDialog === post.id}\r\n                        unreadCount = {post.unread_count}\r\n                        online={post?.other_members.length === 1 ? post?.other_members[0].user_status : undefined}\r\n                        otherMembers={post?.other_members}/>\r\n                ))\r\n                : <Settings setSettingsWindow={setSettingsWindow} setLoggedOut={setLoggedOut} active={settings}/>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DialogsField;\r\n","export default \"data:image/jpeg;base64,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\"","export default __webpack_public_path__ + \"static/media/chatbubbles.74c1e356.svg\";","export default __webpack_public_path__ + \"static/media/person.3b7bc461.svg\";","import { io } from 'socket.io-client'\r\n\r\nexport const socket = io();","export default __webpack_public_path__ + \"static/media/meow.1d6ccc8c.mp3\";","import React, { useState, useEffect } from 'react'\r\nimport { isMobile } from 'react-device-detect'\r\nimport DialogsField from './components/messenger/dialogs/dialogField/DialogField'\r\nimport WorkSpace from './components/messenger/chatField/chat/workSpace/workSpace'\r\nimport Navbar from './components/mobile/NavBar/Navbar'\r\n\r\nimport { socket } from './socket'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { changeSearchInput } from './components/store/searchReducer'\r\nimport useSound from 'use-sound'\r\n\r\nimport { afkManager } from './afkManager'\r\nimport { Talk, Message, Dialog, Member, Separator, isYesterday, isCurrentDay } from './components/constructor'\r\n\r\nimport './App.css'\r\nimport meow from './imagesAndSounds/meow.mp3'\r\n\r\nfunction Messenger({ setLoggedOut }) {\r\n    const [activeNavbar, setActiveNav] = useState(true)\r\n\r\n    const dispatch = useDispatch() //диспетчер\r\n    const [meowSound] = useSound(meow, {volume: 0.03}) //звук мяу\r\n    \r\n    //нужные данные из хранилища\r\n    const user = useSelector(state => state.user)\r\n    const messages = useSelector(state => state.messages.messages)\r\n    const dialogs = useSelector(state => state.user.dialogs)\r\n    const talks  = useSelector(state => state.talks.talks)\r\n    const lastTalk = useSelector(state => state.talks.lastTalk)\r\n    const currentDialog = useSelector(state => state.user.currentDialog)\r\n    const sound = useSelector(state => state.UI.sound)\r\n    \r\n    /* Убираем меню поиска, меню собеседника и меню прикрепления медиа файлов по клику по другой области */\r\n    const blurInput = () => {\r\n        dispatch(changeSearchInput(''))\r\n        dispatch({ type: 'DISABLE_NAMES' })\r\n        dispatch({ type: 'DISABLE_MENU' })\r\n        dispatch({ type: 'setCompanionDisabled' })\r\n        dispatch({ type: \"setAttachDisabled\"})\r\n    }\r\n  \r\n  \r\n    const [res, setResponse] = useState(null)\r\n    const [userStatus, setUserStatus] = useState(null)\r\n    const [newDialog, setNewDialog] = useState(null)\r\n    const [newTalk, setNewTalk] = useState(null)\r\n\r\n  /* прослушивание событий с бекенда */\r\n    useEffect(() => {\r\n        socket.on(\"socket_info\", res => {\r\n            setResponse(res) \r\n        })\r\n        socket.on('socket_status', res => {\r\n            setUserStatus(res)\r\n        })\r\n        socket.on(\"new_dialog\", res => {\r\n            setNewDialog(res)\r\n        })\r\n        socket.on(\"new_talk\", res => {\r\n            setNewTalk(res)\r\n        })\r\n    }, []) \r\n\r\n    /* Добавление диалога в режиме real time */\r\n    useEffect(() => {\r\n        if (newDialog !== null) {\r\n            const _dialogs = [...dialogs, new Dialog(newDialog.dialog_id, 'There is no messages', [new Member(newDialog.other_members[0].avatar_id, newDialog.other_members[0].name, newDialog.other_members[0].user_status)])]\r\n            dispatch({type: 'setUserDialogs', payload: _dialogs})\r\n        }\r\n    }, [newDialog, dispatch] )\r\n\r\n    /* Обработка добавления нового разговора у другого человека */\r\n    useEffect(() => {\r\n        if (newTalk !== null) {\r\n            if (currentDialog === newTalk.dialog_id) {\r\n                const _talks = [...talks, new Talk(newTalk.talk_id, newTalk.title, newTalk.date)]\r\n                dispatch({type: 'setTalks', payload: _talks})\r\n                dispatch({type: 'setCurrentTalk', payload: newTalk.talk_id})\r\n                dispatch({type: 'setLastTalk', payload: newTalk.talk_id})\r\n                dispatch({type: 'setMessages', payload: [...messages, new Separator(newTalk.title)]})\r\n            }\r\n        }\r\n    }, [newTalk, dispatch])\r\n\r\n    /* Обновление статуса пользователя */\r\n    useEffect(() => {\r\n        if (userStatus !== null) {\r\n            const _dialogs = dialogs.map((dialog) => {\r\n                if (dialog.id === userStatus.dialog_id) {\r\n                    return {...dialog, other_members: dialog.other_members.map(item => { return {...item, user_status: userStatus.user_status}}) } \r\n                } else {\r\n                    return dialog\r\n                }\r\n            })\r\n            dispatch({type: 'setUserDialogs', payload: _dialogs})\r\n        }\r\n    }, [userStatus, dispatch])\r\n\r\n    /* Обработка ответа на socket_info, т.е. добавление нового сообщения в нужный диалог */\r\n    useEffect(() => {\r\n        if (res !== null) {\r\n            const _dialog = dialogs.map(dialog => {\r\n                if (dialog.id === res.dialog_id) {\r\n                    return { ...dialog, unread_count: res.dialog_id !== currentDialog ? res.unread_count : 0, last_message: res.type === 'text' ? res.value : res.type}\r\n                }\r\n                else return dialog\r\n            })\r\n            dispatch({type: 'setUserDialogs', payload: _dialog})\r\n            if (currentDialog === res.dialog_id) {\r\n                if(isCurrentDay(talks.filter(item => item.id === lastTalk)[0].date))dispatch({type: 'setMessages', payload: [new Message(res.message_id, res.sender, res.value, res.date, res.type), ...messages] })\r\n                else dispatch({type: 'setMessages', payload: [new Message(res.message_id, res.sender, res.value, res.date, res.type), new Separator(isYesterday(undefined, true)), ...messages] })\r\n            }\r\n            if ( (currentDialog !== res.dialog_id || document.visibilityState === 'hidden') && sound) meowSound()\r\n            socket.emit('read_messages', {dialog_id :user.currentDialog})\r\n        }\r\n    }, [res, dispatch])\r\n\r\n\r\n    if (isMobile) {\r\n    return (\r\n        <div className=\"App\" onClick={() => blurInput()}>\r\n            <DialogsField setLoggedOut={setLoggedOut}/>\r\n            {/* <WorkSpace companion={dialogs.find(Dialog => (Dialog.id === currentDialog))}/> */}\r\n            {/* <Navbar active={activeNavbar}/> */}\r\n        </div>\r\n    )} else {\r\n        return (\r\n            <div className=\"App\" onClick={() => blurInput()}>\r\n                <DialogsField setLoggedOut={setLoggedOut}/>\r\n                <WorkSpace companion={dialogs.find(Dialog => Dialog.id === currentDialog)}/>\r\n            </div>\r\n    )}\r\n}\r\n\r\nexport default Messenger","import React from 'react'\r\nimport classes from './Loader.module.css'\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <div className={classes.ldsDualDing}>.</div>\r\n    )\r\n}\r\n\r\nexport default Loader\r\n","import React, {useState} from 'react'\r\nimport {Link, useHistory} from 'react-router-dom'\r\nimport { isMobile, mobileModel } from 'react-device-detect'\r\n\r\nimport axios from 'axios'\r\n\r\nimport classes from './loginpage.module.css'\r\nimport mobile from './loginpageMobile.module.css'\r\n\r\nconst re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n\r\nconst RegPage = ({setFlash}) => {\r\n    const [logPassword, setForm] = useState({\r\n        name: '',\r\n        age: '',\r\n        login: '',\r\n        password: '',\r\n        password2: ''\r\n    })\r\n\r\n    const [nameValid, setNameValid] = useState({\r\n        length: false,\r\n        nameIsOccupied: false\r\n    })\r\n\r\n    const [warning, setWarning] = useState('')\r\n    \r\n    const history = useHistory()\r\n\r\n    const checkName = event => {\r\n        setForm({...logPassword, name: event.target.value})\r\n        axios({\r\n            method: 'get',\r\n            url: '/check_name',\r\n            params: {\r\n                userName: event.target.value\r\n            },\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.54 Safari/537.36'\r\n            }\r\n        }).then(res => {\r\n            setNameValid({...nameValid, nameIsOccupied: res.data.status})\r\n        }).catch(error => alert(error))\r\n    }\r\n\r\n\r\n    const send = (event) => {\r\n        event.preventDefault()\r\n        axios({\r\n            method: 'post',\r\n            url: '/register_new_user',\r\n            // onUploadProgress: () => {\r\n            //     history.push({pathname: '/login', state: {flash: 'Confirm your mail and Log in'}})\r\n            // },\r\n            data: {\r\n                userName: logPassword.name,\r\n                email: logPassword.login,\r\n                password: logPassword.password,\r\n                age: logPassword.age\r\n              },\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n                //'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.54 Safari/537.36'\r\n            }\r\n        }).then(res => {\r\n            let data = res.data\r\n            if (data.status === 1) {\r\n                setWarning('Name or email already engaged')\r\n            }\r\n            if (data.status === 0) {\r\n                history.push({pathname: '/login', state: {flash: 'Confirm your mail and Log in'}})\r\n                setFlash('Confirm your mail and Log in')\r\n            }   \r\n            setFlash(data.info)\r\n        }).catch(error => console.log(error))\r\n}   \r\n\r\n    return (\r\n        <form className={\r\n            isMobile \r\n            ? classes.authForm + ' ' + classes.regForm + ' ' + mobile.authFormM \r\n            : classes.authForm + ' ' + classes.regForm} \r\n            method='POST'>\r\n            <h2> Registration </h2>\r\n                {warning}\r\n                <input className={classes.formInput} placeholder='Your nickname' value={logPassword.name} onChange={checkName} required style={{color: nameValid.nameIsOccupied || logPassword.name.length > 19 ? 'red' : '#5E6472'}}></input>\r\n                <input className={classes.formInput} placeholder='Your age' value={logPassword.age} onChange={(e) => setForm({...logPassword, age: e.target.value})} required style={{color: logPassword.age < 12 || logPassword.age > 110 ? '#cc0000' : \"#5E6472\"}}></input>\r\n                <input className={classes.formInput} placeholder='Your Email' value={logPassword.login} onChange={(e) => (setForm({...logPassword, login: e.target.value}))} required={true} style={{color: re.test(String(logPassword.login).toLowerCase()) && logPassword.login !== '' ? '#5E6472' : 'red'}}></input>\r\n                <input className={classes.formInput} placeholder='Your Password' type='password' value={logPassword.password} onChange={(e) => setForm({...logPassword, password: e.target.value})} required={true}></input>\r\n                <input className={classes.formInput} placeholder='Repeat password' type='password' value={logPassword.password2} onChange={(e) => setForm({...logPassword, password2: e.target.value})} required={true}></input>\r\n                <p style={{color: '#fffff0', marginBottom: '0'}}>\r\n                    {nameValid.nameIsOccupied \r\n                    ? 'This name is already taken' \r\n                    : \"Password contains at least 8 characters \"}\r\n                </p>\r\n                {(logPassword.password !== logPassword.password2 \r\n                || (logPassword.password === '' && logPassword.password2 === '')) \r\n                    ? <p style={{color: 'red', marginBottom: '0'}}>Password mismatch!</p> \r\n                    : <p style={{color: 'green', marginBottom: '0'}}>Password match</p>}\r\n                <div className={classes.buttons}>\r\n                    <Link to={'/login'} className={classes.LoginPageButton} \r\n                    style={{margin: '2%',                                  \r\n                            width: '100%', \r\n                            padding: '15px'}} \r\n                            type='submit'\r\n                            onClick={send}\r\n                            disabled={\r\n                                (logPassword.password !== logPassword.password2 || (logPassword.password === '' && logPassword.password2 === '') \r\n                                || (logPassword.name === '') \r\n                                || logPassword.age < 12) \r\n                                || !re.test(String(logPassword.login).toLowerCase()) \r\n                                || logPassword.password.length < 8 \r\n                                || nameValid.nameIsOccupied \r\n                                || logPassword.name.length > 19}>Register now</Link>\r\n                </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default RegPage\r\n","import React, {useState} from 'react'\r\nimport {useLocation, Link} from 'react-router-dom'\r\nimport {isMobile} from 'react-device-detect'\r\n\r\nimport axios from 'axios'\r\nimport {socket} from '../../socket'\r\nimport {useDispatch} from 'react-redux'\r\n\r\nimport classes from './loginpage.module.css'\r\nimport mobile from './loginpageMobile.module.css'\r\n\r\nconst LogIn = ({setLoggedIn}) => {\r\n    const [logPassword, setForm] = useState({\r\n        login: '',\r\n        password: ''\r\n    })\r\n\r\n    const dispatch = useDispatch()\r\n    const [forgotSmth, setForgotsmth] = useState('')\r\n    const location = useLocation()\r\n    \r\n    const login = e => {\r\n        e.preventDefault()\r\n        axios({\r\n            method: 'post',\r\n            url: '/authorize',\r\n            data: {\r\n                email: logPassword.login.trim(),\r\n                password: logPassword.password\r\n            },\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.54 Safari/537.36'\r\n            }\r\n        }).then(res => {\r\n            if (!res.data.status) {\r\n                setLoggedIn(true)\r\n                dispatch({type: 'setUser', payload: {\r\n                    id: res.data.id,\r\n                    name: res.data.name,\r\n                    photoURL: res.data.avatar_id ? res.data.avatar_id: 0,\r\n                    dialogs: res.data.dialogs\r\n                }})\r\n                    socket.emit(\"authorize\", {id: res.data.id})\r\n            }\r\n            if (res.data.status === 1) {\r\n                if (res.data.info === 'user not found') {\r\n                    setForgotsmth('Incorrect login or password')\r\n                }\r\n                else setForgotsmth(res.data.info)\r\n            }\r\n        }).catch(error => console.log(error))\r\n    }\r\n\r\n    const passwordRecovery = event => {\r\n        event.preventDefault()\r\n    }\r\n\r\n    if (isMobile) {\r\n        return (\r\n            <div className={classes.authFormDiv + ' ' + mobile.authFormDivM}>\r\n                <form className={classes.authForm + ' ' + mobile.authFormM}>\r\n                <h2> LogIn </h2>\r\n                    <p style={{margin: 0, padding: 0, color: '#fffff1'}}>\r\n                        {location.state?.flash ? location.state.flash : ''}\r\n                    </p>\r\n                    <input className={classes.formInput} placeholder='Email' value={logPassword.login} onChange={(e) => setForm({...logPassword, login: e.target.value })}/>\r\n                    <input className={classes.formInput} placeholder='Password' type='password' value={logPassword.password} onChange={(e) => setForm({...logPassword, password: e.target.value})}/>\r\n                    <p className={classes.flashMessage}>\r\n                        {forgotSmth}\r\n                    </p>\r\n                    {/* <div className={classes.buttons}> */}\r\n                        <button className={classes.LoginPageButton + ' ' + mobile.LoginPageButtonM} onClick={(e) => (login(e))}>Log In</button>\r\n                        <Link to={'/m.recovery'} className={classes.LoginPageButton + ' ' + mobile.LoginPageButtonM}>Forgot password?</Link>\r\n                    {/* </div> */}\r\n\r\n                </form>\r\n            </div>\r\n    )} else {\r\n        return (\r\n            <div className={classes.authFormDiv}>\r\n                <form className={classes.authForm}>\r\n                    <h2> LogIn </h2>\r\n                    <p style={{margin: 0, padding: 0, color: '#fffff1'}}>\r\n                        {location.state?.flash ? location.state.flash : ''}\r\n                    </p>\r\n                    <input className={classes.formInput} placeholder='Email' value={logPassword.login} onChange={(e) => setForm({...logPassword, login: e.target.value })}/>\r\n                    <input className={classes.formInput} placeholder='Password' type='password' value={logPassword.password} onChange={(e) => setForm({...logPassword, password: e.target.value})}/>\r\n                    <p className={classes.flashMessage}>\r\n                        {forgotSmth}\r\n                    </p>\r\n                    <div className={classes.buttons}>\r\n                        <button className={classes.LoginPageButton} onClick={(e) => (login(e))}>Log In</button>\r\n                        <Link to={'/recovery'} className={classes.LoginPageButton}>Forgot password?</Link>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        )}\r\n}\r\n\r\nexport default LogIn\r\n","import React, {useState} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport { isMobile } from 'react-device-detect'\r\n\r\nimport axios from 'axios'\r\n\r\nimport classes from './passwordRecover.module.css'\r\nimport mobile from './loginpageMobile.module.css'\r\n\r\nconst PasswordRecoveryPage = () => {\r\n    const [email, setEmail] = useState('')\r\n\r\n    const passwordRecovery = () => {\r\n        axios({\r\n            method: 'POST',\r\n            url: '/reset_password',\r\n            data: {\r\n                email: email\r\n            }\r\n        })\r\n    }\r\n\r\n    if(isMobile) return (\r\n        <div className={mobile.recoveryPage}>\r\n            <div className={classes.recoveryFormItem}>\r\n                <h2>Enter your e-mail</h2>\r\n                <input value={email} onChange={e => setEmail(e.target.value)} className={classes.formInput} placeholder='Email'></input>\r\n                <div className={isMobile ? mobile.buttonsM : classes.buttons}>\r\n                    <button onClick={passwordRecovery} className={mobile.LoginPageButtonM + ' ' + classes.LoginPageButton}>\r\n                        Continue\r\n                    </button>\r\n                    <Link to={isMobile ? '/m.login' : '/login'} className={mobile.LoginPageButtonM + ' ' + classes.LoginPageButton}>\r\n                        Back\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    else return (\r\n        <div className={classes.recoveryPage}>\r\n            <div className={classes.recoveryFormItem}>\r\n                <h2>Enter your e-mail</h2>\r\n                <input value={email} onChange={e => setEmail(e.target.value)} className={classes.formInput} placeholder='Email'></input>\r\n                <div className={classes.buttons}>\r\n                    <button onClick={passwordRecovery} className={classes.LoginPageButton}>\r\n                        Continue\r\n                    </button>\r\n                    <Link to={isMobile ? '/m.login' : '/login'} className={classes.LoginPageButton}>\r\n                        Back\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PasswordRecoveryPage\r\n","export default __webpack_public_path__ + \"static/media/logo.9821ec5d.png\";","import React, {useState, /*useEffect*/} from 'react'\r\nimport { Route, Link, Redirect, /*useLocation*/ } from 'react-router-dom'\r\nimport { isMobile } from 'react-device-detect'\r\n\r\nimport RegPage from './RegPage'\r\nimport LogIn from './logInPage'\r\nimport Particles from 'react-particles-js'\r\nimport PasswordRecoveryPage from './passwordRecoveryPage'\r\n\r\nimport classes from \"./loginpage.module.css\"\r\nimport mobile from \"./loginpageMobile.module.css\"\r\n\r\nimport params from '../particlesParams'\r\nimport logo from '../images/logo.png'\r\n\r\nconst WelcomePage = ({setUser /*, setUserInfo*/}) => {\r\n    const [flashMsg, setFlashMsg] = useState('')\r\n\r\n    if (isMobile) {\r\n        return (\r\n            <div className={mobile.loginPage}>\r\n                <header className={mobile.header}>\r\n                    <img src={logo} height={'100%'}/>\r\n                </header>\r\n                <Route key={'/m.login'} exact={true} path={'/m.login'} component={() => <LogIn setLoggedIn={setUser} setFlash={setFlashMsg} flash={flashMsg}/>}/>\r\n                <Route key={'/m.registration'} exact={true} path={'/m.registration'} component={() => <RegPage setFlash={setFlashMsg}/>} />\r\n                <Route key={'/m.recovery'} exact={true} path={'/m.recovery'} component={() => <PasswordRecoveryPage/>}/>\r\n                <Redirect to={'/m.login'} />\r\n                <div className={mobile.registrationBlock}>\r\n                    <p>Talk is a new messenger with an advanced TALK system. Are you not with us yet? Register now!</p>\r\n                    <Link className={classes.LoginPageButton + ' ' + mobile.LoginPageButtonM} to={'/m.registration'}>Register</Link>\r\n                </div>\r\n            </div>\r\n        )\r\n    } else {\r\n        return (\r\n            <div>\r\n                <div className={classes.loginPage}>\r\n                <Particles  className={classes.particlesDiv} \r\n                            params={params.particles}/>\r\n                    <Route key={'/registration'} exact={true} path={'/registration'} component={() => (<RegPage setFlash={setFlashMsg}/>)} />\r\n                    <Route key={'/login'} exact={true} path={'/login'} component={() => (<LogIn setLoggedIn={setUser} setFlash={setFlashMsg} flash={flashMsg}/>)}/>\r\n                    <Route key={'/recovery'} exact={true} path={'/recovery'} component={() => <PasswordRecoveryPage/>}/>\r\n                    <div className={classes.loginPageAvatar}>\r\n                        <div className={classes.loginLogo}><img src={logo} height='180' alt='logo'/></div>\r\n                        <div className={classes.loginPageText}>\r\n                            <p>Talk is a new messenger with an advanced TALK system. Are you not with us yet? Register now!</p>\r\n                            <Link to={'/registration'} className={classes.LoginPageButton + ' ' + classes.ButtonText + ' ' + classes.regButton}>Register now!</Link>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Redirect to={'/login'} />\r\n            </div>\r\n    )}\r\n}\r\n\r\nexport default WelcomePage\r\n","import React, {useState, useEffect} from 'react'\r\nimport {useDispatch} from 'react-redux'\r\nimport {Route, Switch, Redirect, BrowserRouter} from 'react-router-dom'\r\n\r\nimport axios from 'axios'\r\n\r\nimport Messenger from './messenger'\r\nimport Loader from './components/Loader'\r\nimport WelcomePage from './components/welcomepage/WelcomePage'\r\n\r\nimport './App.css'\r\n\r\nfunction App() {\r\n    const dispatch = useDispatch()\r\n    const [userIsLoggedIn, setUserLoggedIn] = useState('loading')\r\n\r\n    useEffect( () => {    \r\n        axios({\r\n            method: 'get',\r\n            url: '/is_authorized',\r\n        }).then(res => {\r\n            if(res.data.status === 0){\r\n                setUserLoggedIn(res.data.is_auth)\r\n                dispatch({type: 'setUser', payload: {\r\n                    id: res.data.id,\r\n                    name: res.data.name,\r\n                    dialogs: res.data.dialogs ? res.data.dialogs : [],\r\n                    photoURL: res.data.avatar_id\r\n                }})\r\n            }\r\n        }).catch(error => console.log(error))\r\n    }, [dispatch])\r\n\r\n    \r\n    if (userIsLoggedIn === 'loading') {\r\n        return (\r\n            <div style={{height: '100vh', backgroundColor: 'black'}}>\r\n                <Loader />\r\n            </div>\r\n        )\r\n    } else return (\r\n        <BrowserRouter>\r\n          {userIsLoggedIn \r\n          ?(\r\n              <Switch>\r\n                  <Route key={'/talk'} exact={true} path={'/talk'} component={() =>( <Messenger setLoggedOut={setUserLoggedIn} active={!(userIsLoggedIn === 'loading')}/>)} />\r\n                  <Redirect to={'/talk'} />\r\n              </Switch>\r\n          )\r\n          :(\r\n              <Switch>\r\n                  <WelcomePage setUser={setUserLoggedIn}/>\r\n              </Switch>\r\n          )}\r\n        </BrowserRouter>\r\n    )\r\n}\r\n\r\nexport default App","const defaultState = {\r\n    active: false\r\n}\r\n\r\nconst DISABLE_MENU = 'DISABLE_MENU'\r\nconst ABLE_MENU = 'ABLE_MENU'\r\n\r\nexport const settingsReducer = (state = defaultState, action) => {\r\n    switch(action.type){\r\n        case DISABLE_MENU: \r\n            return {...state, active: false}\r\n        case ABLE_MENU:\r\n            return {...state, active: true}\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport const disableMenu = () => ({type: DISABLE_MENU})\r\nexport const showMenu = () => ({type: ABLE_MENU})","const defaultState = {\r\n    photoURL: 0,\r\n    id: 0,\r\n    name: 'none',\r\n    bio: '',\r\n    dialogs: [],\r\n    currentDialog: -1\r\n}\r\n\r\nconst SET_USER = 'setUser'\r\nconst SET_USER_ID = 'setUserId'\r\nconst SET_USER_NAME = 'setUserName'\r\nconst SET_USER_DIALOGS = 'setUserDialogs'\r\nconst SET_USER_CURRENT_DIALOG = 'setCurrentDialog'\r\nconst SET_USER_PHOTO = 'setUserPhoto'\r\n\r\nexport const userReducer = (state = defaultState, action) => {\r\n    switch(action.type){\r\n        case SET_USER: \r\n            return {...state, id: action.payload.id, name: action.payload.name, photoURL: action.payload?.photoURL, dialogs: action.payload.dialogs ? action.payload.dialogs : []}\r\n        case SET_USER_ID:\r\n            return {...state, id: action.payload}\r\n        case SET_USER_NAME: \r\n            return {...state, name: action.payload}\r\n        case SET_USER_DIALOGS: \r\n            return {...state, dialogs: action.payload}\r\n        case SET_USER_CURRENT_DIALOG:\r\n            return {...state, currentDialog: action.payload}\r\n        case SET_USER_PHOTO:\r\n            return {...state, photoURL: action.payload}\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport const setUser = (payload) => ({type: SET_USER, payload})\r\nexport const setUserID = (payload) => ({type: SET_USER_ID, payload})\r\nexport const setUserName = (payload) => ({type: SET_USER_NAME, payload})\r\nexport const setUserDialogs = (payload) => ({type: SET_USER_DIALOGS, payload})\r\nexport const setUserCurrentDialog = (payload) => ({type: SET_USER_CURRENT_DIALOG, payload})\r\nexport const setUserPhoto = (payload) => ({type: SET_USER_PHOTO, payload})","const defaultState = {\r\n    messages: []\r\n}\r\n\r\nconst SET_MESSAGES = 'setMessages'\r\n\r\nexport const messagesReducer = (state = defaultState, action) => {\r\n    switch(action.type) {\r\n        case SET_MESSAGES:\r\n            return {...state, messages: action.payload}\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport const setMessages = (payload) => ({type: SET_MESSAGES, payload})","const defaultState = {\r\n    active: false,\r\n    talksIsActive: true\r\n}\r\n\r\nconst SET_ACTIVE = 'setCompanionActive'\r\nconst SET_DISABLED = 'setCompanionDisabled'\r\nconst SET_TALKS_ACTIVE = 'setTalksActive'\r\nconst SET_TALKS_DISABLED = 'setTalksDisabled'\r\n \r\nexport const companionReducer = (state = defaultState, action) => {\r\n    switch(action.type) {\r\n        case SET_ACTIVE:\r\n            return {...state, active: true}\r\n        case SET_DISABLED: \r\n            return {...state, active: false}\r\n        case SET_TALKS_ACTIVE: \r\n            return {...state, talksIsActive: true}\r\n        case SET_TALKS_DISABLED: \r\n            return {...state, talksIsActive: false}\r\n        default: return state\r\n    }\r\n}","const defaultState = {\r\n    active: true\r\n}\r\n\r\nconst SET_ATTACH_ACTIVE = 'setAttachActive'\r\nconst SET_ATTACH_DISABLED = \"setAttachDisabled\"\r\n\r\n\r\nexport const attachMenuReducer = (state = defaultState, action) => {\r\n    switch(action.type) {\r\n        case SET_ATTACH_ACTIVE:\r\n            return {...state, active: true}\r\n        case SET_ATTACH_DISABLED:\r\n            return {...state, active: false}\r\n        default: return state\r\n    }\r\n}","import { createStore, combineReducers } from \"redux\";\r\nimport { settingsReducer } from \"./settingsReducer\";\r\nimport { searchReducer } from './searchReducer'\r\nimport { userReducer } from \"./userReducer\";\r\nimport { messagesReducer } from \"./allMessagesReducer\";\r\nimport { talksReducer } from \"./talksReducer\";\r\nimport { UIReducer } from \"./UIReducer\";\r\nimport { companionReducer } from \"./companionMenuReducer\";\r\nimport { attachMenuReducer } from \"./attachMenuReducer\";\r\n\r\n// action = {type: '', payload: ''}\r\n// в type - тип изменения, в payload - сами данные, которые нужны чтоб изменить состояние\r\n\r\nconst rootReducer = combineReducers({\r\n    settings: settingsReducer,\r\n    search: searchReducer,\r\n    user: userReducer,\r\n    messages: messagesReducer,\r\n    talks: talksReducer,\r\n    UI: UIReducer,\r\n    companion: companionReducer,\r\n    attachMenu: attachMenuReducer\r\n})\r\n\r\nexport const store = createStore(rootReducer)","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { Provider } from 'react-redux'\r\nimport {store} from './components/store/store'\r\n\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"uisettings\":\"UISettings_uisettings__1VXO9\",\"fontChanger\":\"UISettings_fontChanger__17fUX\",\"container\":\"UISettings_container__2WW5H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Dialogs\":\"dialogsField_Dialogs__LBPbM\",\"handlerRight\":\"dialogsField_handlerRight__3i7sJ\",\"searchBox\":\"dialogsField_searchBox__56uOb\",\"DialogList\":\"dialogsField_DialogList__2OYY8\",\"dialogFieldSBox\":\"dialogsField_dialogFieldSBox__3iN5s\",\"logOutBtn\":\"dialogsField_logOutBtn__Txre7\",\"dropDownMenuButton\":\"dialogsField_dropDownMenuButton__1AEwp\",\"userAvatar\":\"dialogsField_userAvatar__3GoJ7\",\"userInfo\":\"dialogsField_userInfo__10O3T\",\"dropDownMenu\":\"dialogsField_dropDownMenu__2Hccs\",\"appear\":\"dialogsField_appear__2pSK3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"companion_avatar__XDZoj\",\"companion\":\"companion_companion__3K_5c\",\"companionInfo\":\"companion_companionInfo__5GabF\",\"talkButton\":\"companion_talkButton__bKdWj\",\"companionButtons\":\"companion_companionButtons__S5vhg\",\"dropDownMenu\":\"companion_dropDownMenu__33XCz\",\"appear\":\"companion_appear__3oH01\",\"companionButtonsItem\":\"companion_companionButtonsItem__3ojCx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Dialogs\":\"mobile_Dialogs__1mnmo\",\"navbar\":\"mobile_navbar__2tT61\",\"DialogList\":\"mobile_DialogList__2Hoxc\",\"topSelect\":\"mobile_topSelect__1AviS\"};"],"sourceRoot":""}