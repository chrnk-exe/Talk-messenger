(this.webpackJsonpkamen=this.webpackJsonpkamen||[]).push([[0],{111:function(e,t,a){},142:function(e,t,a){},148:function(e,t,a){e.exports={ldsDualDing:"Loader_ldsDualDing__mXFmd"}},155:function(e,t,a){},22:function(e,t,a){e.exports={ProfileSettings:"profileSetting_ProfileSettings__1Osx7",bio:"profileSetting_bio__1SHu1",inputBox:"profileSetting_inputBox__TcNKG",profileInput:"profileSetting_profileInput__2LfPe",ProfileSettingsField:"profileSetting_ProfileSettingsField__3PU5v",settingsLabel:"profileSetting_settingsLabel__2aAsZ",bioLabel:"profileSetting_bioLabel__36tjU"}},25:function(e,t,a){e.exports={msgListItem:"MessageListItem_msgListItem__3Y0ZJ",right:"MessageListItem_right__3F495",center:"MessageListItem_center__3kLeH",left:"MessageListItem_left__5NaCu",time:"MessageListItem_time__1Y_Zc"}},37:function(e,t,a){e.exports={dialogItem:"dialogItem_dialogItem__1vQgO",currentItem:"dialogItem_currentItem__3m2gC",avatar:"dialogItem_avatar__1gz_z",dialogItemText:"dialogItem_dialogItemText__1PXB0",left:"dialogItem_left__35l8S",dot:"dialogItem_dot__3-_No",lastMessageContainer:"dialogItem_lastMessageContainer__Gg4kz",lastMessage:"dialogItem_lastMessage__oS6F2",nameContainer:"dialogItem_nameContainer__1F5H2",isOnline:"dialogItem_isOnline__2saCs"}},46:function(e,t,a){e.exports={settings:"Settings_settings__5MMiW",backButtonPlace:"Settings_backButtonPlace__2SAAn",backButton:"Settings_backButton__39lmX",buttons:"Settings_buttons__2SUm4",settingButton:"Settings_settingButton__3QEA3"}},49:function(e,t,a){e.exports={Dialogs:"dialogsField_Dialogs__LBPbM",handlerRight:"dialogsField_handlerRight__3i7sJ",searchBox:"dialogsField_searchBox__56uOb",DialogList:"dialogsField_DialogList__2OYY8",dialogFieldSBox:"dialogsField_dialogFieldSBox__3iN5s",logOutBtn:"dialogsField_logOutBtn__Txre7",dropDownMenuButton:"dialogsField_dropDownMenuButton__1AEwp",userAvatar:"dialogsField_userAvatar__3GoJ7",userInfo:"dialogsField_userInfo__10O3T",dropDownMenu:"dialogsField_dropDownMenu__2Hccs",appear:"dialogsField_appear__2pSK3",disappear:"dialogsField_disappear__IaOnA"}},51:function(e,t,a){e.exports={searchBox:"Search_searchBox__1UN8S",searchInput:"Search_searchInput__C1E6a",dropDownList:"Search_dropDownList__30Ch4",searchItem:"Search_searchItem__2waLf",isOnline:"Search_isOnline__9KdFE",searchImage:"Search_searchImage__2xxnc"}},52:function(e,t,a){e.exports={dialogWindow:"MainWindow_dialogWindow__cFnRE",txtArea:"MainWindow_txtArea__24awv",messageText:"MainWindow_messageText__3gc7V",wInputContainer:"MainWindow_wInputContainer__1Wl9G",attachButton:"MainWindow_attachButton__Z6d-T",inputAttachment:"MainWindow_inputAttachment__1KlpW",wInputTextGroup:"MainWindow_wInputTextGroup__3hbz2",wPlaceholder:"MainWindow_wPlaceholder__24uXl",wrapper:"MainWindow_wrapper__3YoC7",wInputText:"MainWindow_wInputText__vsBKV",sendButton:"MainWindow_sendButton__2JXv6",wtf:"MainWindow_wtf__2lorL"}},533:function(e,t,a){"use strict";a.r(t);var n=a(3),s=a(79),c=a.n(s),o=(a(155),a(12)),i=a(21),r=a.n(i),l=(a(111),a(55)),u=a(16),g=a(6),d=a.n(g),A=a(44),b=a(4),p=a(28),m=a(49),j=a.n(m),O=a(37),h=a.n(O),f="data:image/jpeg;base64,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",B=a(8),Q=a(0),I=function(e){var t=e.id,a=(e.index,e.name),n=e.lastTalk,s=e.onclick,c=e.current,o=e.unreadCount,i=e.online,r=e.otherMembers,l=Object(B.c)((function(e){return e.user.currentDialog}));return Object(Q.jsxs)("div",{className:c?h.a.dialogItem+" "+h.a.currentItem:h.a.dialogItem,onClick:function(){s(t)},children:[Object(Q.jsxs)("div",{className:h.a.left,children:[Object(Q.jsxs)("div",{className:h.a.avatar,children:[Object(Q.jsx)("img",{src:1===(null===r||void 0===r?void 0:r.length)&&r[0].avatar_id?function(e){return"/get_file?file_id="+e}(r[0].avatar_id):f,alt:""}),Object(Q.jsx)("span",{style:{display:i?"flex":"none"},className:h.a.isOnline,children:"\u2022"})]}),Object(Q.jsxs)("div",{className:h.a.dialogItemText,children:[Object(Q.jsx)("div",{className:h.a.nameContainer,children:Object(Q.jsx)("h3",{children:a})}),Object(Q.jsx)("div",{className:h.a.lastMessageContainer,children:Object(Q.jsx)("p",{className:h.a.lastMessage,children:n})})]})]}),Object(Q.jsx)("div",{className:h.a.dot,style:{opacity:o&&l!==t?"1":"0"},children:o})]})},v=a.p+"static/media/settings.93a39797.svg",x=a(51),C=a.n(x),w={activeInput:!1,value:""},y="DISABLE_NAMES",E="SHOW_NAMES",D="searchInputChange",k=function(e){return{type:D,payload:e}},T=function(e){var t=e.createDialog,a=e.settings,s=Object(n.useState)([]),c=Object(o.a)(s,2),i=c[0],l=c[1],u=Object(B.c)((function(e){return e.user})),g=Object(B.c)((function(e){return e.search.value})),d=Object(B.c)((function(e){return e.search.activeInput})),A=Object(B.b)(),b=function(e,a){console.log(a,u.id),r()({method:"post",url:"/create_dialog",data:{title:e,members:[u.id,a]}}).then((function(a){console.log(e,a.data.id),0===a.data.status?t(e,a.data.id):1===a.data.status?alert("\u0434\u0438\u0430\u043b\u043e\u0433 \u0437\u0430\u043d\u044f\u0442"):666===a.data.status&&alert("\u041e\u0448\u0438\u0431\u043a\u0430")})).catch((function(e){return console.log(e)}))};return Object(Q.jsxs)("div",{className:C.a.searchBox,children:[Object(Q.jsx)("input",{onClick:function(e){return e.stopPropagation()},style:{opacity:a?0:1},className:C.a.searchInput,onFocus:function(){return A({type:"SHOW_NAMES"})},placeholder:"Search",value:g,onChange:function(e){0!==e.target.value.length?r()({method:"get",url:"/search_user",params:{value:e.target.value}}).then((function(e){console.log(e.data),l(e.data.users)})).catch((function(e){return console.log(e)})):l([]),A(k(e.target.value))}}),Object(Q.jsx)("div",{className:C.a.dropDownList,style:{display:g.length&&d?"flex":"none"},children:Object(Q.jsx)("ul",{children:i.length?i.map((function(e,t){return Object(Q.jsx)(N,{srcPath:(a=e.avatar_id,a?"/get_file?file_id="+a:"data:image/jpeg;base64,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"),name:e.name,id:e.id,searchUser:b,isOnline:e.user_status},e.id);var a})):Object(Q.jsx)("li",{className:C.a.searchItem,children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"})})})]})},N=function(e){var t=e.srcPath,a=e.name,n=e.id,s=e.searchUser,c=e.isOnline;return Object(Q.jsxs)("li",{className:C.a.searchItem,onClick:function(){s(a,n)},children:[Object(Q.jsxs)("div",{className:C.a.searchImage,children:[Object(Q.jsx)("img",{height:"30",width:"30",style:{borderRadius:"75%"},src:t,alt:""}),Object(Q.jsx)("span",{style:{display:c?"flex":"none"},className:C.a.isOnline,children:"\u2022"})]}),Object(Q.jsx)("p",{children:a})]})},S=a(22),U=a.n(S),M=function(){var e=Object(B.c)((function(e){return e.user})),t=Object(n.useState)(!0),a=Object(o.a)(t,2),s=a[0],c=a[1],i=Object(n.useState)({name:e.name,password1:"",password2:"",bio:e.bio}),l=Object(o.a)(i,2),u=l[0],g=l[1],d=Object(n.useState)(""),A=Object(o.a)(d,2),p=A[0],m=A[1];return Object(Q.jsxs)("div",{className:U.a.ProfileSettings,children:[Object(Q.jsx)("p",{children:"axios"}),Object(Q.jsx)("input",{type:"file",onChange:function(e){console.log(e.target.files[0]),m(e.target.files[0])}}),Object(Q.jsx)("button",{onClick:function(){var e=new FormData;e.append("file",p),r.a.post("/upload_avatar",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){0===e.data.status&&console.log(p)})).catch((function(e){return console.log(e)}))},children:"\u0421\u043c\u0435\u043d\u0438\u0442\u044c!"}),Object(Q.jsx)("p",{children:"html?"}),Object(Q.jsxs)("div",{className:U.a.ProfileSettingsField,children:[Object(Q.jsxs)("div",{className:U.a.inputBox,children:[Object(Q.jsx)("input",{name:"settingsName",type:"text",className:U.a.profileInput,style:s&&e.name!==u.name?{color:"red"}:{color:"#FFFFF1"},required:!0,value:u.name,onChange:function(t){g(Object(b.a)(Object(b.a)({},u),{},{name:t.target.value})),t.target.value!==e.name&&r()({method:"get",url:"/check_name",params:{userName:t.target.value},headers:{"Content-Type":"application/json"}}).then((function(e){c(e.data.status)})).catch((function(e){return alert(e)}))}}),Object(Q.jsx)("label",{htmlFor:"settingsName",className:U.a.settingsLabel,children:"Username (required)"})]}),Object(Q.jsxs)("div",{className:U.a.inputBox,children:[Object(Q.jsx)("input",{name:"settingsPassword1",type:"password",className:U.a.profileInput,required:!0,value:u.password1,onChange:function(e){return g(Object(b.a)(Object(b.a)({},u),{},{password1:e.target.value}))}}),Object(Q.jsx)("label",{htmlFor:"settingsPassword1",className:U.a.settingsLabel,children:"Password"})]}),Object(Q.jsxs)("div",{className:U.a.inputBox,children:[Object(Q.jsx)("input",{name:"settingsPassword2",type:"password",className:U.a.profileInput,required:!0,value:u.password2,onChange:function(e){return g(Object(b.a)(Object(b.a)({},u),{},{password2:e.target.value}))}}),Object(Q.jsx)("label",{htmlFor:"settingsPassword2",className:U.a.settingsLabel,children:"Repeat password"})]}),Object(Q.jsxs)("div",{className:U.a.inputBox,children:[Object(Q.jsx)("input",{name:"settingsPassword2",type:"password",className:U.a.profileInput,required:!0,value:u.bio,onChange:function(e){return g(Object(b.a)(Object(b.a)({},u),{},{bio:e.target.value}))}}),Object(Q.jsx)("label",{htmlFor:"settingsPassword2",className:U.a.settingsLabel,children:"Bio"}),Object(Q.jsxs)("div",{className:U.a.bio,children:[Object(Q.jsx)("p",{className:U.a.bioLabel,children:"Any details such as age, occupation or city."}),Object(Q.jsx)("p",{className:U.a.bioLabel,children:"Example: 23 y.o. designer from San Francisco"})]})]})]})]})},F=function(){return Object(Q.jsx)("div",{children:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"})},H=function(){return Object(Q.jsx)("div",{children:"\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u043e\u0441\u0442\u0438"})},_=a(98),L=a.n(_),G={fontSize:16,color:"#FFFFF1",backgroundColorMessage:"#333",backgroundColorWindow:"#0F0F0F"},P="setFontSize",W="setBackgroundColorForMessage",z="setBackgroundColor",X="setColor",J=function(){var e=Object(B.b)(),t=Object(B.c)((function(e){return e.UI.fontSize}));return Object(Q.jsxs)("div",{className:L.a.uisettings,children:[Object(Q.jsx)("input",{type:"number",readOnly:!0,value:t}),Object(Q.jsx)("input",{className:L.a.fontSizer,type:"range",max:20,min:12,step:1,value:t,onChange:function(t){e({type:"setFontSize",payload:t.target.value})}})]})},V=a(46),K=a.n(V),R=a.p+"static/media/arrowBack.44d5abd3.svg",Z=function(e){var t=e.setSettingsWindow,a=e.setLoggedOut,s=Object(n.useState)(!0),c=Object(o.a)(s,2),i=c[0],r=c[1],l=Object(n.useState)("Global"),u=Object(o.a)(l,2),g=u[0],d=u[1],A="Notifications",b="Profile",p="Private";return Object(Q.jsxs)("div",{className:K.a.settings,children:[Object(Q.jsxs)("div",{className:K.a.backButtonPlace,children:[Object(Q.jsx)("button",{className:K.a.backButton,onClick:function(){i?t(!1):r(!0)},children:Object(Q.jsx)("img",{src:R,alt:""})})," Back "]}),i?Object(Q.jsxs)("div",{className:K.a.buttons,children:[Object(Q.jsx)("button",{className:K.a.settingButton,onClick:function(){r(!1),d("UI")},children:"General Settings"}),Object(Q.jsx)("button",{className:K.a.settingButton,onClick:function(){r(!1),d(b)},children:"Profile Settings"}),Object(Q.jsx)("button",{className:K.a.settingButton,onClick:function(){r(!1),d(A)},children:"Notifications"}),Object(Q.jsx)("button",{className:K.a.settingButton,onClick:function(){r(!1),d(p)},children:"Privacy"}),Object(Q.jsx)("a",{href:"/un_authorize",className:K.a.settingButton,onClick:function(){return a(!1)},children:"Log Out"})]}):function(e){switch(e){case"Global":return Object(Q.jsx)("div",{children:"Settings!"});case b:return Object(Q.jsx)(M,{});case A:return Object(Q.jsx)(F,{});case p:return Object(Q.jsx)(H,{});case"UI":return Object(Q.jsx)(J,{});default:return Object(Q.jsx)("div",{children:"\u0427\u0451 \u0431\u043b\u0438\u043d \u0442\u044b \u0447\u0451 \u0441\u043e\u0432\u0441\u0435\u043c \u0434\u043e\u043b\u0431\u0430\u043d\u0443\u0442\u044b\u0439? \u0442\u044b \u043a\u0430\u043a \u0441\u044e\u0434\u0430 \u043f\u043e\u043f\u0430\u043b?"})}}(g)]})};function Y(e,t,a){if(!(this instanceof Y?this.constructor:void 0))return new Y(e,t,a);this.id=e,this.last_message=t,this.other_members=a}function q(e,t,a){if(!(this instanceof q?this.constructor:void 0))return new q(e,t,a);this.avatar_id=e,this.name=t,this.user_status=a}function $(e,t,a,n,s){if(!(this instanceof $?this.constructor:void 0))return new $(e,t,a,n,s);this.sender=t,this.value=a,this.date=n,this.id=e,this.center=!1,this.type="text"}function ee(e,t,a){if(!(this instanceof ee?this.constructor:void 0))return new ee(e,t,a);this.id=e,this.title=t,this.date=a}function te(e){if(!(this instanceof te?this.constructor:void 0))return new te(e);this.sender=null,this.center=!0,this.value=e,this.date="",this.type="text",this.id=1e4*Math.random()}function ae(e){return function(t,a){return+t[e]>+a[e]?-1:1}}var ne=function(e){var t=e.dialogs,a=e.setLoggedOut,s=e.getTalks,c=e.getMessages,i=e.createDialog,r=e.createTalk,l=Object(B.b)(),u=Object(B.c)((function(e){return e.user})),g=Object(B.c)((function(e){return e.user.currentDialog})),b=Object(n.useState)(!1),m=Object(o.a)(b,2),O=m[0],h=m[1];Object(n.useEffect)((function(){var e=document.getElementById("leftColumn"),t=document.getElementById("rightColumn"),a=document.getElementById("resizer");function n(a){(a=a||window.event).preventDefault();var n=a.clientX;t.style.width="calc(100% - ".concat(n,"px)"),e.style.width=n+"px"}function s(){document.onmouseup=null,document.onmousemove=null}a.addEventListener("dblclick",(function(a){t.style.width="100%",e.style.width="30%"})),a.addEventListener("mousedown",(function(e){e.preventDefault(),document.onmousemove=n,document.onmouseup=s}))}),[]);var f,x=function(){var e=Object(A.a)(d.a.mark((function e(t){var a,n,o,i,u,g,A,b,m,j,O;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l({type:"setCurrentDialog",payload:t}),e.next=3,s(t);case 3:if(n=e.sent,!(null===(a=n.talks)||void 0===a?void 0:a.length)){e.next=33;break}return o=n.talks.length-1,i=n.talks.sort(ae("id")).reverse(),l({type:"setTalks",payload:i}),l({type:"setCurrentTalk",payload:i[o].id}),l({type:"setLastTalk",payload:i[o].id}),e.next=12,c(i[o].id);case 12:u=e.sent,l({type:"setMessages",payload:u}),g=Object(p.a)(u),console.log(g),A=o;case 17:if(!(g.length<20)){e.next=31;break}return A-=1,e.next=21,c(null===(b=i[A])||void 0===b?void 0:b.id);case 21:if(!(m=e.sent)){e.next=28;break}j=new te(i[A].title),g=[].concat(Object(p.a)(g),[j],Object(p.a)(m)),l({type:"setMessages",payload:g}),e.next=29;break;case 28:return e.abrupt("break",31);case 29:e.next=17;break;case 31:e.next=38;break;case 33:return e.next=35,r("First talk!",t);case 35:O=e.sent,l({type:"setCurrentTalk",payload:O.id}),l({type:"setLastTalk",payload:O.id});case 38:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Q.jsxs)("div",{className:j.a.Dialogs,id:"leftColumn",children:[Object(Q.jsx)("div",{className:j.a.handlerRight,id:"resizer"}),Object(Q.jsxs)("div",{style:{height:O?"10%":"20%"},className:j.a.searchBox,children:[Object(Q.jsxs)("div",{className:j.a.dialogFieldSBox,children:[Object(Q.jsx)("div",{onClick:function(e){e.stopPropagation()},children:Object(Q.jsx)("button",{className:j.a.dropDownMenuButton,onClick:function(){return h((function(e){return!e}))},children:Object(Q.jsx)("img",{src:v,alt:""})})}),Object(Q.jsxs)("div",{className:j.a.userInfo,onClick:function(){return l({type:"DISABLE_MENU"})},children:[Object(Q.jsx)("img",{src:u.photoURL?(f=u.photoURL,"/get_file?file_id="+f):"data:image/jpeg;base64,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",alt:"",className:j.a.userAvatar}),Object(Q.jsx)("h2",{children:u.name})]})]}),Object(Q.jsx)(T,{createDialog:i,settings:O})]}),Object(Q.jsx)("div",{className:j.a.DialogList,style:{height:O?"90%":"80%"},children:O?Object(Q.jsx)(Z,{setSettingsWindow:h,setLoggedOut:a,active:O}):t.map((function(e,t){var a;return Object(Q.jsx)(I,{id:null===e||void 0===e?void 0:e.id,index:t,name:1===(null===e||void 0===e||null===(a=e.other_members)||void 0===a?void 0:a.length)?null===e||void 0===e?void 0:e.other_members[0].name:"\u0413\u0440\u0443\u043f\u043f\u043e\u0432\u043e\u0439 \u0434\u0438\u0430\u043b\u043e\u0433",lastTalk:(null===e||void 0===e?void 0:e.last_message)?null===e||void 0===e?void 0:e.last_message:"There is no messages",onclick:x,current:g===e.id,unreadCount:e.unread_count,online:1===(null===e||void 0===e?void 0:e.other_members.length)?null===e||void 0===e?void 0:e.other_members[0].user_status:void 0,otherMembers:null===e||void 0===e?void 0:e.other_members},null===e||void 0===e?void 0:e.id)}))})]})},se=a(99),ce=a.n(se),oe=a(52),ie=a.n(oe),re=a(25),le=a.n(re),ue=a(100),ge=function(e){var t=e.from,a=e.center,n=e.text,s=(e.name,e.time),c=Object(B.c)((function(e){return e.UI}));return t?Object(Q.jsx)(ue.Fade,{right:!0,duration:400,children:Object(Q.jsx)("div",{className:t?le.a.right+" "+le.a.msgListItem:a?le.a.msgListItem+" "+le.a.center:le.a.left+" "+le.a.msgListItem,children:Object(Q.jsxs)("p",{style:{fontSize:c.fontSize+"px"},className:le.a.text,children:[n,Object(Q.jsx)("span",{className:le.a.time,children:s})]})})}):Object(Q.jsx)(ue.Fade,{left:!0,duration:400,children:Object(Q.jsx)("div",{className:t?le.a.right+" "+le.a.msgListItem:a?le.a.msgListItem+" "+le.a.center:le.a.left+" "+le.a.msgListItem,children:Object(Q.jsxs)("p",{style:{fontSize:c.fontSize+"px"},className:le.a.text,children:[n,Object(Q.jsx)("span",{className:le.a.time,children:s})]})})})},de=a(82),Ae=a.n(de),be=function(e){var t=e.active,a=e.getMessages,s=Object(B.b)(),c=Object(n.useRef)(null),i=Object(n.useState)(!1),r=Object(o.a)(i,2),l=r[0],u=r[1],g=Object(B.c)((function(e){return e.user})),b=Object(B.c)((function(e){return e.messages.messages})),m=Object(B.c)((function(e){return e.talks})),j=function(){u((function(e){return!e}))},O=function(){var e=Object(A.a)(d.a.mark((function e(t){var n,c,o,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}if(!(n=m.talks.findIndex((function(e){if(e.id===m.currentTalk)return!0})))){e.next=10;break}return c=m.talks[n-1].id,s({type:"setCurrentTalk",payload:c}),e.next=7,a(c);case 7:o=e.sent,i=new te(m.talks[n-1].title),s({type:"setMessages",payload:[].concat(Object(p.a)(b),[i],Object(p.a)(o))});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){c.current.scrollTo({top:0,behavior:"instant"})}),[g.currentDialog]),Object(Q.jsx)("div",{style:{paddingInline:t?"15px":"15%"},ref:c,className:l?Ae.a.MessageList:Ae.a.MessageList+" "+Ae.a.MessageListNoScroll,onScroll:function(){return O(Math.abs(c.current.scrollHeight+c.current.scrollTop-c.current.clientHeight)<10)},onMouseOver:j,onMouseOut:j,children:b?b.map((function(e,t){return Object(Q.jsx)(ge,{from:g.id==e.sender,center:e.center?e.center:null,text:e.value,time:e.date},e.id)})):Object(Q.jsx)(ge,{from:!0,text:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u044d\u0442\u043e\u043c\u0443 \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0443!",time:"\u0410 \u044d\u0442\u043e \u043d\u0435 \u0432\u0430\u0436\u043d\u043e"})})},pe=a(66),me=a.n(pe),je="data:image/jpeg;base64,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",Oe=function(e){var t,a,n,s=e.companion,c=e.setActive,o=Object(B.c)((function(e){var t;return null===(t=e.user.dialogs.find((function(t){return t.id===e.user.currentDialog})))||void 0===t?void 0:t.other_members[0].user_status}));return Object(Q.jsxs)("div",{className:me.a.companion,style:(null===s||void 0===s?void 0:s.other_members.length)?{display:"flex"}:{display:"none"},children:[Object(Q.jsxs)("div",{className:me.a.companionInfo,children:[Object(Q.jsx)("div",{className:me.a.avatar,children:Object(Q.jsx)("img",{alt:"",src:1===(null===s||void 0===s?void 0:s.other_members.length)?(n=s.other_members[0].avatar_id,n?"/get_file?file_id="+n:je):je})}),Object(Q.jsxs)("div",{children:[Object(Q.jsx)("h2",{style:{marginLeft:(null===s||void 0===s||null===(t=s.other_members)||void 0===t?void 0:t.length)?"":"15px"},children:(null===s||void 0===s||null===(a=s.other_members)||void 0===a?void 0:a.length)?1===(null===s||void 0===s?void 0:s.other_members.length)?null===s||void 0===s?void 0:s.other_members[0].name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u043e\u0432\u043e\u0433\u043e \u0440\u0430\u0437\u0433\u043e\u0432\u043e\u0440\u0430":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0438\u0430\u043b\u043e\u0433"}),Object(Q.jsx)("p",{children:1===(null===s||void 0===s?void 0:s.other_members.length)?o?"online":s.other_members[0].date_visit?"last visit on "+s.other_members[0].date_visit:"last seen recently":""})]})]}),Object(Q.jsx)("button",{className:me.a.talkButton,onClick:function(){c((function(e){return!e}))},children:"Talks \u2192"})]})},he=a.p+"static/media/attach.fd096489.svg",fe=function(e){var t=e.companion,a=e.sendMessage,s=e.active,c=e.setActiveTalkMenu,i=e.getMessages,r=Object(n.useRef)(null),l=Object(n.useState)(""),u=Object(o.a)(l,2),g=u[0],d=u[1],A=Object(B.c)((function(e){return e.user})),b=function(e){e.preventDefault(),d(""),""!==g&&a(g)};return Object(n.useEffect)((function(){r.current.style.height="0px";var e=r.current.scrollHeight;r.current.style.height=e+"px"}),[g]),Object(Q.jsxs)("div",{className:ie.a.dialogWindow,children:[Object(Q.jsx)(Oe,{companion:t,setActive:c}),Object(Q.jsx)(be,{active:s,getMessages:i}),Object(Q.jsxs)("form",{style:{marginInline:s?"15px":"15%",visibility:-1===A.currentDialog?"hidden":"visible"},className:ie.a.txtArea,children:[Object(Q.jsxs)("div",{className:ie.a.wInputContainer,children:[Object(Q.jsx)("textarea",{id:"input",ref:r,className:ie.a.wrapper,placeholder:"Type a message",value:g,onKeyDown:function(e){"Enter"===e.code&&b(e)},onChange:function(e){return d(e.target.value)}}),Object(Q.jsx)("button",{onClick:function(e){e.preventDefault()},className:ie.a.attachButton,children:Object(Q.jsx)("img",{className:ie.a.inputAttachment,src:he,alt:""})})]}),Object(Q.jsx)("button",{style:{display:"none"},className:ie.a.sendButton,onClick:function(e){return b(e)},children:"Send"})]})]})},Be=a(56),Qe=a.n(Be),Ie=a(83),ve=a.n(Ie),xe=function(e){e.id;var t=e.name,a=(e.item,e.current);e.onclick,Object(B.b)();return Object(Q.jsx)("div",{className:a?ve.a.talkItem+" "+ve.a.currentTalkItem:ve.a.talkItem,children:t})},Ce=function(e){var t=e.current,a=e.setTalk,n=e.createTalk,s=e.currentDialog,c=e.active,o=Object(B.b)(),i=Object(B.c)((function(e){return e.talks.talks})),r=function(){var e=Object(A.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("New Talk!",s);case 2:t=e.sent,o({type:"setTalks",payload:[].concat(Object(p.a)(i),[new ee(t.id,"New Talk!","27.09.2021")])}),o({type:"setCurrentTalk",payload:t.id}),o({type:"setLastTalk",payload:t.id});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Q.jsxs)("div",{className:Qe.a.talks,style:c?{width:"35%"}:{width:"0%",border:"none"},children:[Object(Q.jsx)("button",{onClick:r,className:Qe.a.talksHead,children:"Search"}),Object(Q.jsxs)("div",{className:Qe.a.talksItems,children:[Object(Q.jsx)("div",{className:Qe.a.noTalkItem,children:"Coming soon!"}),i?i.map((function(e){return Object(Q.jsx)(xe,{id:e.id,name:e.title,item:e,current:t===e.id,onclick:a},e.id)})):Object(Q.jsx)("div",{className:Qe.a.noTalkItem,children:"\u0415\u0449\u0451 \u043d\u0435 \u0437\u0430\u0432\u0435\u0434\u0435\u043d\u043e \u043d\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u0440\u0430\u0437\u0433\u043e\u0432\u043e\u0440\u0430"})]})]})},we=a(80),ye=a.n(we),Ee={snow:{particles:{number:{value:100,density:{enable:!0}},size:{value:10,random:!0},opacity:{value:.5,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},move:{direction:"bottom",out_mode:"out",speed:1,bounce:!1},line_linked:{enable:!1}},interactivity:{events:{onclick:{enable:!1,mode:"push"}}}},particles:{particles:{number:{value:80,density:{enable:!1,value_area:800}},color:{value:"#ffffff"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5}},opacity:{value:.5,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:4,random:!0,anim:{enable:!1,speed:10,size_min:.1,sync:!1}},line_linked:{enable:!0,distance:100,color:"#fffff1",opacity:.2,width:.5},move:{enable:!0,speed:1,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"bubble"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:126,line_linked:{opacity:1}},bubble:{distance:160,size:6,duration:2,opacity:8,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:2},remove:{particles_nb:2}}},retina_detect:!0},coolSnow:{particles:{number:{value:100,density:{enable:!0,value_area:800}},color:{value:"#ffffff"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:.125,random:!0,anim:{enable:!0,speed:.1,opacity_min:.01,sync:!1}},size:{value:12,random:!1,anim:{enable:!0,speed:40,size_min:5,sync:!1}},line_linked:{enable:!1,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:1.2,direction:"bottom",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!1,mode:"repulse"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0}},De=function(e){var t=e.id,a=e.companion,s=e.currentTalk,c=e.getMsg,i=e.sendMessage,r=e.createTalk,l=Object(n.useState)(!1),u=Object(o.a)(l,2),g=u[0],d=u[1];return Object(Q.jsxs)("div",{className:ce.a.workTree,id:"rightColumn",children:[Object(Q.jsx)(ye.a,{className:ce.a.particles,params:Ee.coolSnow}),Object(Q.jsx)(fe,{companion:a,sendMessage:i,active:g,setActiveTalkMenu:d,getMessages:c}),Object(Q.jsx)(Ce,{current:s,setTalk:function(e){c(e)},createTalk:r,currentDialog:t,active:g})]})},ke=a(150),Te=Object(ke.a)(),Ne=a(147),Se=a.p+"static/media/meow.1d6ccc8c.mp3";var Ue=function(e){var t=e.setLoggedOut,a=Object(B.b)(),s=Object(Ne.a)(Se,{volume:.03}),c=Object(o.a)(s,1)[0],i=Object(B.c)((function(e){return e.user})),l=Object(B.c)((function(e){return e.messages.messages})),u=Object(B.c)((function(e){return e.user.dialogs})),g=Object(B.c)((function(e){return e.talks.talks})),m=Object(B.c)((function(e){return e.talks.currentTalk})),j=Object(B.c)((function(e){return e.talks.lastTalk})),O=Object(B.c)((function(e){return e.user.currentDialog}));console.log(u);var h=Object(n.useState)(null),f=Object(o.a)(h,2),I=f[0],v=f[1],x=Object(n.useState)(null),C=Object(o.a)(x,2),w=C[0],y=C[1],E=Object(n.useState)(null),D=Object(o.a)(E,2),T=D[0],N=D[1],S=Object(n.useState)(null),U=Object(o.a)(S,2),M=U[0],F=U[1];Object(n.useEffect)((function(){Te.on("socket_info",(function(e){v(e)})),Te.on("socket_status",(function(e){y(e)})),Te.on("new_dialog",(function(e){N(e)})),Te.on("new_talk",(function(e){F(e)}))}),[]),Object(n.useEffect)((function(){if(null!==T){var e=[].concat(Object(p.a)(u),[new Y(T.dialog_id,"There is no messages",[new q(T.other_members[0].avatar_id,T.other_members[0].name,T.other_members[0].user_status)])]);a({type:"setUserDialogs",payload:e})}}),[T,a]),Object(n.useEffect)((function(){if(null!==M&&O===M.dialog_id){var e=[].concat(Object(p.a)(g),[new ee(M.talk_id,M.title,M.date)]);a({type:"setTalks",payload:e}),a({type:"setCurrentTalk",payload:M.talk_id}),a({type:"setLastTalk",payload:M.talk_id}),a({type:"setMessages",payload:[].concat(Object(p.a)(l),[new te(M.title)])})}}),[M,a]),Object(n.useEffect)((function(){if(null!==w){var e=u.map((function(e){return e.id===w.dialog_id?Object(b.a)(Object(b.a)({},e),{},{other_members:e.other_members.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{user_status:w.user_status})}))}):e}));a({type:"setUserDialogs",payload:e})}}),[w,a]),Object(n.useEffect)((function(){if(null!==I){var e=u.map((function(e){return e.id===I.dialog_id?Object(b.a)(Object(b.a)({},e),{},{unread_count:I.dialog_id!==O?I.unread_count:0,last_message:I.value}):e}));a({type:"setUserDialogs",payload:e}),O===I.dialog_id&&a({type:"setMessages",payload:[new $(I.message_id,I.sender,I.value,I.date)].concat(Object(p.a)(l))}),O===I.dialog_id&&"hidden"!==document.visibilityState||c(),Te.emit("read_messages",{dialog_id:i.currentDialog})}}),[I]);var H=function(){var e=Object(A.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r()({method:"get",url:"/get_messages",params:{talk_id:t}});case 2:if(void 0===(a=e.sent).data.messages){e.next=7;break}return e.abrupt("return",new Promise((function(e,t){e(a.data.messages.reverse())})));case 7:return e.abrupt("return",new Promise((function(e,t){e(null)})));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(A.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r()({method:"get",url:"/get_talks",params:{dialog_id:t}});case 2:return a=e.sent,e.abrupt("return",new Promise((function(e,t){e(a.data)})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(A.a)(d.a.mark((function e(t,a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r()({method:"POST",url:"/create_talk",data:{title:t,dialog_id:a}});case 2:return n=e.sent,e.abrupt("return",new Promise((function(e,t){e(n.data)})));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(Q.jsxs)("div",{className:"App",onClick:function(){return a(k("")),a({type:"DISABLE_NAMES"}),void a({type:"DISABLE_MENU"})},children:[Object(Q.jsx)(ne,{dialogs:u,setLoggedOut:t,getTalks:_,getMessages:H,createDialog:function(e,t){a({type:"setUserDialogs",payload:[].concat(Object(p.a)(u),[new Y(t,null,[new q(null,e,0)])])})},createTalk:L}),Object(Q.jsx)(De,{id:O,companion:u.find((function(e){return e.id===O})),currentTalk:m,getMsg:H,sendMessage:function(e){r()({method:"post",url:"/send_message",data:{sender_id:i.id,talk_id:j,dialog_id:O,message_type:"text",value:e}}).then((function(e){e.data.status})).catch((function(e){return console.log(e)}))},createTalk:L})]})},Me=a(148),Fe=a.n(Me),He=function(){return Object(Q.jsx)("div",{className:Fe.a.ldsDualDing,children:"."})},_e=function(e){var t=e.setFlash,a=Object(n.useState)({name:"",age:"",login:"",password:"",password2:""}),s=Object(o.a)(a,2),c=s[0],i=s[1],g=Object(n.useState)({length:!1,nameIsOccupied:!1}),d=Object(o.a)(g,2),A=d[0],p=d[1],m=Object(n.useState)(""),j=Object(o.a)(m,2),O=j[0],h=j[1],f=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,B=Object(u.g)();return Object(Q.jsxs)("form",{className:"authForm regForm",method:"POST",children:[Object(Q.jsx)("h2",{children:" Registration "}),O,Object(Q.jsx)("input",{className:"form-input",placeholder:"Your nickname",value:c.name,onChange:function(e){i(Object(b.a)(Object(b.a)({},c),{},{name:e.target.value})),r()({method:"get",url:"/check_name",params:{userName:e.target.value},headers:{"Content-Type":"application/json","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.54 Safari/537.36"}}).then((function(e){p(Object(b.a)(Object(b.a)({},A),{},{nameIsOccupied:e.data.status}))})).catch((function(e){return alert(e)}))},required:!0,style:{color:A.nameIsOccupied||c.name.length>19?"red":"#5E6472"}}),Object(Q.jsx)("input",{className:"form-input",placeholder:"Your age",value:c.age,onChange:function(e){return i(Object(b.a)(Object(b.a)({},c),{},{age:e.target.value}))},required:!0,style:{color:c.age<12||c.age>110?"#cc0000":"#5E6472"}}),Object(Q.jsx)("input",{className:"form-input",placeholder:"Your Email",value:c.login,onChange:function(e){return i(Object(b.a)(Object(b.a)({},c),{},{login:e.target.value}))},required:!0,style:{color:f.test(String(c.login).toLowerCase())&&""!==c.login?"#5E6472":"red"}}),Object(Q.jsx)("input",{className:"form-input",placeholder:"Your Password",type:"password",value:c.password,onChange:function(e){return i(Object(b.a)(Object(b.a)({},c),{},{password:e.target.value}))},required:!0}),Object(Q.jsx)("input",{className:"form-input",placeholder:"Repeat password",type:"password",value:c.password2,onChange:function(e){return i(Object(b.a)(Object(b.a)({},c),{},{password2:e.target.value}))},required:!0}),Object(Q.jsx)("p",{style:{color:"#fffff0",marginBottom:"0"},children:A.nameIsOccupied?"This name is already taken":"Password contains at least 8 characters "}),c.password!==c.password2||""===c.password&&""===c.password2?Object(Q.jsx)("p",{style:{color:"red",marginBottom:"0"},children:"Password mismatch!"}):Object(Q.jsx)("p",{style:{color:"green",marginBottom:"0"},children:"Password match"}),Object(Q.jsx)("div",{className:"buttons",children:Object(Q.jsx)(l.b,{to:"/login",className:"LoginPageButton",style:{margin:"2%",width:"100%",padding:"15px"},type:"submit",onClick:function(e){e.preventDefault(),r()({method:"post",url:"/register_new_user",onUploadProgress:function(){},data:{userName:c.name,email:c.login,password:c.password},headers:{"Content-Type":"application/json"}}).then((function(e){var a=e.data;1===a.status&&h("Name or email already engaged"),0===a.status&&(B.push({pathname:"/login",state:{flash:"Confirm your mail and Log in"}}),t("Confirm your mail and Log in")),t(a.info),console.log(a)})).catch((function(e){return alert(e)}))},disabled:c.password!==c.password2||""===c.password&&""===c.password2||""===c.name||c.age<12||!f.test(String(c.login).toLowerCase())||c.password.length<8||A.nameIsOccupied||c.name.length>19,children:"Register now"})})]})},Le=(a(142),function(e){var t,a=e.setLoggedIn,s=Object(n.useState)({login:"",password:""}),c=Object(o.a)(s,2),i=c[0],l=c[1],g=Object(B.b)(),d=Object(n.useState)(""),A=Object(o.a)(d,2),p=A[0],m=A[1],j=Object(u.h)();return Object(Q.jsx)("div",{className:"authFormDiv",children:Object(Q.jsxs)("form",{className:"authForm",children:[Object(Q.jsx)("h2",{children:" LogIn "}),Object(Q.jsx)("p",{style:{margin:0,padding:0,color:"#fffff1"},children:(null===(t=j.state)||void 0===t?void 0:t.flash)?j.state.flash:""}),Object(Q.jsx)("input",{className:"form-input",placeholder:"Email",value:i.login,onChange:function(e){return l(Object(b.a)(Object(b.a)({},i),{},{login:e.target.value}))}}),Object(Q.jsx)("input",{className:"form-input",placeholder:"Password",type:"password",value:i.password,onChange:function(e){return l(Object(b.a)(Object(b.a)({},i),{},{password:e.target.value}))}}),Object(Q.jsx)("p",{className:"flashMessage",children:p}),Object(Q.jsxs)("div",{className:"buttons",children:[Object(Q.jsx)("button",{className:"LoginPageButton",onClick:function(e){return function(e){e.preventDefault(),r()({method:"post",url:"/authorize",data:{email:i.login.trim(),password:i.password},headers:{"Content-Type":"application/json","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.54 Safari/537.36"}}).then((function(e){e.data.status||(a(!0),console.log(e.data),g({type:"setUser",payload:{id:e.data.id,name:e.data.name,photoURL:e.data.avatar_id?e.data.avatar_id:0,dialogs:e.data.dialogs}}),Te.emit("authorize",{id:e.data.id})),1===e.data.status&&("user not found"===e.data.info?m("Incorrect login or password"):m(e.data.info))})).catch((function(e){return console.log(e)}))}(e)},children:"Log In"}),Object(Q.jsx)("button",{className:"LoginPageButton",onClick:function(){return e.preventDefault(),void console.log(i.password);var e},children:"Forgot password?"})]})]})})}),Ge=a.p+"static/media/logo.9821ec5d.png",Pe=function(e){var t=e.setUser,a=(e.setUserInfo,Object(n.useState)("")),s=Object(o.a)(a,2),c=s[0],i=s[1];return Object(Q.jsxs)("div",{children:[Object(Q.jsxs)("div",{className:"loginPage",children:[Object(Q.jsx)(ye.a,{className:"particlesDiv",params:Ee.particles}),Object(Q.jsx)(u.b,{exact:!0,path:"/registration",component:function(){return Object(Q.jsx)(_e,{setFlash:i})}},"/registration"),Object(Q.jsx)(u.b,{exact:!0,path:"/login",component:function(){return Object(Q.jsx)(Le,{setLoggedIn:t,setFlash:i,flash:c})}},"/login"),Object(Q.jsxs)("div",{className:"loginPageAvatar",children:[Object(Q.jsx)("div",{className:"loginLogo",children:Object(Q.jsx)("img",{src:Ge,height:"180",alt:"logo"})}),Object(Q.jsxs)("div",{className:"loginPageText",children:[Object(Q.jsx)("p",{children:"Talk is a new messenger with an advanced TALK system. Are you not with us yet? Register!"}),Object(Q.jsx)(l.b,{to:"/registration",className:"LoginPageButton ButtonText regButton",children:"Register now!"})]})]})]}),Object(Q.jsx)(u.a,{to:"/login"})]})};var We=function(){var e=Object(B.b)(),t=Object(n.useState)("loading"),a=Object(o.a)(t,2),s=a[0],c=a[1];return Object(n.useEffect)((function(){r()({method:"get",url:"/is_authorized"}).then((function(t){console.log(t.data),0===t.data.status&&(c(t.data.is_auth),e({type:"setUser",payload:{id:t.data.id,name:t.data.name,dialogs:t.data.dialogs?t.data.dialogs:[],photoURL:t.data.avatar_id}}))})).catch((function(e){return console.log(e)}))}),[e]),"loading"===s?Object(Q.jsx)("div",{style:{height:"100vh",backgroundColor:"black"},children:Object(Q.jsx)(He,{})}):Object(Q.jsx)(l.a,{children:s?Object(Q.jsxs)(u.d,{children:[Object(Q.jsx)(u.b,{exact:!0,path:"/talk",component:function(){return Object(Q.jsx)(Ue,{setLoggedOut:c,active:!("loading"===s)})}},"/talk"),Object(Q.jsx)(u.a,{to:"/talk"})]}):Object(Q.jsx)(u.d,{children:Object(Q.jsx)(Pe,{setUser:c})})})},ze=a(102),Xe={active:!1},Je="DISABLE_MENU",Ve="ABLE_MENU",Ke={photoURL:0,id:0,name:"none",bio:"",dialogs:[],currentDialog:-1},Re="setUser",Ze="setUserId",Ye="setUserName",qe="setUserDialogs",$e="setCurrentDialog",et="setUserPhoto",tt={messages:[]},at="setMessages",nt={talks:[],currentTalk:-1,lastTalk:-1},st="setTalks",ct="setCurrentTalk",ot="setLastTalk",it=Object(ze.a)({settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Je:return Object(b.a)(Object(b.a)({},e),{},{active:!1});case Ve:return Object(b.a)(Object(b.a)({},e),{},{active:!0});default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(b.a)(Object(b.a)({},e),{},{activeInput:!1});case E:return Object(b.a)(Object(b.a)({},e),{},{activeInput:!0});case D:return Object(b.a)(Object(b.a)({},e),{},{value:t.payload});default:return e}},user:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case Re:return Object(b.a)(Object(b.a)({},t),{},{id:a.payload.id,name:a.payload.name,photoURL:null===(e=a.payload)||void 0===e?void 0:e.photoURL,dialogs:a.payload.dialogs?a.payload.dialogs:[]});case Ze:return Object(b.a)(Object(b.a)({},t),{},{id:a.payload});case Ye:return Object(b.a)(Object(b.a)({},t),{},{name:a.payload});case qe:return Object(b.a)(Object(b.a)({},t),{},{dialogs:a.payload});case $e:return Object(b.a)(Object(b.a)({},t),{},{currentDialog:a.payload});case et:return Object(b.a)(Object(b.a)({},t),{},{photoURL:a.payload});default:return t}},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;return t.type===at?Object(b.a)(Object(b.a)({},e),{},{messages:t.payload}):e},talks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case st:return Object(b.a)(Object(b.a)({},e),{},{talks:t.payload});case ct:return Object(b.a)(Object(b.a)({},e),{},{currentTalk:t.payload});case ot:return Object(b.a)(Object(b.a)({},e),{},{lastTalk:t.payload});default:return e}},UI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(b.a)(Object(b.a)({},e),{},{fontSize:t.payload});case z:return Object(b.a)(Object(b.a)({},e),{},{backgroundColorWindow:t.payload});case W:return Object(b.a)(Object(b.a)({},e),{},{backgroundColorMessage:t.payload});case X:return Object(b.a)(Object(b.a)({},e),{},{color:t.payload});default:return e}}}),rt=Object(ze.b)(it);c.a.render(Object(Q.jsx)(B.a,{store:rt,children:Object(Q.jsx)(We,{})}),document.getElementById("root"))},56:function(e,t,a){e.exports={talks:"talks_talks__3iU0k",talksItems:"talks_talksItems__2MoAk",talksHead:"talks_talksHead__2Tcbf",noTalkItem:"talks_noTalkItem__GwLs-"}},66:function(e,t,a){e.exports={avatar:"companion_avatar__XDZoj",companion:"companion_companion__3K_5c",companionInfo:"companion_companionInfo__5GabF",talkButton:"companion_talkButton__bKdWj"}},82:function(e,t,a){e.exports={MessageList:"MessageList_MessageList__2p7Fr",MessageListNoScroll:"MessageList_MessageListNoScroll__2Bqnu"}},83:function(e,t,a){e.exports={talkItem:"talkItem_talkItem__2LEVI",currentTalkItem:"talkItem_currentTalkItem__3CtfP"}},98:function(e,t,a){e.exports={uisettings:"UISettings_uisettings__1VXO9"}},99:function(e,t,a){e.exports={workTree:"workspace_workTree__ziAfF",particles:"workspace_particles__bFWZn"}}},[[533,1,2]]]);
//# sourceMappingURL=main.a4dbcbef.chunk.js.map