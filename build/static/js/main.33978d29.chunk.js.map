{"version":3,"sources":["components/Loader.module.css","components/messenger/dialogs/Settings/profileSettings/profileSetting.module.css","components/messenger/chatField/chat/MessageListItem/MessageListItem.module.css","components/messenger/chatField/talks/talks.module.css","components/messenger/dialogs/dialogItem/dialogItem.module.css","components/messenger/chatField/chat/ChatWindow/MainWindow.module.css","components/messenger/dialogs/Settings/Settings.module.css","components/messenger/chatField/chat/Companion/companion.module.css","components/messenger/dialogs/dialogField/dialogsField.module.css","components/messenger/dialogs/dialogItem/unnamed.jpg","components/messenger/dialogs/dialogItem/DialogItem.jsx","components/messenger/dialogs/dialogField/settings.svg","components/store/searchReducer.js","components/messenger/dialogs/Search/Search.jsx","components/messenger/dialogs/Search/unnamed.jpg","components/messenger/dialogs/Settings/profileSettings/ProfileSettings.jsx","components/messenger/dialogs/Settings/profileSettings/unnamed.jpg","components/messenger/dialogs/Settings/notificationSettings/NotificationSettings.jsx","components/messenger/dialogs/Settings/privateSettings/PrivateSettings.jsx","components/store/UIReducer.js","components/messenger/dialogs/Settings/UISettings/UISettings.jsx","components/messenger/dialogs/Settings/arrowBack.svg","components/messenger/dialogs/Settings/general.svg","components/messenger/dialogs/Settings/logout.svg","components/messenger/dialogs/Settings/notifications.svg","components/messenger/dialogs/Settings/privacy.svg","components/messenger/dialogs/Settings/profile.svg","components/messenger/dialogs/Settings/Settings.jsx","components/constructor.js","components/messenger/dialogs/dialogField/DialogField.jsx","components/messenger/dialogs/dialogField/unnamed.jpg","components/messenger/chatField/chat/MessageListItem/MessageListItem.jsx","components/messenger/chatField/chat/MessageList/messageList.jsx","components/messenger/chatField/chat/Companion/unnamed.jpg","components/messenger/chatField/chat/Companion/companionSettings.svg","components/messenger/chatField/chat/Companion/Companion.jsx","components/messenger/chatField/chat/ChatWindow/attach.svg","components/messenger/chatField/chat/ChatWindow/mainDialogWindow.jsx","components/messenger/chatField/talks/talksItem.jsx","components/messenger/chatField/talks/arrowBack.svg","components/messenger/chatField/talks/talks.jsx","components/messenger/chatField/talks/unnamed.jpg","components/particlesParams.js","components/messenger/chatField/chat/workSpace/workSpace.jsx","socket.js","imagesAndSounds/meow.mp3","messenger.jsx","components/Loader.jsx","components/welcomepage/RegPage.jsx","components/welcomepage/logInPage.jsx","components/images/logo.png","components/welcomepage/WelcomePage.jsx","App.js","components/store/settingsReducer.js","components/store/userReducer.js","components/store/allMessagesReducer.js","components/store/talksReducer.js","components/store/companionMenuReducer.js","components/store/attachMenuReducer.js","components/store/store.js","index.js","components/messenger/dialogs/Search/Search.module.css","components/messenger/dialogs/Settings/UISettings/UISettings.module.css","components/messenger/chatField/chat/MessageList/MessageList.module.css","components/messenger/chatField/talks/talkItem.module.css","components/messenger/chatField/chat/workSpace/workspace.module.css"],"names":["module","exports","DialogItem","id","name","index","lastTalk","onclick","current","unreadCount","online","otherMembers","currentDialog","useSelector","state","user","className","classes","dialogItem","currentItem","onClick","left","avatar","src","length","avatar_id","unnamed","alt","style","display","isOnline","dialogItemText","nameContainer","lastMessageContainer","lastMessage","dot","opacity","defaultState","activeInput","value","DISABLE_NAMES","SHOW_NAMES","SEARCH_INPUT_CHANGE","changeSearchInput","payload","type","Search","createDialog","settings","useState","names","setNames","searchInput","search","dispatch","useDispatch","searchUser","console","log","axios","method","url","data","title","members","then","res","status","alert","catch","error","searchBox","e","stopPropagation","onFocus","placeholder","onChange","target","params","users","dropDownList","map","srcPath","user_status","searchItem","SearchItem","searchImage","height","width","borderRadius","ProfileSettings","validName","setValidName","password1","password2","bio","settingsForm","setSettings","photo","setPhoto","preview","setPreview","avatarChanger","photoURL","files","previewURL","URL","createObjectURL","inputFile","htmlFor","userPhoto","form","FormData","append","post","headers","window","location","reload","ProfileSettingsField","inputBox","profileInput","color","required","userName","settingsLabel","bioLabel","NotificationSettings","PrivateSettings","fontSize","backgroundColorMessage","backgroundColorWindow","sound","SET_FONT","SET_BACKGROUNDMESSAGE","SET_BACKGROUNDCOLOR","SET_TEXT_COLOR","UISettings","font","UI","uisettings","fontChanger","fontSizer","max","min","step","Settings","setSettingsWindow","setLoggedOut","buttons","setButtons","setSetting","NOTIFICATIONS","PROFILE","PRIVATE","backButtonPlace","backButton","arrowBack","settingButton","general","marginRight","profile","notifications","privacy","href","logout","Dialog","this","last_message","other_members","Member","avatarID","userStatus","Message","sender","date","center","Talk","Separator","Math","random","byField","field","a","b","DialogsField","dialogs","getTalks","getMessages","createTalk","useEffect","container","document","getElementById","rightColumg","handler","rightElementDrag","event","preventDefault","clientX","closeDragElement","onmouseup","onmousemove","addEventListener","changeDialog","talks","lastTalkIndex","sortedTalks","sort","reverse","messages","totalMessages","loadedTalkId","nextMessages","separator","newTalk","Dialogs","handlerRight","dialogFieldSBox","dropDownMenuButton","settingsIMG","userInfo","userAvatar","DialogList","active","unread_count","undefined","MessageListItem","from","text","time","styles","right","duration","msgListItem","MessageList","list","useRef","scrollIsActive","setActiveScroll","scrollToggler","messageFetching","condition","currentTalkIndex","findIndex","element","currentTalk","fetchCurrentTalk","_messages","scrollTo","top","behavior","paddingInline","ref","MessageListNoScroll","onScroll","abs","scrollHeight","scrollTop","clientHeight","onMouseOver","onMouseOut","msgItem","Companion","companion","setActive","find","dialog","talksIsActive","companionInfo","marginLeft","date_visit","companionButtons","paddingBottom","talkButton","threeDots","dropDownMenu","companionButtonsItem","setTimeout","MainWindow","sendMessage","setActiveTalkMenu","textareaRef","messageText","setMessageText","attachIsActive","attachMenu","sendMessageLocal","dialogWindow","marginInline","visibility","txtArea","wInputContainer","wrapper","onKeyDown","code","attachButton","inputAttachment","attach","dropDownMenuItem","sendButton","TalkItem","item","talkItem","currentTalkItem","Talks","setTalk","talkCreator","border","talksHead","talksItems","noTalkItem","talk","companionInfoItem","snow","particles","coolSnow","WorkSpace","getMsg","activeMenu","setActiveRightMenu","workTree","socket","io","Messenger","useSound","meow","volume","meowSound","setResponse","setUserStatus","newDialog","setNewDialog","setNewTalk","on","_dialogs","dialog_id","_talks","talk_id","_dialog","message_id","visibilityState","emit","talkId","response","Promise","resolve","reject","dialogID","sender_id","message_type","Loader","ldsDualDing","RegPage","setFlash","age","login","password","logPassword","setForm","nameIsOccupied","nameValid","setNameValid","warning","setWarning","re","history","useHistory","test","String","toLowerCase","marginBottom","to","margin","padding","onUploadProgress","email","push","pathname","flash","info","disabled","LogIn","setLoggedIn","forgotSmth","setForgotsmth","useLocation","trim","WelcomePage","setUser","setUserInfo","flashMsg","setFlashMsg","exact","path","component","logo","App","userIsLoggedIn","setUserLoggedIn","is_auth","backgroundColor","DISABLE_MENU","ABLE_MENU","SET_USER","SET_USER_ID","SET_USER_NAME","SET_USER_DIALOGS","SET_USER_CURRENT_DIALOG","SET_USER_PHOTO","SET_MESSAGES","SET_TALKS","SET_CURRENT_TALK","SET_LAST_TALK","SET_ACTIVE","SET_DISABLED","SET_TALKS_ACTIVE","SET_TALKS_DISABLED","SET_ATTACH_ACTIVE","SET_ATTACH_DISABLED","rootReducer","combineReducers","action","store","createStore","ReactDOM","render"],"mappings":"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","file":"static/js/main.33978d29.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ldsDualDing\":\"Loader_ldsDualDing__mXFmd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProfileSettings\":\"profileSetting_ProfileSettings__1Osx7\",\"bio\":\"profileSetting_bio__1SHu1\",\"inputBox\":\"profileSetting_inputBox__TcNKG\",\"profileInput\":\"profileSetting_profileInput__2LfPe\",\"ProfileSettingsField\":\"profileSetting_ProfileSettingsField__3PU5v\",\"settingsLabel\":\"profileSetting_settingsLabel__2aAsZ\",\"bioLabel\":\"profileSetting_bioLabel__36tjU\",\"avatarChanger\":\"profileSetting_avatarChanger__15pto\",\"inputFile\":\"profileSetting_inputFile__3CCgD\",\"userPhoto\":\"profileSetting_userPhoto__2h1_B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"msgListItem\":\"MessageListItem_msgListItem__3Y0ZJ\",\"right\":\"MessageListItem_right__3F495\",\"center\":\"MessageListItem_center__3kLeH\",\"left\":\"MessageListItem_left__5NaCu\",\"time\":\"MessageListItem_time__1Y_Zc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"talks\":\"talks_talks__3iU0k\",\"talksItems\":\"talks_talksItems__2MoAk\",\"talksHead\":\"talks_talksHead__2Tcbf\",\"noTalkItem\":\"talks_noTalkItem__GwLs-\",\"companionInfo\":\"talks_companionInfo__2cHyU\",\"companionInfoItem\":\"talks_companionInfoItem__2cmJ5\",\"backButton\":\"talks_backButton__u9XbG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogItem\":\"dialogItem_dialogItem__1vQgO\",\"currentItem\":\"dialogItem_currentItem__3m2gC\",\"avatar\":\"dialogItem_avatar__1gz_z\",\"dialogItemText\":\"dialogItem_dialogItemText__1PXB0\",\"left\":\"dialogItem_left__35l8S\",\"dot\":\"dialogItem_dot__3-_No\",\"lastMessageContainer\":\"dialogItem_lastMessageContainer__Gg4kz\",\"lastMessage\":\"dialogItem_lastMessage__oS6F2\",\"nameContainer\":\"dialogItem_nameContainer__1F5H2\",\"isOnline\":\"dialogItem_isOnline__2saCs\",\"inactive\":\"dialogItem_inactive__2KmLn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogWindow\":\"MainWindow_dialogWindow__cFnRE\",\"txtArea\":\"MainWindow_txtArea__24awv\",\"messageText\":\"MainWindow_messageText__3gc7V\",\"wInputContainer\":\"MainWindow_wInputContainer__1Wl9G\",\"attachButton\":\"MainWindow_attachButton__Z6d-T\",\"inputAttachment\":\"MainWindow_inputAttachment__1KlpW\",\"wInputTextGroup\":\"MainWindow_wInputTextGroup__3hbz2\",\"wPlaceholder\":\"MainWindow_wPlaceholder__24uXl\",\"wrapper\":\"MainWindow_wrapper__3YoC7\",\"wInputText\":\"MainWindow_wInputText__vsBKV\",\"sendButton\":\"MainWindow_sendButton__2JXv6\",\"wtf\":\"MainWindow_wtf__2lorL\",\"dropDownMenu\":\"MainWindow_dropDownMenu__1Dq-e\",\"appear\":\"MainWindow_appear__Dtiqm\",\"dropDownMenuItem\":\"MainWindow_dropDownMenuItem__1LzEq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"Settings_settings__5MMiW\",\"backButtonPlace\":\"Settings_backButtonPlace__2SAAn\",\"backButton\":\"Settings_backButton__39lmX\",\"buttons\":\"Settings_buttons__2SUm4\",\"settingButton\":\"Settings_settingButton__3QEA3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"companion_avatar__XDZoj\",\"companion\":\"companion_companion__3K_5c\",\"companionInfo\":\"companion_companionInfo__5GabF\",\"talkButton\":\"companion_talkButton__bKdWj\",\"companionButtons\":\"companion_companionButtons__S5vhg\",\"dropDownMenu\":\"companion_dropDownMenu__33XCz\",\"appear\":\"companion_appear__3oH01\",\"companionButtonsItem\":\"companion_companionButtonsItem__3ojCx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Dialogs\":\"dialogsField_Dialogs__LBPbM\",\"handlerRight\":\"dialogsField_handlerRight__3i7sJ\",\"searchBox\":\"dialogsField_searchBox__56uOb\",\"DialogList\":\"dialogsField_DialogList__2OYY8\",\"dialogFieldSBox\":\"dialogsField_dialogFieldSBox__3iN5s\",\"logOutBtn\":\"dialogsField_logOutBtn__Txre7\",\"dropDownMenuButton\":\"dialogsField_dropDownMenuButton__1AEwp\",\"userAvatar\":\"dialogsField_userAvatar__3GoJ7\",\"userInfo\":\"dialogsField_userInfo__10O3T\",\"dropDownMenu\":\"dialogsField_dropDownMenu__2Hccs\",\"appear\":\"dialogsField_appear__2pSK3\"};","export default \"data:image/jpeg;base64,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\"","import React, {useEffect} from 'react'\r\nimport classes from './dialogItem.module.css'\r\nimport unnamed from './unnamed.jpg'\r\nimport {useSelector} from 'react-redux'\r\n\r\nconst DialogItem = ({id, index, name, lastTalk, onclick, current, unreadCount, online, otherMembers}) => {\r\n    const currentDialog = useSelector(state => state.user.currentDialog)\r\n    const sendID = () => {\r\n        onclick(id)\r\n    }\r\n    const getAvatar = () => {\r\n        if(otherMembers?.length === 1){\r\n            if(otherMembers[0].avatar_id) return '/get_file?file_id=' + otherMembers[0].avatar_id\r\n            else return unnamed\r\n        } else return unnamed\r\n        \r\n    }\r\n\r\n    return (\r\n        <div className={current ? classes.dialogItem + ' ' + classes.currentItem : classes.dialogItem} onClick={sendID}>\r\n            <div className={classes.left}>\r\n                <div className={classes.avatar}>\r\n                    <img src={getAvatar()} alt=''/>\r\n                    <span style={{display: online ? 'flex' : 'none'}} className={classes.isOnline}>•</span>\r\n                </div>\r\n                <div className={classes.dialogItemText}>\r\n                    <div className={classes.nameContainer}><h3>{name}</h3></div>\r\n                    <div className={classes.lastMessageContainer}><p className={classes.lastMessage}>{lastTalk}</p></div>\r\n                </div>\r\n            </div>\r\n            <div className={classes.dot} style={{opacity: unreadCount && (currentDialog !== id) ? '1' : '0'}}>\r\n                {unreadCount}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DialogItem;","export default __webpack_public_path__ + \"static/media/settings.93a39797.svg\";","const defaultState = {\r\n    activeInput: false,\r\n    value: ''\r\n}\r\n\r\nconst DISABLE_NAMES = 'DISABLE_NAMES'\r\nconst SHOW_NAMES = 'SHOW_NAMES'\r\nconst SEARCH_INPUT_CHANGE = 'searchInputChange'\r\n\r\nexport const searchReducer = (state = defaultState, action) => {\r\n    switch(action.type){\r\n        case DISABLE_NAMES: \r\n            return {...state, activeInput: false}\r\n        case SHOW_NAMES:\r\n            return {...state, activeInput: true}\r\n        case SEARCH_INPUT_CHANGE:\r\n            return {...state, value: action.payload}\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport const disableNames = () => ({type: DISABLE_NAMES})\r\nexport const showNames = () => ({type: SHOW_NAMES})\r\nexport const changeSearchInput = (payload) => ({type: SEARCH_INPUT_CHANGE, payload})","import React, {useState} from 'react'\r\nimport classes from './Search.module.css'\r\nimport axios from 'axios'\r\nimport unnamed from './unnamed.jpg'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { changeSearchInput } from '../../../store/searchReducer';\r\n\r\nconst Search = ({createDialog, settings}) => {\r\n    const [names, setNames] = useState([])\r\n\r\n    const user = useSelector(state => state.user)\r\n    const searchInput = useSelector(state => state.search.value)\r\n    const activeInput = useSelector(state => state.search.activeInput)\r\n    const dispatch = useDispatch()\r\n\r\n    const search = (e) => {\r\n        if(e.target.value.length !== 0)axios({\r\n            method: 'get',\r\n            url: '/search_user',\r\n            params: {\r\n                value: e.target.value\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(res.data)\r\n            setNames(res.data.users)\r\n        })\r\n        .catch(error => console.log(error))\r\n        else setNames([])\r\n        dispatch(changeSearchInput(e.target.value))\r\n    }\r\n\r\n    const searchUser = (name, id) => {\r\n        console.log(id, user.id)\r\n        axios({\r\n            method: 'post',\r\n            url: \"/create_dialog\",\r\n            data: {\r\n                title: name,\r\n                members: [user.id, id]\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(name, res.data.id)\r\n            if(res.data.status === 0)createDialog(name, res.data.id)\r\n            else if(res.data.status === 1) alert('диалог занят')\r\n            else if(res.data.status === 666) alert('Ошибка')\r\n        })\r\n        .catch(error => console.log(error))\r\n    }\r\n\r\n    function getAvatar(id) {\r\n        return id ? '/get_file?file_id=' + id : unnamed\r\n    }\r\n\r\n    return (\r\n        <div className={classes.searchBox}>\r\n            <input onClick={(e) => (e.stopPropagation())} style={{opacity: settings ? 0 : 1}} className={classes.searchInput} onFocus={() => (dispatch({type: 'SHOW_NAMES'}))} placeholder=\"Search\" value={searchInput} onChange={search}></input>\r\n            <div className={classes.dropDownList} style={{display: searchInput.length && activeInput ? 'flex' : 'none'}}>\r\n                <ul>\r\n                    {names.length ? names.map( (name, index) => (\r\n                        <SearchItem key={name.id} srcPath={getAvatar(name.avatar_id)} name={name.name} id={name.id} searchUser={searchUser} isOnline={name.user_status}/>\r\n                    )) : <li className={classes.searchItem}>Пользователь не найден</li>}\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Search\r\n\r\nconst SearchItem = ({srcPath, name, id, searchUser, isOnline}) => {\r\n    return (\r\n    <li className={classes.searchItem} onClick={() => {searchUser(name, id)}}>\r\n        <div className={classes.searchImage}><img height='30' width='30' style={{borderRadius: '75%'}} src={srcPath} alt=''/><span style={{display: isOnline ? 'flex': 'none'}} className={classes.isOnline}>•</span></div><p>{name}</p>\r\n    </li>\r\n    )\r\n}\r\n","export default \"data:image/jpeg;base64,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\"","import React, {useState} from 'react'\r\nimport classes from './profileSetting.module.css'\r\nimport unnamed from './unnamed.jpg'\r\nimport axios from 'axios'\r\nimport {useSelector} from 'react-redux'\r\n\r\nconst ProfileSettings = () => {\r\n    const user = useSelector(state => state.user)\r\n    const [validName, setValidName] = useState(true)\r\n    const [settingsForm, setSettings] = useState({\r\n        name: user.name,\r\n        password1: '',\r\n        password2: '',\r\n        bio: user.bio\r\n    })\r\n    const [photo, setPhoto] = useState(null)\r\n    const [preview, setPreview] = useState(null)\r\n\r\n    const checkName = (e) => {\r\n        setSettings({...settingsForm, name: e.target.value})\r\n        if(e.target.value !== user.name)axios({\r\n            method: 'get',\r\n            url: '/check_name',\r\n            params: {\r\n                userName: e.target.value\r\n            },\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n                // 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.54 Safari/537.36'\r\n            }\r\n        }).then(res => {\r\n            setValidName(res.data.status)\r\n        }).catch(error => alert(error))\r\n    }\r\n\r\n    const customAvatar = () => {\r\n        const form = new FormData()\r\n        form.append('file', photo)\r\n        axios.post('/upload_avatar', form, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n        .then(res => {if(res.data.status === 0){\r\n            console.log(photo)\r\n            window.location.reload()\r\n        }})\r\n        .catch(error => console.log(error))\r\n    }\r\n\r\n    const getAvatar = (id) => {\r\n        return id ? '/get_file?file_id=' + id : unnamed\r\n    }\r\n\r\n    const onSelectFile = (e) => {\r\n        setPhoto(e.target.files[0])\r\n        const previewURL = URL.createObjectURL(e.target.files[0])\r\n        setPreview(previewURL)\r\n    }\r\n\r\n    return (\r\n        <div className={classes.ProfileSettings}>\r\n            <div className={classes.avatarChanger}>\r\n                <img height={45} width={45} src={preview? preview : getAvatar(user.photoURL)}/>\r\n                <input type=\"file\" id=\"inputFile\" onChange={onSelectFile}/>\r\n                <label className={classes.inputFile} htmlFor=\"inputFile\"> Select a file </label>\r\n                <button className={classes.userPhoto} onClick={customAvatar}>Change avatar!</button>\r\n            </div>\r\n            <div className={classes.ProfileSettingsField}>\r\n                <div className={classes.inputBox}>\r\n                    <input name='settingsName' type=\"text\" className={classes.profileInput} style={ validName && user.name !== settingsForm.name ? {color: \"red\"} : {color: '#FFFFF1'}} required value={settingsForm.name} onChange={checkName}/>\r\n                    <label htmlFor=\"settingsName\" className={classes.settingsLabel}>Username (required)</label>\r\n                </div>\r\n                <div className={classes.inputBox}>\r\n                    <input name='settingsPassword1' type=\"password\" className={classes.profileInput} required value={settingsForm.password1} onChange={(e) => setSettings({...settingsForm, password1: e.target.value})}/>\r\n                    <label htmlFor=\"settingsPassword1\" className={classes.settingsLabel}>Password</label>\r\n                </div>\r\n                <div className={classes.inputBox}>\r\n                    <input name='settingsPassword2' type=\"password\" className={classes.profileInput} required value={settingsForm.password2} onChange={(e) => setSettings({...settingsForm, password2: e.target.value})}/>\r\n                    <label htmlFor=\"settingsPassword2\" className={classes.settingsLabel}>Repeat password</label>\r\n                </div>\r\n                <div className={classes.inputBox}>\r\n                    <input name='settingsPassword2' type=\"password\" className={classes.profileInput} required value={settingsForm.bio} onChange={(e) => setSettings({...settingsForm, bio: e.target.value})}/>\r\n                    <label htmlFor=\"settingsPassword2\" className={classes.settingsLabel}>Bio</label>\r\n                    <div className={classes.bio}>\r\n                        <p className={classes.bioLabel}>Any details such as age, occupation or city.</p>\r\n                        <p className={classes.bioLabel}>Example: 23 y.o. designer from San Francisco</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileSettings;","export default \"data:image/jpeg;base64,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\"","import React from 'react'\r\n\r\nconst NotificationSettings = () => {\r\n    return (\r\n        <div>\r\n            Уведомления\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotificationSettings\r\n","import React from 'react'\r\n\r\nconst PrivateSettings = () => {\r\n    return (\r\n        <div>\r\n            настройки приватности\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PrivateSettings\r\n","const defaultState = {\r\n    fontSize: 16,\r\n    color: '#FFFFF1',\r\n    backgroundColorMessage: '#333',\r\n    backgroundColorWindow: '#0F0F0F',\r\n    sound: true\r\n}\r\n\r\nconst SET_FONT = 'setFontSize'\r\nconst SET_BACKGROUNDMESSAGE = 'setBackgroundColorForMessage'\r\nconst SET_BACKGROUNDCOLOR = 'setBackgroundColor'\r\nconst SET_TEXT_COLOR = 'setColor'\r\n\r\nexport const UIReducer = (state = defaultState, action) => {\r\n    switch(action.type){\r\n        case SET_FONT: \r\n            return {...state, fontSize: action.payload}\r\n        case SET_BACKGROUNDCOLOR:\r\n            return {...state, backgroundColorWindow: action.payload}\r\n        case SET_BACKGROUNDMESSAGE:\r\n            return {...state, backgroundColorMessage: action.payload}\r\n        case SET_TEXT_COLOR:\r\n            return {...state, color: action.payload}\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport const color = (payload) => ({type: SET_TEXT_COLOR, payload: payload})\r\nexport const fontSize = (payload) => ({type: SET_FONT, payload: payload})\r\nexport const backgroundMessage = (payload) => ({type: SET_BACKGROUNDMESSAGE, payload: payload})\r\nexport const background = (payload) => ({type: SET_TEXT_COLOR, payload: payload})\r\n","import React, {useState} from 'react'\r\nimport classes from './UISettings.module.css'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport { fontSize } from '../../../../store/UIReducer'\r\n\r\nconst UISettings = () => {\r\n    const dispatch = useDispatch()\r\n    const font = useSelector(state => state.UI.fontSize)\r\n    \r\n\r\n    return (\r\n        <div className={classes.uisettings}>\r\n            <div className={classes.fontChanger}>\r\n                <p>Font size</p>\r\n                <input className={classes.fontSizer} \r\n                    type='range' \r\n                    max={20} \r\n                    min={12} \r\n                    step={1} \r\n                    value={font} \r\n                    onChange={(e) => {dispatch({type: 'setFontSize', payload: e.target.value})}}/>\r\n                    <span>{font}</span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UISettings\r\n","export default __webpack_public_path__ + \"static/media/arrowBack.44d5abd3.svg\";","export default __webpack_public_path__ + \"static/media/general.2f9ef6c0.svg\";","export default __webpack_public_path__ + \"static/media/logout.f2aaae36.svg\";","export default __webpack_public_path__ + \"static/media/notifications.cda782bb.svg\";","export default __webpack_public_path__ + \"static/media/privacy.6ec4cf10.svg\";","export default __webpack_public_path__ + \"static/media/profile.1c960d96.svg\";","import React, {useState} from 'react'\r\nimport ProfileSettings from './profileSettings/ProfileSettings'\r\nimport NotificationSettings from './notificationSettings/NotificationSettings'\r\nimport PrivateSettings from './privateSettings/PrivateSettings'\r\nimport UISettings from './UISettings/UISettings'\r\nimport classes from './Settings.module.css'\r\nimport arrowBack from './arrowBack.svg'\r\nimport general from './general.svg'\r\nimport logout from './logout.svg'\r\nimport notifications from './notifications.svg'\r\nimport privacy from './privacy.svg'\r\nimport profile from './profile.svg'\r\n\r\nconst Settings = ({setSettingsWindow, setLoggedOut}) => {\r\n    const [buttons, setButtons] = useState(true) \r\n    const [settings, setSetting] = useState('Global')\r\n\r\n    const NOTIFICATIONS = 'Notifications'\r\n    const UI = 'UI'\r\n    const PROFILE = 'Profile'\r\n    const PRIVATE = 'Private'\r\n\r\n    const backButtonBehaivor = () => {\r\n        buttons \r\n        ? setSettingsWindow(false)\r\n        : setButtons(true)\r\n        \r\n    }\r\n    return (\r\n        <div className={classes.settings}>\r\n            <div className={classes.backButtonPlace}><button className={classes.backButton} onClick={() => (backButtonBehaivor())}><img src={arrowBack} alt=''/></button> Back </div>\r\n\r\n            {buttons\r\n            ? <div className={classes.buttons}>\r\n                <button className={classes.settingButton} onClick={() => {setButtons(false); setSetting(UI)}}>\r\n                    <img height=\"24\" width='24' src={general} style={{marginRight: 10 + 'px'}} alt=''/>\r\n                    <p>General Settings</p>\r\n                </button>\r\n                <button className={classes.settingButton} onClick={() => {setButtons(false); setSetting(PROFILE)}}>\r\n                    <img height=\"24\" width='24' src={profile} style={{marginRight: 10 + 'px'}} alt=''/>\r\n                    <p>Profile Settings</p>\r\n                </button>\r\n                <button className={classes.settingButton} onClick={() => {setButtons(false); setSetting(NOTIFICATIONS)}}>\r\n                    <img height=\"24\" width='24' src={notifications} style={{marginRight: 10 + 'px'}} alt=''/>\r\n                    <p>Notifications</p>\r\n                </button>\r\n                <button className={classes.settingButton} onClick={() => {setButtons(false); setSetting(PRIVATE)}}>\r\n                    <img height=\"24\" width='24' src={privacy} style={{marginRight: 10 + 'px'}} alt=''/>\r\n                    <p>Privacy</p>\r\n                </button>\r\n                <a href=\"/un_authorize\" className={classes.settingButton} onClick={() => setLoggedOut(false)}>\r\n                    <img height=\"24\" width='24' src={logout} style={{marginRight: 10 + 'px'}} alt=''/>\r\n                    <p>Log Out</p>\r\n                </a>\r\n            </div>\r\n            :((settings) => {\r\n                switch(settings){\r\n                    case 'Global':\r\n                        return <div>Settings!</div>\r\n                    case PROFILE:\r\n                        return <ProfileSettings />\r\n                    case NOTIFICATIONS:\r\n                        return <NotificationSettings />\r\n                    case PRIVATE:\r\n                        return <PrivateSettings />\r\n                    case UI:\r\n                        return <UISettings />\r\n                    default:\r\n                        return <div>Чё блин ты чё совсем долбанутый? ты как сюда попал?</div>\r\n                }             \r\n            })(settings)\r\n        }\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings\r\n","export function Dialog(id, lastMessage, otherMembers) {\r\n    if (!new.target) {\r\n        return new Dialog(id, lastMessage, otherMembers); \r\n    }\r\n    this.id = id\r\n    this.last_message = lastMessage\r\n    this.other_members = otherMembers\r\n}\r\n\r\nexport function Member(avatarID, name, userStatus) {\r\n    if (!new.target) {\r\n        return new Member(avatarID, name, userStatus); \r\n    }\r\n    this.avatar_id = avatarID\r\n    this.name = name\r\n    this.user_status = userStatus\r\n}\r\n\r\nexport function Message(id, sender, value, date, type) {\r\n    if (!new.target) {\r\n        return new Message(id, sender, value, date, type); \r\n    }\r\n    this.sender = sender\r\n    this.value = value\r\n    this.date = date \r\n    this.id = id\r\n    this.center = false\r\n    this.type = 'text'\r\n}\r\n\r\nexport function Talk(id, title, date) {\r\n    if (!new.target) {\r\n        return new Talk(id, title, date); \r\n    }\r\n    this.id = id\r\n    this.title = title\r\n    this.date = date\r\n}\r\n\r\nexport function Separator(value) {\r\n    if (!new.target) {\r\n        return new Separator(value); \r\n    }\r\n    this.sender = null\r\n    this.center = true\r\n    this.value = value\r\n    this.date = ''\r\n    this.type = 'text'\r\n    this.id = Math.random()* 10000\r\n}\r\n\r\n// { Message Configuration\r\n//     date: \"15:56\" (str)                  | время отправления \r\n//     id: 168 (Number)                     | уникальный id сообщения\r\n//     sender: 4 (Number)                   | id отправителя\r\n//     type: \"text\" (str)                   | тип сообщения\r\n//     value: \"ghkl\" (str (text,int,url))   | само сообщение (картинка или текст)\r\n//     center: 1 (bool)                     | Сепаратор это или нет\r\n// }\r\n\r\n// { Talk Configuration\r\n//     date: \"2021-11-11 16:24:27.241678\" (date,str)    | дата создания разговора\r\n//     id: 2 (number)                                   | уникальный id разговора\r\n//     title: \"dota3\" (str)                             | Название разговора\r\n// }\r\n\r\n// { Dialog Configuration \r\n//     id: 1 (Number)                                   | уникальный id диалога\r\n//     last_message: \"ghkl\" (str or null)               | последнее сообщение в диалоге\r\n//     other_members: [{…}] (array of Member Objects)   | массив участников диалога\r\n//     unread_count: 0 (Number)                         | количество непрочитанных сообщений\r\n// }\r\n\r\n// { Member Configuration\r\n//     avatar_id: null (Number or null)                     | id аватара участника диалога (/get_file?file_id=${id})\r\n//     date_visit: \"2021-12-03 01:52:24.622846\" (date, str) | время последнего посещения\r\n//     name: \"dumka\" (str)                                  | имя участника диалога\r\n//     user_status: 1 (bool)                                | его статус (в сети или нет)\r\n// }","import React, {useState, useEffect} from 'react'\r\nimport classes from './dialogsField.module.css'\r\nimport DialogItem from '../dialogItem/DialogItem'\r\nimport settingsIMG from './settings.svg'\r\nimport Search from '../Search/Search'\r\nimport unnamed from './unnamed.jpg'\r\nimport Settings from '../Settings/Settings'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Talk, Member, Message, Dialog, Separator } from '../../../constructor'\r\n\r\nfunction byField(field) {\r\n    return (a, b) => +a[field] > +b[field] ? -1 : 1;\r\n  }\r\n  \r\n\r\nconst DialogsField = ({ dialogs, setLoggedOut, getTalks,getMessages, createDialog, createTalk}) => {\r\n    \r\n    const dispatch = useDispatch()\r\n    // const act1ve = useSelector(state => state.settings.active)\r\n    const user = useSelector(state => state.user)\r\n    const currentDialog = useSelector(state=> state.user.currentDialog)\r\n    \r\n    const [settings, setSettingsWindow] = useState(false)\r\n    /* UI */\r\n    useEffect( () => {\r\n        const container = document.getElementById('leftColumn')\r\n        const rightColumg = document.getElementById('rightColumn')\r\n        const handler = document.getElementById(\"resizer\")\r\n        handler.addEventListener('dblclick', (e) => {\r\n            rightColumg.style.width = 100 + '%'\r\n            container.style.width = 30 + '%';\r\n        })\r\n        handler.addEventListener('mousedown', rightMouseDown);\r\n        function rightMouseDown(e) {\r\n          e.preventDefault();\r\n          document.onmousemove = rightElementDrag;\r\n          document.onmouseup = closeDragElement;\r\n        }\r\n        function rightElementDrag(e) {\r\n          e = e || window.event;\r\n          e.preventDefault();\r\n          \r\n          const width = e.clientX;\r\n          rightColumg.style.width = `calc(100% - ${width}px)`\r\n          container.style.width = width + 'px';\r\n        }\r\n        \r\n        function closeDragElement() {\r\n          document.onmouseup = null;\r\n          document.onmousemove = null;\r\n        }\r\n        \r\n      }, [])\r\n    \r\n    \r\n\r\n    // МОЁ ДРОП ДАУН МЕНЮ ОФИГЕННОЕ!!!\r\n    // const toggleDownMenu = () => {\r\n    //     act1ve ? dispatch({type: 'DISABLE_MENU'}) : dispatch({type: 'ABLE_MENU'})\r\n    // }  \r\n\r\n    {/* <div onClick={(e) => {e.stopPropagation()}}><button onClick={toggleDownMenu} className={classes.dropDownMenuButton}><img src={menu} alt=''/></button></div>\r\n                    <div className={classes.dropDownMenu} style={{display: act1ve? 'flex' : 'none'}} onClick={(e) => {e.stopPropagation()}}>\r\n                        <button className={classes.logOutBtn + ' ' + classes.menuButton} onClick={() => {setSettingsWindow(!settings); dispatch({type: 'DISABLE_MENU'})}}>Settings</button>\r\n                        <a href=\"/un_authorize\" className={classes.logOutBtn + ' ' + classes.menuButton} onClick={() => setLoggedOut(false)}>Log Out</a>\r\n                    </div> */}\r\n    /* UI */\r\n\r\n    const changeDialog = async (id) => {\r\n        dispatch({type:'setCurrentDialog', payload: id})\r\n\r\n        let res = await getTalks(id)\r\n        if(res.talks?.length){\r\n            const lastTalkIndex = res.talks.length-1\r\n            const sortedTalks = res.talks.sort(byField(\"id\")).reverse()\r\n            dispatch({type: 'setTalks', payload: sortedTalks})\r\n            dispatch({type: 'setCurrentTalk', payload: sortedTalks[lastTalkIndex].id})\r\n            dispatch({type: 'setLastTalk', payload: sortedTalks[lastTalkIndex].id})\r\n            let messages = await getMessages(sortedTalks[lastTalkIndex].id)\r\n            dispatch({type: 'setMessages', payload: messages})\r\n            let totalMessages = [...messages]\r\n            console.log(totalMessages)\r\n            let loadedTalkId = lastTalkIndex\r\n            while(totalMessages.length < 20){\r\n                loadedTalkId = loadedTalkId - 1\r\n                let nextMessages = await getMessages(sortedTalks[loadedTalkId]?.id)\r\n                if(nextMessages){\r\n                    let separator = new Separator(sortedTalks[loadedTalkId].title)\r\n                    totalMessages = [...totalMessages, separator, ...nextMessages]\r\n                    dispatch({type: 'setMessages', payload: totalMessages})\r\n                } else break\r\n            }\r\n        } else {\r\n            let newTalk = await createTalk('First talk!', id)\r\n            dispatch({type: 'setCurrentTalk', payload: newTalk.id})\r\n            dispatch({type: 'setLastTalk', payload: newTalk.id})\r\n        }  \r\n    }\r\n\r\n    const getAvatar = (id) => {\r\n        return '/get_file?file_id=' + id\r\n    }\r\n    \r\n    return (\r\n        <div className={classes.Dialogs} id=\"leftColumn\">\r\n            <div className={classes.handlerRight} id=\"resizer\"></div>\r\n\r\n\r\n            <div style={{height: settings ? '10%' : '20%'}} className={classes.searchBox}>\r\n                <div className={classes.dialogFieldSBox}>\r\n                    <div onClick={(e) => {e.stopPropagation()}}><button className={classes.dropDownMenuButton} onClick={() => setSettingsWindow((settings => !settings))}><img src={settingsIMG} alt=''/></button></div>\r\n                    <div className={classes.userInfo} onClick={() => (dispatch({type: 'DISABLE_MENU'}))}><img src={user.photoURL ? getAvatar(user.photoURL) : unnamed} alt='' className={classes.userAvatar}/><h2>{user.name}</h2></div>\r\n                    {/* <a href=\"/un_authorize\" className={classes.logOutBtn + ' ' + classes.menuButton} onClick={() => setLoggedOut(false)}>Log Out <img src={logout} alt=''/></a> */}\r\n                </div>\r\n                <Search createDialog={createDialog} settings={settings}/>\r\n            </div>\r\n\r\n\r\n            <div className={classes.DialogList} style={{height: settings ? '90%' : '80%'}}>\r\n                {!settings ? \r\n                dialogs.map((post, index)=> (\r\n                    <DialogItem \r\n                        key={post?.id}\r\n                        id={post?.id}\r\n                        index={index}\r\n                        name={post?.other_members?.length === 1 ? post?.other_members[0].name : 'Групповой диалог'}\r\n                        lastTalk={post?.last_message ? post?.last_message : 'There is no messages'}\r\n                        onclick={changeDialog}\r\n                        current={currentDialog === post.id? true : false}\r\n                        unreadCount = {post.unread_count}\r\n                        online={post?.other_members.length === 1 ? post?.other_members[0].user_status : undefined}\r\n                        otherMembers={post?.other_members}/>\r\n                ))\r\n                : <Settings setSettingsWindow={setSettingsWindow} setLoggedOut={setLoggedOut} active={settings}/>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DialogsField;\r\n","export default \"data:image/jpeg;base64,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\"","import React from 'react'\r\nimport classes from './MessageListItem.module.css'\r\nimport { useSelector } from 'react-redux'\r\nimport {Fade} from 'react-reveal'\r\n\r\nconst MessageListItem = ({from,center, text, name, time}) => {\r\n    const styles = useSelector(state => state.UI)\r\n    if(from){ return (\r\n        <Fade right duration={400}>\r\n            <div className={from ? classes.right + ' ' + classes.msgListItem: (center ? classes.msgListItem + ' ' + classes.center :classes.left  + ' ' + classes.msgListItem)} >\r\n                {/*<h3>{name}</h3>*/}\r\n                <p style={{fontSize: styles.fontSize + 'px'}} className={classes.text}>{text}\r\n                <span className={classes.time}>{time}</span>\r\n                </p>\r\n            </div>\r\n        </Fade>\r\n    )} else return (\r\n        <Fade left duration={400}>\r\n            <div className={from ? classes.right + ' ' + classes.msgListItem: (center ? classes.msgListItem + ' ' + classes.center :classes.left  + ' ' + classes.msgListItem)} >\r\n                {/*<h3>{name}</h3>*/}\r\n                <p style={{fontSize: styles.fontSize + 'px'}} className={classes.text}>{text}\r\n                <span className={classes.time}>{time}</span>\r\n                </p>\r\n            </div>\r\n        </Fade>\r\n    )\r\n    \r\n}\r\n\r\nexport default MessageListItem\r\n","import React, {useState, useRef, useEffect} from 'react'\r\nimport MessageListItem from '../MessageListItem/MessageListItem'\r\nimport classes from './MessageList.module.css'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Separator } from '../../../../constructor'\r\n\r\n\r\nconst MessageList = ({active, getMessages}) => {\r\n    const dispatch = useDispatch()\r\n    const list = useRef(null)\r\n    const [scrollIsActive, setActiveScroll] = useState(false)\r\n\r\n    const user = useSelector(state => state.user)\r\n    const messages = useSelector(state => state.messages.messages)\r\n    const talks = useSelector(state => state.talks)\r\n\r\n    const scrollToggler = () => {\r\n        setActiveScroll((scrollIsActive) => (!scrollIsActive))\r\n    }\r\n    \r\n    const messageFetching = async (condition) => {\r\n        if(condition){\r\n            const currentTalkIndex = talks.talks.findIndex((element) => {if(element.id === talks.currentTalk) return true})\r\n            if(currentTalkIndex){\r\n                const fetchCurrentTalk = talks.talks[currentTalkIndex-1].id\r\n                dispatch({type: 'setCurrentTalk', payload: fetchCurrentTalk})\r\n                let _messages = await getMessages(fetchCurrentTalk)\r\n                let separator = new Separator(talks.talks[currentTalkIndex-1].title)\r\n                dispatch({type: 'setMessages', payload: [...messages, separator, ..._messages]})\r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        list.current.scrollTo({top: 0, behavior: 'instant'})\r\n    }, [user.currentDialog])\r\n    return (\r\n        <div style={{paddingInline: active? '15px' : '15%'}} \r\n            ref={list} \r\n            className={!scrollIsActive ? classes.MessageList + ' ' + classes.MessageListNoScroll : classes.MessageList} \r\n            onScroll={() => messageFetching(Math.abs(list.current.scrollHeight + list.current.scrollTop - list.current.clientHeight) < 10)} \r\n            onMouseOver={scrollToggler} \r\n            onMouseOut={scrollToggler}>\r\n\r\n            {messages \r\n            ? messages.map((msgItem, index) =>\r\n                <MessageListItem from={user.id == msgItem.sender} center={msgItem.center ? msgItem.center : null} text={msgItem.value} time={msgItem.date} key={msgItem.id}/>\r\n            )\r\n            :<MessageListItem from={true} text={'Напишите этому человеку!'} time={'А это не важно'}/>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MessageList\r\n","export default \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAMCAgoICAkHCAkHBwcGBwYIBwcHBwcGBwUHCAcHBwcHBwcHBwcHBwcHBwcHBwoHBwcICQkJBwcLDQoIDQcICQgBAwQEBgUFCAYGCAgHBwcICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICP/AABEIAMgAyAMBEQACEQEDEQH/xAAcAAADAAMBAQEAAAAAAAAAAAAAAQIDBgcFBAj/xABKEAABAgMDBQkNBQYHAQAAAAABAAIDERIhMXEEQYGR8AYHEyIyQlGisQUUNFJhYnKDkrPBwtEWgqGj0iSktMPh4iMzQ1Njk7Jz/8QAGAEBAAMBAAAAAAAAAAAAAAAAAAEDBAL/xAAeEQEAAgIDAQEBAAAAAAAAAAAAAQIDERITMSFBIv/aAAwDAQACEQMRAD8A/ftfatrEK8UFE4oJMvLs5ACX4oCWaxBZGFyDG1mHOQOnC5AStQDW2IHq1IJcgNKChpvQUdNyBPOa1ANdiglpxQDdKCnoGNCCHaL0BJBVCCXab/OQIjPagq3yoE53YgGvwvQE8L0FFtua5BLQgsZkCltJAU2IFTigR03oEgyS7UEtHZ0oG/a1Ap7TQSwoCG9APO0kDa/aSBT7W5kDBwu6EFMbtJBM8dSBuKBzxQTVjd8yAOGdBTvigl5t0IBAIDUgNSAGhA3aL0ATgUD4Q+S9AVmRuudnQS4nyIE04IGxAMQD2oAixAnDtbmQH06EAzaxAm6UFO03IDXqQAHZ0ecgThhf0IGRhqQBGCAlggpyADuzpQDj8qAqxQTV29CCidpIIrwv6EGQOxucgnWgR0oAHFAgUAXIAnsQKXyoKzoKCCQxBRb2OQBQA25SCS7aSAmgHuQE8b0FHT1UAz4dCBt+AQQgGjbjILkgiViDIPggRzIE0fMgbWoBASx1IEdOpBJdjzcyCtZ0IDOgn6oLJ7EEvOFyBtfhegjUgtAPb2oCjFAEbTQS3TrQUWW57ulANbYgA1A/wQRTYgpiAPxQTPscgJ2Z70F/250CntNBM9poCraaCqrc2tAHQgkfHpQDXfNnQU/4NzoJZ0eVApILKAcEAEE0oKAQDhautQ53KZYpqDcgaU1BuQNKag3Ktaq5O9IZpuXbja3I6Q7Rc5A82ZBWq5qBSQOWCApwQJAz8UDagAO1AOZ8qCQECQU8oJcgKexyBFAr21l3BMHPJaKh41TuSz01KHj5TuuyVpkcoPFsmxtYd51Tcnep4SdkIi7tskNvfERvkbDiS62Tvep65OyD+3OSTnw8QeaIcSX8PX+Yp65OyFN3d5IHT4eIR4phxJfw9fXTrk7IPI92GSky75eahTxxQGnxqu92KJx6Ry29hkGTa2uMVhEwQYZMuc5rm0VLjx3x2yB0xMGw2gi5EIljcgo6dSCZ/KgHO8n4ID6dCAA7OhAOb2oLo7UCYgKbUDkgWc4IJ1oKiFAQoLnSIpoPOLnTcPNa1n8xR6eG3JXT5hbxra3Tl6PBUfmKdG3yd0cvhwJujRGNaOSwcYv+7y3P9CH99TWiOblO6zdU7KnztbBYf8OHPk+c7zlrrVnvd4lCsVChAUoChAFiSmHs7lN1T8liTE3QnHjw59ZvnqmYXRLreRZfDjgPgRIZmLWG/wBnltes31f8fWcjdOQoLekvdP2aP5ifT4xxoT2m2mgVcYPdNo85rmfzFz4b2HbWrvkAlcgb8GoJn2IAu7UFEoG04IDPmuQAOCBP+CCQ3BBMdgIpJLQ4taSL+M6mn5EGib5W6Z4id6wyWMhsaX0GReXNqa2rxGMpWnHTanJbTQOB0q22NVW6mw1MQi0qkp2rj6EdBEiaAmgEQE0bSYaj4fSEHOnw+t+3tt1D+E71iOMRj2uLKzOgtbU5voPZVxFnyU00Y523tkgJAkhjnNBN/FdTT9ymhZ6wusbypFzxuQRLaaB/jb0oA4figeq9A9WpA0A/SgWtBJaOKDOVcKUvH4RtPWpQcn3wm/tsb1HuIS2YfGXJ618Kz9Vz4EAg+/uT3FfHfRDE5WuceQweM5czOnURt0PuRvfQWAVgxnZy6wez+utZ5u0xR632dg/7MH/qh/oXE2lM1eT3V3voMQTZOC/MWcZns/ooXdcsw5mrnfdjuK+A+iIL7WvFzx4zXLTWzPxfCplAmiAg2De+8NhZv8/3URVZVuJ1hh5UvHizn08I6rrVLHDTZT3YKQxouQYyO35kDoQBhoA/FBXl+CBzQB6fJ8yAnhegiu0T8dgFrhSXRGta77jkHKd8Tw2N6r3MNbMPjLk9a6rP1XPgQU1hJAFpcWgAZy5Euy7nu4ggQgwSLr3u8d6y3lqpDT91O+G6owsnkA0ydGInb/xt5H311Sm3F76ap9oMonPh40/Ts9nkK6IiVcZGz7mt8NwcIeUyLXGQjAUlp/5Gt4lHnri1Idxdum6HuI2PCLDIOvY7xH81UUt9W2q409hBLTY5pc0g80rYy2TJHIkg2Le98Ng+t9zFVWVbjdXhGZdmk+KL+UWudU77/LWOGmxRSpBr1NQTT5De3M1BQb5DcgpjfIgxzQMjBA5YIFThd8yApwvQJ75EGwgxGC0VcqI1tSDle+J4bG9V7qGtmHxlyetd/BWfqufAVMEvX3IQasqgg3B7ney1zvlVdllXTN1uWmHksV7bHBtLSOaXOpq6yzU9X2cahskJWLZDLKkQT2zEsyDsG4vLzEyWG50y4Ncwk5+Dc5vyrFf1sp45xuxgU5VFAsBc11nnNa53XctdfGa3rx/IunAQbBvfeGQfW+5iqrKtxurQosy42DjxRZxeTEc2pY4abBzcNakUgX1agdWHOQDDggTTigb/AIIKpQAbfh0+cgn6oKrIIlPlsnITsqbV1KkHJ98Lw2N6r3MJbMPjLk9a6rP1XPgCmCXobncs4PKITzYA9ocfFDuK53WVdllXW90Hc3hoESGL3s4s+nlN66zU9X2cWc0g0kEFpk4ESIK1wyylSgBs7pzNgAvcUHZtzfcswYEOEeUxs3W891TnddyxX9a6eOU7pMs4TKIrxaC+kHxg3i1dVa6+M8+vPXTgINi3vvDYPrfcxVVlW43Vg+ZJPjvlOyyp1PUpWOGmwLsFIHPQV9WoHTagG6UGPUgZ0XIKcMECAw2cgTm7SQUWGYlOYewnBsRtXUqQcn3wvDY3qvdQlsw+MuT1rqs/Vc+BAniaJdR3D7qhGYITyOGhhokf9UN5zfP8dZb0000sybpNw7I5rbOHFzuAmH+k351FcnEvTbWRvaRpyqgy6aon/mhXdqvrbJuc3DNgGt3+LFHJJFLGei3x/PVVr7dRjRu23VCCww2EcNEEhI/5THf6jvkUUqm8uXsbKxa2Y0Ag2Le9d+2wfX+5iqrKtxurkOBM5zrebTOxznU9RY4abG1SBzUEk7SQGrUgG35kANF6AccLkCJw1oGDhrQJA3WlosBD2GZMuTEa6lBynfCP7bGP/wAPcwlsw+MuT1rqs/Vc+BATQDHEEOBLXNM2uaZFpUz/AE6i2m2dzN8uIwUxWiKBzmmh/wCh3UVM4lsXew3fSh/7cafRKHL2q1VONM5Hld0982I+bYTRCB57jW/9DeuraYtuexqDySS4kuc4zc5xmXHzlbFXFpCmXEBQEg2He+8Ng+v9zFVWVbjdXDZVXGb3ninxojnUrHDTJzxUg13ICrFBc7c6AdpQQNF/moKGhAPzXc3Oghu1qBE+U60FPcLCSQA9hn5eEbSg5lvmdzXMykxDyI7WFrvK2G1rm9XrLVjsoyVaotM/VNY0FxtATYE2BNgTYB+CbAmwJsCbAmzTat7bua5+UiIBxIDXlzs03Q3Na3rdVU5Z2txxp01g5RBDpveZgZ3RHVLJDXJqXJUoFLBA9SC/qglvllegprUA7RrQAQRUgcQTBBEwQ4EdIQY8qhB7ODexsWHK0PNs287kcv2FPLSPXjv3E5LOXe7nCV4jOA62UMXcZTgZ3D5LOXAOIJ5XDOl7PfFf5adiOCm7iclnbk7gDVxuGdL2W5RX1E7DgBuLyW7vdzZVSnGdxvN4uUJ2HAfYvJZE97uBFMhw7rf3ij207DgX2LyW/vd0yZU8M6fpeEUfmJ2HAfYvJZA97umRaBHdNv7xR7CdhwN24nJZeDumRaOHdZ+8f+E7DgR3F5LZ+zl0xMyjubT5vGyhOw4KfuIyWcuAMvGEZ0v4iv8ALTsOBfYnJZy73IHjGM4j2e+K+onYcHr5NBDGcExjIUOTgAx1vpen7a53t1rSmiQkLAA0AKAFQD6IE1vYgJdqDIGoICCp/NmQDdGpBJvQOnFA4ulBPRtzUCHwdnQB2tQW7a1AFtv9UA4IJpwv6EFNbcgAzsQSGIMlPYgkBA3sQDYaBFiAaxA5D8EEfVBVSBDRcgrPm5yBC7+iCS21BX0QD0E02beKgAECN96Cy7s6EBnQM5kCpQNgwu6UESwuQFPYgJ4IBptzIB78EBXhqQVq1IJAwQVLDUgOjHoQTUgqhAStzoExqBFqCvp0oJPQgCbMyC2OwQQ423hBTneUXOzoJBtvCAdoQAQUPggnXcgOm+5BVOKCWjFAHSgBpQW1yBDSgH57+aglxuvvQTXjf8yDIgnOMUDYgf1QBu0IJQDxZ/RBTW7SQYygb9NzkDZfpQXJAMagJ4XIIccECb8EAdGtA2/DpQLa9AmIMrXbSQJAE3oHSgj6uzecgp2jWgA23S1BTf0oJQS53YgTb0DeUFVWoIfo5yALsLnZ0Dqw1oKB2mgGbWoBvwQSgGOxQFe0kFB/YgJ/MgkOQVPaSAOi7oQSdCCp4II6cfmQWXICpAB2PNQTNAPQDb0A/RegNV3SgHbWoG53Z0oJJs/qgbSgTTtNAM2tQOraaCm5kEf2oGEFNKCUBozoKP6UETQW04oInjf0IMhZ2oDMgSCWjsQBYgALc93Qgp21iCNrkDOhAIFmQNulASx1IBmlAE2aEFM7AghA5IBBUhsEE7XIKcNpIIkgyBmKDHwXkKD/2Q==\"","export default __webpack_public_path__ + \"static/media/companionSettings.49200994.svg\";","import React from 'react'\r\nimport classes from './companion.module.css'\r\nimport unnamed from './unnamed.jpg'\r\nimport threeDots from './companionSettings.svg'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\nconst Companion = ({companion, setActive}) => {\r\n    const online = useSelector(state => state.user.dialogs.find((dialog) => (dialog.id === state.user.currentDialog))?.other_members[0].user_status)\r\n    const active = useSelector(state => state.companion.active)\r\n    const talksIsActive = useSelector(state => state.companion.talksIsActive)\r\n    const getAvatar = (id) => {\r\n        return id ? '/get_file?file_id=' + id : unnamed\r\n    }\r\n    const dispatch = useDispatch()\r\n\r\n    const onlineStatus = () => {\r\n        if(companion?.other_members.length === 1) {\r\n            if(online){\r\n                return 'online'\r\n                // if(document.visibilityState === 'hidden') return 'inactive'\r\n                // else return 'online'\r\n            } else {\r\n                if(companion?.other_members[0].date_visit) return 'last visit on ' + companion.other_members[0].date_visit\r\n                else return 'last seen recently'\r\n            }\r\n        } else return ''\r\n    }\r\n\r\n    const toggleCompanionMenu = (e) => {\r\n        e.stopPropagation()\r\n        active ? dispatch({type: 'setCompanionDisabled'}) : dispatch({type: 'setCompanionActive'})\r\n    }\r\n\r\n    const rightMenuHandler = () => {\r\n        setActive(active => !active)\r\n        setTimeout(() => dispatch({type: 'setTalksActive'}),300)\r\n    }\r\n\r\n    const blockPerson = () => {\r\n        console.log('coming soon!')\r\n    }\r\n\r\n    const checkProfile = () => {\r\n        if(talksIsActive){\r\n            dispatch({type: 'setTalksDisabled'})\r\n            setActive(true)\r\n        } else {\r\n            dispatch({type: 'setTalksActive'})\r\n            setActive(false)\r\n        }\r\n    }\r\n    return (\r\n        <div className={classes.companion} style={companion?.other_members.length ? {display: 'flex'} : {display: 'none'} }>\r\n            <div className={classes.companionInfo}>\r\n            <div className={classes.avatar}><img alt='' src={companion?.other_members.length === 1? getAvatar(companion.other_members[0].avatar_id) : unnamed}/></div>\r\n                <div><h2 style={{marginLeft: companion?.other_members?.length ? '' : '15px'}}>{companion?.other_members?.length? companion?.other_members.length === 1? companion?.other_members[0].name :'Название группового разговора': 'Выберите диалог'}</h2>\r\n                <p>{onlineStatus()}</p></div>\r\n            </div>\r\n            <div className={classes.companionButtons}>\r\n                <button style={{paddingBottom: '3px'}} className={classes.talkButton} onClick={toggleCompanionMenu}><img height={30} src={threeDots}/></button>\r\n                <div style={{display: active ? 'flex': 'none'}} className={classes.dropDownMenu} onClick={e => e.stopPropagation()}>\r\n                    <button className={classes.companionButtonsItem} onClick={checkProfile}>Profile</button>\r\n                    <button className={classes.companionButtonsItem} onClick={blockPerson}>Block</button>\r\n                </div>\r\n                <button className={classes.talkButton} onClick={rightMenuHandler}>Talks →</button>\r\n            </div>\r\n            \r\n        </div>\r\n            \r\n    )\r\n}\r\n\r\n// {\r\n//     id: int,\r\n//     last_message: str,\r\n//     other_members: [{\r\n//         avatar_id: int or null,\r\n//         name: str,\r\n//         user_status: bool,\r\n//         date_visit: date\r\n//     }]\r\n// }\r\n\r\nexport default Companion\r\n","export default __webpack_public_path__ + \"static/media/attach.fd096489.svg\";","import React, {useState, useEffect, useRef} from 'react'\r\nimport classes from './MainWindow.module.css'\r\nimport MessageList from '../MessageList/messageList'\r\nimport Companion from '../Companion/Companion'\r\nimport {useSelector, useDispatch} from 'react-redux'\r\nimport attach from './attach.svg'\r\n \r\nconst MainWindow = ({companion, sendMessage,active, setActiveTalkMenu, getMessages}) => {\r\n    const dispatch = useDispatch()\r\n    const textareaRef = useRef(null)\r\n    const [messageText, setMessageText] = useState('')\r\n    const user = useSelector(state => state.user)\r\n    const attachIsActive = useSelector(state => state.attachMenu.active)\r\n\r\n    const sendMessageLocal = (e) => {\r\n        e.preventDefault()\r\n        setMessageText('');\r\n        if(messageText !== '')sendMessage(messageText)\r\n    }\r\n\r\n    const onEnterPress = (e) => {\r\n        if(e.code === 'Enter'){\r\n            sendMessageLocal(e)\r\n        }\r\n    }\r\n\r\n    const toggleAttachMenu = (e) => {\r\n        e.preventDefault()\r\n        attachIsActive? dispatch({type: \"setAttachDisabled\"}):dispatch({type: 'setAttachActive'})\r\n    }\r\n\r\n    /* UI */\r\n    useEffect( () => {\r\n        textareaRef.current.style.height = \"0px\";\r\n        const scrollHeight = textareaRef.current.scrollHeight;\r\n        textareaRef.current.style.height = scrollHeight + \"px\";\r\n    }, [messageText])\r\n    /* UI */\r\n\r\n    const mediaHandler = (e) => {\r\n        e.stopPropagation()\r\n        console.log('media handler clicked!!!')\r\n    }\r\n\r\n    const fileHandler = (e) => {\r\n        e.stopPropagation()\r\n        console.log('file loader clicked!')\r\n    }\r\n\r\n    return (\r\n        <div className={classes.dialogWindow}>\r\n            <Companion companion={companion} setActive={setActiveTalkMenu}/>\r\n            <MessageList active={active} getMessages={getMessages}/>\r\n            <form style={{marginInline: active? '15px' : '15%', visibility: user.currentDialog === -1 ? 'hidden' : 'visible'}} className={classes.txtArea}>\r\n                <div className={classes.wInputContainer} onClick={e => e.stopPropagation()}>\r\n                    <textarea id='input' ref={textareaRef} className={classes.wrapper} placeholder=\"Type a message\" value={messageText} onKeyDown={onEnterPress} onChange={(e) => (setMessageText(e.target.value))}></textarea>\r\n                    <button onClick={toggleAttachMenu} className={classes.attachButton}><img className={classes.inputAttachment} src={attach} alt=''/></button>\r\n                    <div style={{display: attachIsActive ? 'flex' : 'none'}} className={classes.dropDownMenu} >\r\n                        <button onClick={mediaHandler} className={classes.dropDownMenuItem}>Photo or Video</button>\r\n                        <button onClick={fileHandler} className={classes.dropDownMenuItem}>File</button>\r\n                    </div>\r\n                </div>\r\n                <button style={{display: 'none'}} className={classes.sendButton} onClick={(e) => (sendMessageLocal(e))}>Send</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MainWindow","import React from 'react'\r\nimport classes from './talkItem.module.css'\r\nimport {useDispatch} from 'react-redux'\r\n\r\nconst TalkItem = ({id, name, item, current, onclick}) => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const sendTalkID = () => {\r\n        onclick(item.id)\r\n        dispatch({type: 'setCurrentTalk', payload: item.id})\r\n    }\r\n\r\n    return (\r\n        <div className={current ? classes.talkItem + ' ' + classes.currentTalkItem : classes.talkItem} /*onClick={sendTalkID}*/>\r\n            {name}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TalkItem\r\n","export default __webpack_public_path__ + \"static/media/arrowBack.44d5abd3.svg\";","import React from 'react'\r\nimport classes from './talks.module.css'\r\nimport TalkItem from './talksItem' \r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport unnamed from './unnamed.jpg'\r\nimport arrowBack from './arrowBack.svg'\r\nimport { Talk } from '../../../constructor'\r\n\r\nconst Talks = ({ current, setTalk, createTalk, currentDialog, active, setActive}) => {\r\n    const dispatch = useDispatch()\r\n    const talks = useSelector(state => state.talks.talks)\r\n    const talksIsActive = useSelector(state=> state.companion.talksIsActive)\r\n    const companion = useSelector(state => state.user.dialogs.find(dialog => dialog.id === state.user.currentDialog)?.other_members[0])\r\n    \r\n    const talkCreator = async () => {\r\n        let res = await createTalk('New Talk!', currentDialog)\r\n        dispatch({type: 'setTalks', payload: [...talks, new Talk(res.id, \"New Talk!\", '27.09.2021')]})\r\n        dispatch({type: 'setCurrentTalk', payload: res.id})\r\n        dispatch({type: 'setLastTalk', payload: res.id})\r\n    }\r\n    const rightMenuHandler = () => {\r\n        setActive(false)\r\n        setTimeout(() => dispatch({type: 'setTalksActive'}),300)\r\n    }\r\n    \r\n    if(talksIsActive) return (\r\n        <div className={active ? classes.talks : classes.talks} style={active ? {width: '35%'} : {width: '0%', border: 'none'}}>\r\n            <button onClick={talkCreator} className={classes.talksHead}>Search</button>\r\n            <div className={classes.talksItems}>\r\n            <div className={classes.noTalkItem}>Coming soon!</div>\r\n                {talks ? talks.map((talk) => <TalkItem   \r\n                                                key={talk.id}\r\n                                                id={talk.id}\r\n                                                name={talk.title}\r\n                                                item={talk}\r\n                                                current={current === talk.id}\r\n                                                onclick={setTalk} />) \r\n            : <div className={classes.noTalkItem}>Ещё не заведено ни одного разговора</div>}\r\n            </div>\r\n        </div>\r\n    )\r\n    else return (\r\n        <div className={active ? classes.talks : classes.talks} style={active ? {width: '35%'} : {width: '0%', border: 'none'}}>\r\n            <button onClick={rightMenuHandler} className={classes.backButton}><img  height={45} src={arrowBack}/> Back to dialog</button>\r\n            <div className={classes.companionInfo}>\r\n                \r\n                <img style={{borderRadius: '75%', marginLeft: '10px'}} src={companion.avatar_id ? '/get_file?file_id=' + companion.avatar_id : unnamed} height={45} width={45} alt='' title='да иди в жопу дима я задолбался это делать'/>\r\n                <div className={classes.companionInfoItem}>\r\n                    <h2>Name</h2>\r\n                    <p>{companion.name}</p>\r\n                </div>\r\n                <div className={classes.companionInfoItem}>\r\n                    <h2>Email</h2>\r\n                    {/* <p>{companion.email}</p> */}\r\n                    <p>dimalox@gmail.ru</p>\r\n                </div>\r\n                <div className={classes.companionInfoItem}>\r\n                    <h2>Age</h2>\r\n                    {/* <p>{companion.age}</p> */}\r\n                    <p>13</p>\r\n                </div>\r\n                <div className={classes.companionInfoItem}>\r\n                    <h2>Bio</h2>\r\n                    {/* <p>{companion.bio}</p> */}\r\n                    <p>Front-End Developer from safonovo</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Talks","export default \"data:image/jpeg;base64,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\"","const params = { \r\n    snow: {\"particles\": {\r\n            \"number\": {\r\n                \"value\": 100,\r\n                \"density\": {\r\n                    \"enable\": true\r\n                }\r\n            },\r\n            \"size\": {\r\n                \"value\": 10,\r\n                \"random\": true\r\n            },\r\n            \"opacity\": {\r\n              \"value\": 0.5,\r\n              \"random\": false,\r\n              \"anim\": {\r\n                \"enable\": false,\r\n                \"speed\": 1,\r\n                \"opacity_min\": 0.1,\r\n                \"sync\": false\r\n              }\r\n            },\r\n            \"move\": {\r\n                \"direction\": \"bottom\",\r\n                \"out_mode\": \"out\",\r\n                \"speed\": 1,\r\n                \"bounce\": false\r\n            },\r\n            \"line_linked\": {\r\n                \"enable\": false\r\n            }\r\n        },\r\n        \"interactivity\": {\r\n            \"events\": {\r\n                \"onclick\": {\r\n                    \"enable\": false,\r\n                    \"mode\": \"push\"\r\n                }\r\n            }\r\n        }},\r\n        particles: {\"particles\": {\r\n            \"number\": {\r\n              \"value\": 80,\r\n              \"density\": {\r\n                \"enable\": false,\r\n                \"value_area\": 800\r\n              }\r\n            },\r\n            \"color\": {\r\n              \"value\": \"#ffffff\"\r\n            },\r\n            \"shape\": {\r\n              \"type\": \"circle\",\r\n              \"stroke\": {\r\n                \"width\": 0,\r\n                \"color\": \"#000000\"\r\n              },\r\n              \"polygon\": {\r\n                \"nb_sides\": 5\r\n              }\r\n            },\r\n            \"opacity\": {\r\n              \"value\": 0.5,\r\n              \"random\": false,\r\n              \"anim\": {\r\n                \"enable\": false,\r\n                \"speed\": 1,\r\n                \"opacity_min\": 0.1,\r\n                \"sync\": false\r\n              }\r\n            },\r\n            \"size\": {\r\n              \"value\": 4,\r\n              \"random\": true,\r\n              \"anim\": {\r\n                \"enable\": false,\r\n                \"speed\": 10,\r\n                \"size_min\": 0.1,\r\n                \"sync\": false\r\n              }\r\n            },\r\n            \"line_linked\": {\r\n              \"enable\": true,\r\n              \"distance\": 100,\r\n              \"color\": \"#fffff1\",\r\n              \"opacity\": 0.2,\r\n              \"width\": 0.5\r\n            },\r\n            \"move\": {\r\n              \"enable\": true,\r\n              \"speed\": 1,\r\n              \"direction\": \"none\",\r\n              \"random\": false,\r\n              \"straight\": false,\r\n              \"out_mode\": \"out\",\r\n              \"bounce\": false,\r\n              \"attract\": {\r\n                \"enable\": false,\r\n                \"rotateX\": 600,\r\n                \"rotateY\": 1200\r\n              }\r\n            }\r\n          },\r\n          \"interactivity\": {\r\n            \"detect_on\": \"canvas\",\r\n            \"events\": {\r\n              \"onhover\": {\r\n                \"enable\": true,\r\n                \"mode\": \"bubble\"\r\n              },\r\n              \"onclick\": {\r\n                \"enable\": true,\r\n                \"mode\": \"push\"\r\n              },\r\n              \r\n              \"resize\": true\r\n            },\r\n            \"modes\": {\r\n              \"grab\": {\r\n                \"distance\": 126,\r\n                \"line_linked\": {\r\n                  \"opacity\": 1\r\n                }\r\n              },\r\n              \"bubble\": {\r\n                \"distance\": 160,\r\n                \"size\": 6,\r\n                \"duration\": 2,\r\n                \"opacity\": 8,\r\n                \"speed\": 3\r\n              },\r\n              \"repulse\": {\r\n                \"distance\": 200,\r\n                \"duration\": 0.4\r\n              },\r\n              \"push\": {\r\n                \"particles_nb\": 2\r\n              },\r\n              \"remove\": {\r\n                \"particles_nb\": 2\r\n              }\r\n            }\r\n          },\r\n          \"retina_detect\": true},\r\n          coolSnow: {\r\n            \"particles\": {\r\n              \"number\": {\r\n                \"value\": 100,\r\n                \"density\": {\r\n                  \"enable\": true,\r\n                  \"value_area\": 800\r\n                }\r\n              },\r\n              \"color\": {\r\n                \"value\": \"#ffffff\"\r\n              },\r\n              \"shape\": {\r\n                \"type\": \"circle\",\r\n                \"stroke\": {\r\n                  \"width\": 0,\r\n                  \"color\": \"#000000\"\r\n                },\r\n                \"polygon\": {\r\n                  \"nb_sides\": 5\r\n                },\r\n                \"image\": {\r\n                  \"src\": \"img/github.svg\",\r\n                  \"width\": 100,\r\n                  \"height\": 100\r\n                }\r\n              },\r\n              \"opacity\": {\r\n                \"value\": 0.125,\r\n                \"random\": true,\r\n                \"anim\": {\r\n                  \"enable\": true,\r\n                  \"speed\": 0.1,\r\n                  \"opacity_min\": 0.01,\r\n                  \"sync\": false\r\n                }\r\n              },\r\n              \"size\": {\r\n                \"value\": 12,\r\n                \"random\": false,\r\n                \"anim\": {\r\n                  \"enable\": true,\r\n                  \"speed\": 40,\r\n                  \"size_min\": 5,\r\n                  \"sync\": false\r\n                }\r\n              },\r\n              \"line_linked\": {\r\n                \"enable\": false,\r\n                \"distance\": 150,\r\n                \"color\": \"#ffffff\",\r\n                \"opacity\": 0.4,\r\n                \"width\": 1\r\n              },\r\n              \"move\": {\r\n                \"enable\": true,\r\n                \"speed\": 1.2,\r\n                \"direction\": \"bottom\",\r\n                \"random\": false,\r\n                \"straight\": false,\r\n                \"out_mode\": \"out\",\r\n                \"bounce\": false,\r\n                \"attract\": {\r\n                  \"enable\": false,\r\n                  \"rotateX\": 600,\r\n                  \"rotateY\": 1200\r\n                }\r\n              }\r\n            },\r\n            \"interactivity\": {\r\n              \"detect_on\": \"canvas\",\r\n              \"events\": {\r\n                \"onhover\": {\r\n                  \"enable\": false,\r\n                  \"mode\": \"repulse\"\r\n                },\r\n                \"onclick\": {\r\n                  \"enable\": true,\r\n                  \"mode\": \"push\"\r\n                },\r\n                \"resize\": true\r\n              },\r\n              \"modes\": {\r\n                \"grab\": {\r\n                  \"distance\": 400,\r\n                  \"line_linked\": {\r\n                    \"opacity\": 1\r\n                  }\r\n                },\r\n                \"bubble\": {\r\n                  \"distance\": 400,\r\n                  \"size\": 40,\r\n                  \"duration\": 2,\r\n                  \"opacity\": 8,\r\n                  \"speed\": 3\r\n                },\r\n                \"repulse\": {\r\n                  \"distance\": 200,\r\n                  \"duration\": 0.4\r\n                },\r\n                \"push\": {\r\n                  \"particles_nb\": 4\r\n                },\r\n                \"remove\": {\r\n                  \"particles_nb\": 2\r\n                }\r\n              }\r\n            },\r\n            \"retina_detect\": true\r\n          }\r\n}\r\n\r\nexport default params;","import React, {useState} from 'react'\r\nimport classes from './workspace.module.css'\r\nimport MainWindow from '../ChatWindow/mainDialogWindow'\r\nimport Talks from '../../talks/talks'\r\nimport Particles from 'react-particles-js'\r\nimport params from '../../../../particlesParams'\r\n\r\nconst WorkSpace = ({id, companion, currentTalk, getMsg, sendMessage, createTalk}) => {\r\n    const [activeMenu, setActiveRightMenu] = useState(false)\r\n    const getMessages = (id) => {\r\n        getMsg(id)\r\n    }\r\n\r\n    return (\r\n        <div className={classes.workTree} id='rightColumn'>\r\n            <Particles className={classes.particles}\r\n            params={params.coolSnow}/>\r\n            <MainWindow companion={companion} sendMessage={sendMessage} active={activeMenu} setActiveTalkMenu={setActiveRightMenu} getMessages={getMsg}/>\r\n            <Talks current={currentTalk} setTalk={getMessages} createTalk={createTalk} currentDialog={id} active={activeMenu} setActive={setActiveRightMenu}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default WorkSpace;","import { io } from 'socket.io-client'\r\n\r\nexport const socket = io();","export default __webpack_public_path__ + \"static/media/meow.1d6ccc8c.mp3\";","import React, { useState, useEffect } from 'react';\r\nimport './App.css';\r\nimport DialogsField from './components/messenger/dialogs/dialogField/DialogField';\r\nimport WorkSpace from './components/messenger/chatField/chat/workSpace/workSpace';\r\nimport axios from 'axios'\r\nimport { socket } from './socket'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Talk, Message, Dialog, Member, Separator } from './components/constructor';\r\nimport { afkManager } from './afkManager';\r\nimport { changeSearchInput } from './components/store/searchReducer';\r\nimport useSound from 'use-sound'\r\nimport meow from './imagesAndSounds/meow.mp3'\r\n\r\nfunction Messenger({ setLoggedOut }) {\r\n\r\n  const dispatch = useDispatch()\r\n  const [meowSound] = useSound(meow, {volume: 0.03})\r\n\r\n  \r\n  const user = useSelector(state => state.user)\r\n  const messages = useSelector(state => state.messages.messages)\r\n  const dialogs = useSelector(state => state.user.dialogs)\r\n  const talks  = useSelector(state => state.talks.talks)\r\n  const currentTalk = useSelector(state => state.talks.currentTalk)\r\n  const lastTalk = useSelector(state => state.talks.lastTalk)\r\n  const currentDialog = useSelector(state => state.user.currentDialog)\r\n  \r\n  /* UI */\r\n  const blurInput = () => {\r\n    dispatch(changeSearchInput(''))\r\n    dispatch({ type: 'DISABLE_NAMES' })\r\n    dispatch({ type: 'DISABLE_MENU' })\r\n    dispatch({ type: 'setCompanionDisabled' })\r\n    dispatch({ type: \"setAttachDisabled\"})\r\n  }\r\n  /* UI ends */\r\n  const [res, setResponse] = useState(null)\r\n  const [userStatus, setUserStatus] = useState(null)\r\n  const [newDialog, setNewDialog] = useState(null)\r\n  const [newTalk, setNewTalk] = useState(null)\r\n\r\n  /* прослушивание событий с бекенда */\r\n  useEffect(() => {\r\n    socket.on(\"socket_info\", res => {\r\n      setResponse(res) \r\n    })\r\n    socket.on('socket_status', res => {\r\n      setUserStatus(res)\r\n    })\r\n    socket.on(\"new_dialog\", res => {\r\n      setNewDialog(res)\r\n    })\r\n    socket.on(\"new_talk\", res => {\r\n      setNewTalk(res)\r\n    })\r\n  }, []) \r\n\r\n  /* Добавление диалога в режиме real time */\r\n  useEffect(() => {\r\n    if(newDialog !== null) {\r\n      const _dialogs = [...dialogs, new Dialog(newDialog.dialog_id, 'There is no messages', [new Member(newDialog.other_members[0].avatar_id, newDialog.other_members[0].name, newDialog.other_members[0].user_status)])]\r\n      dispatch({ type: 'setUserDialogs', payload: _dialogs })\r\n    }\r\n  }, [newDialog, dispatch] )\r\n  /* Обработка добавления нового разговора у другого человека */\r\n  useEffect(() => {\r\n    if(newTalk !== null){\r\n      if(currentDialog === newTalk.dialog_id){\r\n        const _talks = [...talks, new Talk(newTalk.talk_id, newTalk.title, newTalk.date)]\r\n        dispatch({type: 'setTalks', payload: _talks})\r\n        dispatch({type: 'setCurrentTalk', payload: newTalk.talk_id})\r\n        dispatch({type: 'setLastTalk', payload: newTalk.talk_id})\r\n        dispatch({type: 'setMessages', payload: [...messages, new Separator(newTalk.title)]})\r\n      }\r\n    }\r\n  }, [newTalk, dispatch])\r\n  /* Обновление статуса пользователя */\r\n  useEffect(() => {\r\n    if(userStatus !== null){\r\n      const _dialogs = dialogs.map((dialog) => {\r\n        if(dialog.id === userStatus.dialog_id){\r\n          return {...dialog, other_members: dialog.other_members.map( (item)=> {return {...item, user_status: userStatus.user_status}}) } \r\n        } else return dialog\r\n      })\r\n      dispatch({ type: 'setUserDialogs', payload: _dialogs })\r\n    }\r\n  }, [userStatus, dispatch])\r\n\r\n\r\n  /* Обработка ответа на socket_info */\r\n  useEffect(() => {\r\n    if(res !== null){\r\n      const _dialog = dialogs.map( (dialog) => {\r\n        if (dialog.id === res.dialog_id) {\r\n          return { ...dialog, unread_count: res.dialog_id !== currentDialog ? res.unread_count : 0, last_message: res.value}\r\n        }\r\n        else return dialog\r\n      })\r\n      dispatch({ type: 'setUserDialogs', payload: _dialog })\r\n      if(currentDialog === res.dialog_id)dispatch({type: 'setMessages', payload: [ new Message(res.message_id, res.sender, res.value, res.date), ...messages] })\r\n      if(currentDialog !== res.dialog_id || document.visibilityState === 'hidden')meowSound()\r\n      socket.emit('read_messages', {dialog_id :user.currentDialog})\r\n    }\r\n  }, [res])\r\n\r\n  const getMessages = async (talkId) => {\r\n    let response = await axios({\r\n      method: 'get',\r\n      url: \"/get_messages\",\r\n      params: {\r\n        talk_id: talkId\r\n      }\r\n    })\r\n    if(response.data.messages !== undefined){\r\n      return new Promise((resolve, reject) => {\r\n        resolve(response.data.messages.reverse())\r\n      })\r\n    } else {\r\n      return new Promise((resolve, reject) => {\r\n        resolve(null)\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  const getTalks = async (id) => {\r\n    let response = await axios({\r\n      method: 'get',\r\n      url: '/get_talks',\r\n      params: {\r\n        dialog_id: id\r\n      }\r\n    })\r\n    return new Promise((resolve, reject) => {\r\n      resolve(response.data)\r\n    })\r\n  }\r\n\r\n  const createTalk = async (name, dialogID) => {\r\n    let response = await axios({\r\n      method: 'POST',\r\n      url: '/create_talk',\r\n      data: {\r\n        title: name,\r\n        dialog_id: dialogID\r\n      }\r\n    })\r\n      return new Promise((resolve, reject) => {\r\n        resolve(response.data)\r\n      })\r\n  }\r\n\r\n  const createDialog = (name, dialogID) => {\r\n    dispatch({ type: 'setUserDialogs', payload: [...dialogs, new Dialog(dialogID, null, [new Member(null, name, 0)])] }) \r\n  }\r\n\r\n  const pushMessage = (messageText) => {\r\n    axios({\r\n      method: 'post',\r\n      url: \"/send_message\",\r\n      data: {\r\n        sender_id: user.id,\r\n        talk_id: lastTalk,\r\n        dialog_id: currentDialog,\r\n        message_type: 'text',\r\n        value: messageText\r\n      }\r\n    }).then(res => {\r\n      if (!res.data.status) {\r\n        return\r\n        // dispatch({ type: 'setMessages', payload: [{ sender: user.id, value: messageText, date: res.data.date, id: res.data.id }, ...messages] })\r\n        // console.log('message received')\r\n      }\r\n    })\r\n      .catch(error => console.log(error))\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\" onClick={() => (blurInput())}>\r\n      <DialogsField \r\n        dialogs={dialogs}\r\n        setLoggedOut={setLoggedOut}\r\n        getTalks={getTalks}\r\n        getMessages={getMessages}\r\n        createDialog={createDialog}\r\n        createTalk={createTalk}\r\n      />\r\n\r\n      <WorkSpace \r\n        id={currentDialog}\r\n        companion={dialogs.find(Dialog => (Dialog.id === currentDialog))}\r\n        currentTalk={currentTalk} \r\n        getMsg={getMessages}\r\n        sendMessage={pushMessage}\r\n        createTalk={createTalk} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Messenger;","import React from 'react'\r\nimport classes from './Loader.module.css'\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <div className={classes.ldsDualDing}>.</div>\r\n    )\r\n}\r\n\r\nexport default Loader\r\n","import React, {useState} from 'react'\r\nimport axios from 'axios'\r\nimport {Link, useHistory} from 'react-router-dom'\r\n\r\nconst RegPage = ({setFlash}) => {\r\n    const [logPassword, setForm] = useState({\r\n        name: '',\r\n        age: '',\r\n        login: '',\r\n        password: '',\r\n        password2: ''\r\n    })\r\n    const [nameValid, setNameValid] = useState({\r\n        length: false,\r\n        nameIsOccupied: false\r\n    })\r\n    const [warning, setWarning] = useState('')\r\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    const history = useHistory()\r\n\r\n    const checkName = (event) => {\r\n        setForm({...logPassword, name: event.target.value })\r\n        axios({\r\n            method: 'get',\r\n            url: '/check_name',\r\n            params: {\r\n                userName: event.target.value\r\n            },\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.54 Safari/537.36'\r\n            }\r\n        }).then(res => {\r\n            setNameValid({...nameValid, nameIsOccupied: res.data.status})\r\n        }).catch(error => alert(error))\r\n    }\r\n\r\n\r\n    const send = (event) => {\r\n        event.preventDefault()\r\n        axios({\r\n            method: 'post',\r\n            url: '/register_new_user',\r\n            onUploadProgress: () => {\r\n                //history.push({pathname: '/login', state: {flash: 'Confirm your mail and Log in'}})\r\n            },\r\n            data: {\r\n                userName: logPassword.name,\r\n                email: logPassword.login,\r\n                password: logPassword.password\r\n              },\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n                //'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.54 Safari/537.36'\r\n            }\r\n        }).then(res => {\r\n            let data = res.data\r\n            if(data.status === 1){\r\n                setWarning('Name or email already engaged')\r\n            }\r\n            if(data.status === 0){\r\n                history.push({pathname: '/login', state: {flash: 'Confirm your mail and Log in'}})\r\n                setFlash('Confirm your mail and Log in')\r\n            }   \r\n            setFlash(data.info)\r\n            console.log(data)\r\n        }).catch(error => alert(error))\r\n}   \r\n    return (\r\n        <form className=\"authForm regForm\" method='POST'>\r\n            <h2> Registration </h2>\r\n                {warning}\r\n                <input className='form-input' placeholder='Your nickname' value={logPassword.name} onChange={checkName} required style={{color: nameValid.nameIsOccupied || logPassword.name.length > 19 ? 'red' : '#5E6472'}}></input>\r\n                <input className=\"form-input\" placeholder='Your age' value={logPassword.age} onChange={(e) => setForm({...logPassword, age: e.target.value})} required style={{color: logPassword.age < 12 || logPassword.age > 110 ? '#cc0000' : \"#5E6472\"}}></input>\r\n                <input className=\"form-input\" placeholder='Your Email' value={logPassword.login} onChange={(e) => (setForm({...logPassword, login: e.target.value}))} required={true} style={{color: re.test(String(logPassword.login).toLowerCase()) && logPassword.login !== '' ? '#5E6472' : 'red'}}></input>\r\n                <input className=\"form-input\" placeholder='Your Password' type='password' value={logPassword.password} onChange={(e) => setForm({...logPassword, password: e.target.value})} required={true}></input>\r\n                <input className=\"form-input\" placeholder='Repeat password' type='password' value={logPassword.password2} onChange={(e) => setForm({...logPassword, password2: e.target.value})} required={true}></input>\r\n                <p style={{color: '#fffff0', marginBottom: '0'}}>\r\n                {nameValid.nameIsOccupied ? 'This name is already taken' : \"Password contains at least 8 characters \"}\r\n                </p>\r\n                {(logPassword.password !== logPassword.password2 || (logPassword.password === '' && logPassword.password2 === '')) \r\n                    ? <p style={{color: 'red', marginBottom: '0'}}>Password mismatch!</p> \r\n                    : <p style={{color: 'green', marginBottom: '0'}}>Password match</p>}\r\n                <div className=\"buttons\">\r\n                    <Link to={'/login'} className=\"LoginPageButton\" \r\n                    style={{margin: '2%',                                  \r\n                            width: '100%', \r\n                            padding: '15px'}} \r\n                            type='submit'\r\n                            onClick={send}\r\n                            disabled={(logPassword.password !== logPassword.password2 || (logPassword.password === '' && logPassword.password2 === '') || \r\n                            (logPassword.name === '') || logPassword.age < 12) || \r\n                            !re.test(String(logPassword.login).toLowerCase()) ||\r\n                            logPassword.password.length < 8 || nameValid.nameIsOccupied || logPassword.name.length > 19}>Register now</Link>\r\n                </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default RegPage\r\n","import React, {useState} from 'react'\r\nimport './loginpage.css'\r\nimport {useLocation} from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport {socket} from '../../socket'\r\nimport {useDispatch} from 'react-redux'\r\n\r\nconst LogIn = ({setLoggedIn}) => {\r\n    const [logPassword, setForm] = useState({\r\n        login: '',\r\n        password: ''\r\n    })\r\n\r\n    const dispatch = useDispatch()\r\n    const [forgotSmth, setForgotsmth] = useState('')\r\n    const location = useLocation()\r\n    \r\n    const login = (e) => {\r\n        e.preventDefault()\r\n        axios({\r\n            method: 'post',\r\n            url: '/authorize',\r\n            data: {\r\n                email: logPassword.login.trim(),\r\n                password: logPassword.password\r\n            },\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.54 Safari/537.36'\r\n            }\r\n        }).then(res => {\r\n            if(!res.data.status){\r\n                setLoggedIn(true)\r\n                console.log(res.data)\r\n                dispatch({type: 'setUser', payload: \r\n                    {id: res.data.id,\r\n                    name: res.data.name,\r\n                    photoURL: res.data.avatar_id ? res.data.avatar_id: 0,\r\n                    dialogs: res.data.dialogs}})\r\n                    socket.emit(\"authorize\", {id: res.data.id})\r\n            }\r\n            if(res.data.status === 1){\r\n                if(res.data.info === 'user not found'){\r\n                    setForgotsmth('Incorrect login or password')\r\n                }\r\n                else setForgotsmth(res.data.info)\r\n            }\r\n        }).catch(error => console.log(error))\r\n    }\r\n\r\n    const passwordRecovery = (event) => {\r\n        event.preventDefault()\r\n        console.log(logPassword.password)\r\n    }\r\n\r\n    return (\r\n        <div className='authFormDiv'>\r\n            <form className=\"authForm\">\r\n                <h2> LogIn </h2>\r\n                <p style={{margin: 0, padding: 0, color: '#fffff1'}}>{location.state?.flash ? location.state.flash : ''}</p>\r\n                <input className='form-input' placeholder='Email' value={logPassword.login} onChange={(e) => setForm({...logPassword, login: e.target.value })}></input>\r\n                <input className=\"form-input\" placeholder='Password' type='password' value={logPassword.password} onChange={(e) => setForm({...logPassword, password: e.target.value})}></input>\r\n                <p className='flashMessage'>{forgotSmth}</p>\r\n                <div className='buttons'>\r\n                    <button className=\"LoginPageButton\" onClick={(e) => (login(e))}>Log In</button>\r\n                    <button className=\"LoginPageButton\" onClick={() => (passwordRecovery())}>Forgot password?</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LogIn;\r\n","export default __webpack_public_path__ + \"static/media/logo.9821ec5d.png\";","import React, {useState, /*useEffect*/} from 'react'\r\nimport { Route, Link, Redirect, /*useLocation*/ } from 'react-router-dom'\r\nimport RegPage from './RegPage'\r\nimport LogIn from './logInPage'\r\nimport \"./loginpage.css\"\r\nimport Particles from 'react-particles-js'\r\nimport params from '../particlesParams'\r\nimport logo from '../images/logo.png'\r\n\r\nconst WelcomePage = ({setUser, setUserInfo}) => {\r\n    const [flashMsg, setFlashMsg] = useState('')\r\n\r\n    return (\r\n        <div>\r\n            <div className='loginPage'>\r\n            <Particles  className=\"particlesDiv\" \r\n                        params={params.particles}/>\r\n                <Route key={'/registration'} exact={true} path={'/registration'} component={() => (<RegPage setFlash={setFlashMsg}/>)} />\r\n                <Route key={'/login'} exact={true} path={'/login'} component={() => (<LogIn setLoggedIn={setUser} setFlash={setFlashMsg} flash={flashMsg}/>)}/>\r\n                <div className='loginPageAvatar'>\r\n                    <div className='loginLogo'><img src={logo} height='180' alt='logo'/></div>\r\n                    <div className='loginPageText'>\r\n                        <p>Talk is a new messenger with an advanced TALK system. Are you not with us yet? Register!</p>\r\n                        <Link to={'/registration'} className='LoginPageButton ButtonText regButton'>Register now!</Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <Redirect to={'/login'} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default WelcomePage\r\n","import React, {useState, useEffect} from 'react';\r\nimport axios from 'axios'\r\nimport './App.css';\r\nimport {Route, Switch, Redirect, BrowserRouter} from 'react-router-dom'\r\nimport Messenger from './messenger';\r\nimport Loader from './components/Loader';\r\nimport WelcomePage from './components/welcomepage/WelcomePage';\r\nimport {useDispatch} from 'react-redux'\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch()\r\n  const [userIsLoggedIn, setUserLoggedIn] = useState('loading')\r\n\r\n   useEffect( () => {    \r\n    axios({\r\n      method: 'get',\r\n      url: '/is_authorized',\r\n    }).then(res => {\r\n        console.log(res.data)\r\n        if(res.data.status === 0){\r\n            setUserLoggedIn(res.data.is_auth)\r\n            dispatch({type: 'setUser', payload: {\r\n              id: res.data.id,\r\n              name: res.data.name,\r\n              dialogs: res.data.dialogs ? res.data.dialogs : [],\r\n              photoURL: res.data.avatar_id\r\n            }})\r\n            // socket.emit(\"authorize\", {id: res.data.id})\r\n        }\r\n    }).catch(error => console.log(error))\r\n   }, [dispatch]);\r\n\r\n    \r\n  if(userIsLoggedIn === 'loading'){\r\n    return (<div style={{height: '100vh', backgroundColor: 'black'}}><Loader/></div>)\r\n  } else return (\r\n    <BrowserRouter>\r\n      {userIsLoggedIn ? \r\n      (\r\n        <Switch>\r\n          <Route key={'/talk'} exact={true} path={'/talk'} component={() =>( <Messenger setLoggedOut={setUserLoggedIn} active={!(userIsLoggedIn === 'loading')}/>)} />\r\n          <Redirect to={'/talk'} />\r\n        </Switch>\r\n      )\r\n      :\r\n      (\r\n        <Switch>\r\n          <WelcomePage setUser={setUserLoggedIn}/>\r\n        </Switch>\r\n      )}\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App","const defaultState = {\r\n    active: false\r\n}\r\n\r\nconst DISABLE_MENU = 'DISABLE_MENU'\r\nconst ABLE_MENU = 'ABLE_MENU'\r\n\r\nexport const settingsReducer = (state = defaultState, action) => {\r\n    switch(action.type){\r\n        case DISABLE_MENU: \r\n            return {...state, active: false}\r\n        case ABLE_MENU:\r\n            return {...state, active: true}\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport const disableMenu = () => ({type: DISABLE_MENU})\r\nexport const showMenu = () => ({type: ABLE_MENU})","const defaultState = {\r\n    photoURL: 0,\r\n    id: 0,\r\n    name: 'none',\r\n    bio: '',\r\n    dialogs: [],\r\n    currentDialog: -1\r\n}\r\n\r\nconst SET_USER = 'setUser'\r\nconst SET_USER_ID = 'setUserId'\r\nconst SET_USER_NAME = 'setUserName'\r\nconst SET_USER_DIALOGS = 'setUserDialogs'\r\nconst SET_USER_CURRENT_DIALOG = 'setCurrentDialog'\r\nconst SET_USER_PHOTO = 'setUserPhoto'\r\n\r\nexport const userReducer = (state = defaultState, action) => {\r\n    switch(action.type){\r\n        case SET_USER: \r\n            return {...state, id: action.payload.id, name: action.payload.name, photoURL: action.payload?.photoURL, dialogs: action.payload.dialogs ? action.payload.dialogs : []}\r\n        case SET_USER_ID:\r\n            return {...state, id: action.payload}\r\n        case SET_USER_NAME: \r\n            return {...state, name: action.payload}\r\n        case SET_USER_DIALOGS: \r\n            return {...state, dialogs: action.payload}\r\n        case SET_USER_CURRENT_DIALOG:\r\n            return {...state, currentDialog: action.payload}\r\n        case SET_USER_PHOTO:\r\n            return {...state, photoURL: action.payload}\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport const setUser = (payload) => ({type: SET_USER, payload})\r\nexport const setUserID = (payload) => ({type: SET_USER_ID, payload})\r\nexport const setUserName = (payload) => ({type: SET_USER_NAME, payload})\r\nexport const setUserDialogs = (payload) => ({type: SET_USER_DIALOGS, payload})\r\nexport const setUserCurrentDialog = (payload) => ({type: SET_USER_CURRENT_DIALOG, payload})\r\nexport const setUserPhoto = (payload) => ({type: SET_USER_PHOTO, payload})","const defaultState = {\r\n    messages: []\r\n}\r\n\r\nconst SET_MESSAGES = 'setMessages'\r\n\r\nexport const messagesReducer = (state = defaultState, action) => {\r\n    switch(action.type) {\r\n        case SET_MESSAGES:\r\n            return {...state, messages: action.payload}\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport const setMessages = (payload) => ({type: SET_MESSAGES, payload})","const defaultState = {\r\n    talks: [],\r\n    currentTalk: -1,\r\n    lastTalk: -1\r\n}\r\n\r\nconst SET_TALKS = 'setTalks'\r\nconst SET_CURRENT_TALK = 'setCurrentTalk'\r\nconst SET_LAST_TALK = 'setLastTalk'\r\n\r\nexport const talksReducer = (state = defaultState, action) => {\r\n    switch(action.type){\r\n        case SET_TALKS:\r\n            return {...state, talks: action.payload}\r\n        case SET_CURRENT_TALK:\r\n            return {...state, currentTalk: action.payload}\r\n        case SET_LAST_TALK: \r\n            return {...state, lastTalk: action.payload}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setTalks = (payload) => ({type: SET_TALKS, payload})\r\nexport const setCurrentTalk = (payload) => ({type: SET_CURRENT_TALK, payload})\r\nexport const setLastTalk = (payload) => ({type: SET_LAST_TALK, payload})","const defaultState = {\r\n    active: false,\r\n    talksIsActive: true\r\n}\r\n\r\nconst SET_ACTIVE = 'setCompanionActive'\r\nconst SET_DISABLED = 'setCompanionDisabled'\r\nconst SET_TALKS_ACTIVE = 'setTalksActive'\r\nconst SET_TALKS_DISABLED = 'setTalksDisabled'\r\n \r\nexport const companionReducer = (state = defaultState, action) => {\r\n    switch(action.type) {\r\n        case SET_ACTIVE:\r\n            return {...state, active: true}\r\n        case SET_DISABLED: \r\n            return {...state, active: false}\r\n        case SET_TALKS_ACTIVE: \r\n            return {...state, talksIsActive: true}\r\n        case SET_TALKS_DISABLED: \r\n            return {...state, talksIsActive: false}\r\n        default: return state\r\n    }\r\n}","const defaultState = {\r\n    active: true\r\n}\r\n\r\nconst SET_ATTACH_ACTIVE = 'setAttachActive'\r\nconst SET_ATTACH_DISABLED = \"setAttachDisabled\"\r\n\r\n\r\nexport const attachMenuReducer = (state = defaultState, action) => {\r\n    switch(action.type) {\r\n        case SET_ATTACH_ACTIVE:\r\n            return {...state, active: true}\r\n        case SET_ATTACH_DISABLED:\r\n            return {...state, active: false}\r\n        default: return state\r\n    }\r\n}","import { createStore, combineReducers } from \"redux\";\r\nimport { settingsReducer } from \"./settingsReducer\";\r\nimport { searchReducer } from './searchReducer'\r\nimport { userReducer } from \"./userReducer\";\r\nimport { messagesReducer } from \"./allMessagesReducer\";\r\nimport { talksReducer } from \"./talksReducer\";\r\nimport { UIReducer } from \"./UIReducer\";\r\nimport { companionReducer } from \"./companionMenuReducer\";\r\nimport { attachMenuReducer } from \"./attachMenuReducer\";\r\n\r\n// action = {type: '', payload: ''}\r\n// в type - тип изменения, в payload - сами данные, которые нужны чтоб изменить состояние\r\n\r\nconst rootReducer = combineReducers({\r\n    settings: settingsReducer,\r\n    search: searchReducer,\r\n    user: userReducer,\r\n    messages: messagesReducer,\r\n    talks: talksReducer,\r\n    UI: UIReducer,\r\n    companion: companionReducer,\r\n    attachMenu: attachMenuReducer\r\n})\r\n\r\nexport const store = createStore(rootReducer)","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { Provider } from 'react-redux'\r\n// import {createStore} from 'redux'\r\nimport {store} from './components/store/store'\r\n// import reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n// reportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBox\":\"Search_searchBox__1UN8S\",\"searchInput\":\"Search_searchInput__C1E6a\",\"dropDownList\":\"Search_dropDownList__30Ch4\",\"searchItem\":\"Search_searchItem__2waLf\",\"isOnline\":\"Search_isOnline__9KdFE\",\"searchImage\":\"Search_searchImage__2xxnc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"uisettings\":\"UISettings_uisettings__1VXO9\",\"fontChanger\":\"UISettings_fontChanger__17fUX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MessageList\":\"MessageList_MessageList__2p7Fr\",\"MessageListNoScroll\":\"MessageList_MessageListNoScroll__2Bqnu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"talkItem\":\"talkItem_talkItem__2LEVI\",\"currentTalkItem\":\"talkItem_currentTalkItem__3CtfP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"workTree\":\"workspace_workTree__ziAfF\",\"particles\":\"workspace_particles__bFWZn\"};"],"sourceRoot":""}